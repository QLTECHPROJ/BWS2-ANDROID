Index: app/src/main/java/com/brainwellnessspa/DashboardModule/Playlist/MyPlaylistsFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.brainwellnessspa.DashboardModule.Playlist;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.app.Dialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.graphics.PorterDuff;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.KeyEvent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Filter;\r\nimport android.widget.Filterable;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.ItemTouchHelper;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.brainwellnessspa.BWSApplication;\r\nimport com.brainwellnessspa.BillingOrderModule.Models.CardModel;\r\nimport com.brainwellnessspa.DashboardModule.Activities.AddAudioActivity;\r\nimport com.brainwellnessspa.DashboardModule.Activities.AddQueueActivity;\r\nimport com.brainwellnessspa.DashboardModule.Activities.MyPlaylistActivity;\r\nimport com.brainwellnessspa.DashboardModule.Models.AddToQueueModel;\r\nimport com.brainwellnessspa.DashboardModule.Models.ReminderStatusPlaylistModel;\r\nimport com.brainwellnessspa.DashboardModule.Models.SubPlayListModel;\r\nimport com.brainwellnessspa.DashboardModule.Models.SucessModel;\r\nimport com.brainwellnessspa.DashboardModule.Search.SearchFragment;\r\nimport com.brainwellnessspa.DashboardModule.TransparentPlayer.Fragments.TransparentPlayerFragment;\r\nimport com.brainwellnessspa.DownloadModule.Activities.DownloadsActivity;\r\nimport com.brainwellnessspa.EncryptDecryptUtils.DownloadMedia;\r\nimport com.brainwellnessspa.EncryptDecryptUtils.FileUtils;\r\nimport com.brainwellnessspa.R;\r\nimport com.brainwellnessspa.ReminderModule.Activities.ReminderActivity;\r\nimport com.brainwellnessspa.RoomDataBase.DatabaseClient;\r\nimport com.brainwellnessspa.RoomDataBase.DownloadAudioDetails;\r\nimport com.brainwellnessspa.RoomDataBase.DownloadPlaylistDetails;\r\nimport com.brainwellnessspa.Utility.APIClient;\r\nimport com.brainwellnessspa.Utility.CONSTANTS;\r\nimport com.brainwellnessspa.Utility.ItemMoveCallback;\r\nimport com.brainwellnessspa.Utility.MeasureRatio;\r\nimport com.brainwellnessspa.Utility.StartDragListener;\r\nimport com.brainwellnessspa.databinding.FragmentMyPlaylistsBinding;\r\nimport com.brainwellnessspa.databinding.MyPlaylistLayoutBinding;\r\nimport com.brainwellnessspa.databinding.MyPlaylistLayoutSortingBinding;\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\n\r\nimport java.lang.reflect.Type;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\nimport static android.content.Context.MODE_PRIVATE;\r\nimport static com.brainwellnessspa.DashboardModule.Account.AccountFragment.ComeScreenReminder;\r\nimport static com.brainwellnessspa.DashboardModule.Activities.AddAudioActivity.MyPlaylistIds;\r\nimport static com.brainwellnessspa.DashboardModule.Activities.AddAudioActivity.PlaylistIDMS;\r\nimport static com.brainwellnessspa.DashboardModule.Activities.AddAudioActivity.addToSearch;\r\nimport static com.brainwellnessspa.DashboardModule.Activities.AddPlaylistActivity.MyPlaylistId;\r\nimport static com.brainwellnessspa.DashboardModule.Activities.AddPlaylistActivity.addToPlayList;\r\nimport static com.brainwellnessspa.DashboardModule.Activities.DashboardActivity.player;\r\nimport static com.brainwellnessspa.DashboardModule.Activities.MyPlaylistActivity.ComeFindAudio;\r\nimport static com.brainwellnessspa.DashboardModule.Activities.MyPlaylistActivity.comeRename;\r\nimport static com.brainwellnessspa.DashboardModule.Activities.MyPlaylistActivity.deleteFrg;\r\nimport static com.brainwellnessspa.DashboardModule.Audio.AudioFragment.IsLock;\r\nimport static com.brainwellnessspa.DashboardModule.Playlist.ViewAllPlaylistFragment.GetPlaylistLibraryID;\r\nimport static com.brainwellnessspa.DashboardModule.Search.SearchFragment.comefrom_search;\r\nimport static com.brainwellnessspa.DashboardModule.TransparentPlayer.Fragments.TransparentPlayerFragment.isDisclaimer;\r\nimport static com.brainwellnessspa.DownloadModule.Activities.DownloadsActivity.ComeFrom_Playlist;\r\nimport static com.brainwellnessspa.EncryptDecryptUtils.DownloadMedia.downloadProgress;\r\nimport static com.brainwellnessspa.EncryptDecryptUtils.DownloadMedia.filename;\r\nimport static com.brainwellnessspa.Utility.MusicService.isMediaStart;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPause;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPrepare;\r\nimport static com.brainwellnessspa.Utility.MusicService.stopMedia;\r\n\r\npublic class MyPlaylistsFragment extends Fragment implements StartDragListener {\r\n    public static int RefreshIconData = 0;\r\n    public static String RefreshNew = \"\";\r\n    public static int disclaimerPlayed = 0;\r\n    public boolean RefreshPlaylist = false;\r\n    FragmentMyPlaylistsBinding binding;\r\n    String UserID, New, PlaylistID, PlaylistName = \"\", PlaylistImage, SearchFlag, MyDownloads = \"\", AudioFlag, PlaylistIDs = \"\";\r\n    int RefreshIcon;\r\n    PlayListsAdpater adpater;\r\n    PlayListsAdpater2 adpater2;\r\n    View view;\r\n    EditText searchEditText;\r\n    ArrayList<String> changedAudio;\r\n    Activity activity;\r\n    List<DownloadAudioDetails> downloadAudioDetailsList;\r\n    ArrayList<SubPlayListModel.ResponseData.PlaylistSong> playlistSongsList;\r\n    List<DownloadAudioDetails> oneAudioDetailsList, playlistWiseAudioDetails;\r\n    List<DownloadPlaylistDetails> downloadPlaylistDetailsList;\r\n    DownloadPlaylistDetails downloadPlaylistDetails;\r\n    Dialog dialog;\r\n    List<String> fileNameList, playlistDownloadId, remainAudio;\r\n    ItemTouchHelper touchHelper;\r\n    Runnable UpdateSongTime2;\r\n    int SongListSize = 0, count;\r\n    SubPlayListModel.ResponseData.PlaylistSong addDisclaimer = new SubPlayListModel.ResponseData.PlaylistSong();\r\n    private Handler handler1, handler2;\r\n//    private Runnable UpdateSongTime1 = new Runnable() {\r\n//        @Override\r\n//        public void run() {\r\n//            getMediaByPer(PlaylistID,SongListSize);\r\n//\r\n///*            if (fileNameList.size() != 0) {\r\n//                if (remainAudio.size() <= SongListSize) {\r\n//                    int total = SongListSize;\r\n//                    int remain = remainAudio.size();\r\n//                    int complate = total - remain;\r\n//                    long progressPercent = complate * 100 / total;\r\n//                    int downloadProgress1 = (int) progressPercent;\r\n//                    if (SongListSize == 1) {\r\n//                        if (downloadProgress <= 100) {\r\n//                            binding.pbProgress.setProgress(downloadProgress);\r\n//                            binding.pbProgress.setVisibility(View.VISIBLE);\r\n//                            binding.ivDownloads.setVisibility(View.GONE);\r\n//                            if (downloadProgress == 100) {\r\n//                                getDownloadData();\r\n//                            }\r\n//                        }\r\n//                    } else if (downloadProgress1 <= 100) {\r\n//                        if (downloadProgress1 == 100) {\r\n//                            getDownloadData();\r\n//                            binding.pbProgress.setVisibility(View.GONE);\r\n//                            binding.ivDownloads.setVisibility(View.VISIBLE);\r\n//                            handler1.removeCallbacks(UpdateSongTime1);\r\n//                        } else {\r\n//                            binding.pbProgress.setProgress(downloadProgress1);\r\n//                            binding.pbProgress.setVisibility(View.VISIBLE);\r\n//                            binding.ivDownloads.setVisibility(View.GONE);\r\n//                        }\r\n//                    } else {\r\n//                        binding.pbProgress.setVisibility(View.GONE);\r\n//                        binding.ivDownloads.setVisibility(View.VISIBLE);\r\n//                        handler1.removeCallbacks(UpdateSongTime1);\r\n//                    }\r\n//                }\r\n//                getDownloadData();\r\n//                handler1.postDelayed(this, 500);\r\n//            }else {\r\n//                binding.pbProgress.setVisibility(View.GONE);\r\n//                binding.ivDownloads.setVisibility(View.VISIBLE);\r\n//                handler1.removeCallbacks(UpdateSongTime1);\r\n//                getDownloadData();\r\n//            }*/\r\n//            handler1.postDelayed(this, 500);\r\n//        }\r\n//    };\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_my_playlists, container, false);\r\n        view = binding.getRoot();\r\n//        handler1 = new Handler();\r\n        handler2 = new Handler();\r\n        SharedPreferences shared1 = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_LOGIN, Context.MODE_PRIVATE);\r\n        UserID = (shared1.getString(CONSTANTS.PREF_KEY_UserID, \"\"));\r\n        activity = getActivity();\r\n        downloadAudioDetailsList = new ArrayList<>();\r\n        oneAudioDetailsList = new ArrayList<>();\r\n        fileNameList = new ArrayList<>();\r\n        playlistDownloadId = new ArrayList<>();\r\n        addDisclaimer();\r\n//        remainAudio = new ArrayList<>();\r\n        playlistWiseAudioDetails = new ArrayList<>();\r\n        downloadPlaylistDetailsList = new ArrayList<>();\r\n        playlistSongsList = new ArrayList<>();\r\n        changedAudio = new ArrayList<>();\r\n        if (getArguments() != null) {\r\n            New = getArguments().getString(\"New\");\r\n            PlaylistID = getArguments().getString(\"PlaylistID\");\r\n            PlaylistName = getArguments().getString(\"PlaylistName\");\r\n            PlaylistImage = getArguments().getString(\"PlaylistImage\");\r\n            MyDownloads = getArguments().getString(\"MyDownloads\");\r\n        }\r\n\r\n        binding.llBack.setOnClickListener(view1 -> {\r\n            callBack();\r\n        });\r\n        if (BWSApplication.isNetworkConnected(getActivity()) && !MyDownloads.equalsIgnoreCase(\"1\")) {\r\n            binding.llMore.setVisibility(View.VISIBLE);\r\n            binding.llMore.setClickable(true);\r\n            binding.llMore.setEnabled(true);\r\n            binding.ivMore.setImageResource(R.drawable.ic_menu_icon);\r\n            binding.ivMore.setColorFilter(activity.getResources().getColor(R.color.white), PorterDuff.Mode.SRC_IN);\r\n        } else {\r\n            binding.llMore.setVisibility(View.VISIBLE);\r\n            binding.llMore.setClickable(false);\r\n            binding.llMore.setEnabled(false);\r\n            binding.ivMore.setImageResource(R.drawable.ic_menu_icon);\r\n            binding.ivMore.setColorFilter(activity.getResources().getColor(R.color.light_gray), PorterDuff.Mode.SRC_IN);\r\n        }\r\n\r\n        binding.llMore.setOnClickListener(view13 -> {\r\n//            handler1.removeCallbacks(UpdateSongTime1);\r\n            handler2.removeCallbacks(UpdateSongTime2);\r\n            Intent i = new Intent(getActivity(), MyPlaylistActivity.class);\r\n            i.putExtra(\"PlaylistID\", PlaylistID);\r\n            startActivity(i);\r\n\r\n        });\r\n\r\n        binding.tvSearch.setOnClickListener(view14 -> {\r\n            Intent i = new Intent(getActivity(), AddAudioActivity.class);\r\n            i.putExtra(\"PlaylistID\", PlaylistID);\r\n            startActivity(i);\r\n        });\r\n\r\n        binding.searchView.onActionViewExpanded();\r\n        searchEditText = binding.searchView.findViewById(androidx.appcompat.R.id.search_src_text);\r\n        searchEditText.setTextColor(getResources().getColor(R.color.gray));\r\n        searchEditText.setHintTextColor(getResources().getColor(R.color.gray));\r\n        ImageView closeButton = binding.searchView.findViewById(R.id.search_close_btn);\r\n        binding.searchView.clearFocus();\r\n        searchClear(searchEditText);\r\n\r\n        closeButton.setOnClickListener(v -> {\r\n            binding.searchView.clearFocus();\r\n            searchEditText.setText(\"\");\r\n            binding.searchView.setQuery(\"\", false);\r\n\r\n        });\r\n\r\n        binding.searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String search) {\r\n                binding.searchView.clearFocus();\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String search) {\r\n                try {\r\n                    if (adpater2 != null) {\r\n                        adpater2.getFilter().filter(search);\r\n                        SearchFlag = search;\r\n                        Log.e(\"searchsearch\", \"\" + search);\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n        RecyclerView.LayoutManager playList = new LinearLayoutManager(getActivity(), LinearLayoutManager.VERTICAL, false);\r\n        binding.rvPlayLists.setLayoutManager(playList);\r\n        binding.rvPlayLists.setItemAnimator(new DefaultItemAnimator());\r\n\r\n        binding.llDownloads.setOnClickListener(view1 -> {\r\n            callDownload(\"\", \"\", \"\", playlistSongsList, 0, binding.llDownloads, binding.ivDownloads);\r\n        });\r\n\r\n        RefreshNew = New;\r\n        if (New.equalsIgnoreCase(\"1\")) {\r\n            binding.llAddAudio.setVisibility(View.VISIBLE);\r\n            binding.llDownloads.setVisibility(View.VISIBLE);\r\n            binding.ivDownloads.setImageResource(R.drawable.ic_download_play_icon);\r\n            binding.ivDownloads.setColorFilter(activity.getResources().getColor(R.color.white), PorterDuff.Mode.SRC_IN);\r\n            binding.llReminder.setVisibility(View.VISIBLE);\r\n            binding.ivPlaylistStatus.setVisibility(View.INVISIBLE);\r\n            binding.llListing.setVisibility(View.GONE);\r\n            binding.btnAddAudio.setOnClickListener(view -> {\r\n                Intent i = new Intent(getActivity(), AddAudioActivity.class);\r\n                i.putExtra(\"PlaylistID\", PlaylistID);\r\n                startActivity(i);\r\n            });\r\n        } else if (New.equalsIgnoreCase(\"0\")) {\r\n            binding.llAddAudio.setVisibility(View.GONE);\r\n            binding.llDownloads.setVisibility(View.VISIBLE);\r\n            binding.ivDownloads.setImageResource(R.drawable.ic_download_play_icon);\r\n            binding.ivDownloads.setColorFilter(activity.getResources().getColor(R.color.white), PorterDuff.Mode.SRC_IN);\r\n            binding.llReminder.setVisibility(View.VISIBLE);\r\n            binding.ivPlaylistStatus.setVisibility(View.VISIBLE);\r\n            binding.llListing.setVisibility(View.VISIBLE);\r\n            prepareData(UserID, PlaylistID);\r\n        }\r\n        return view;\r\n    }\r\n\r\n    private List<DownloadPlaylistDetails> GetPlaylistDetail(String download) {\r\n        class GetTask extends AsyncTask<Void, Void, Void> {\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                downloadPlaylistDetailsList = DatabaseClient\r\n                        .getInstance(activity)\r\n                        .getaudioDatabase()\r\n                        .taskDao()\r\n                        .getPlaylist(PlaylistID);\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                if (downloadPlaylistDetailsList.size() != 0 /*New.equalsIgnoreCase(\"1\") ||*/) {\r\n                    enableDisableDownload(false, \"orange\");\r\n                } else if (RefreshIcon == 0) {\r\n                    enableDisableDownload(false, \"gray\");\r\n                } else if (download.equalsIgnoreCase(\"1\") /* New.equalsIgnoreCase(\"1\") ||*/) {\r\n                    enableDisableDownload(false, \"orange\");\r\n                } else if (download.equalsIgnoreCase(\"0\") || download.equalsIgnoreCase(\"\") ||\r\n                        New.equalsIgnoreCase(\"0\") || RefreshIcon != 0) {\r\n                    enableDisableDownload(true, \"white\");\r\n                }\r\n                super.onPostExecute(aVoid);\r\n            }\r\n        }\r\n\r\n        GetTask st = new GetTask();\r\n        st.execute();\r\n        return downloadPlaylistDetailsList;\r\n    }\r\n\r\n    private List<DownloadPlaylistDetails> GetPlaylistDetail2() {\r\n        class GetTask extends AsyncTask<Void, Void, Void> {\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                downloadPlaylistDetailsList = DatabaseClient\r\n                        .getInstance(activity)\r\n                        .getaudioDatabase()\r\n                        .taskDao()\r\n                        .getPlaylist(PlaylistID);\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n   /*\r\n                    \"PlaylistDesc\": \"When life gets tough and you struggle through the days, download the Ultimate Self-development Bundle to help you in finding a new appreciation for life. Everyone can use a little help in all areas of their lives at times. There are 12 programs aimed to help your self-development:\",\r\n                    \"PlaylistMastercat\": \"Self-development\",\r\n                    \"PlaylistSubcat\": \"Self-expression, Focus, Discipline, Self-love, Mindset, Passion, Enthusiasm, Gratitude, Self-doubt, Inner Strength \",\r\n                    \"PlaylistImage\": \"https://brainwellnessspa.com.au/wp-content/uploads/2018/06/Ultimate self development bundle.jpg\",\r\n                    \"PlaylistSongs \" */\r\n                downloadAudioDetailsList = GetAllMedia();\r\n                playlistWiseAudioDetails = GetMedia();\r\n\r\n                super.onPostExecute(aVoid);\r\n            }\r\n        }\r\n\r\n        GetTask st = new GetTask();\r\n        st.execute();\r\n        return downloadPlaylistDetailsList;\r\n    }\r\n\r\n    private void enableDisableDownload(boolean b, String color) {\r\n        if (b) {\r\n            binding.llDownloads.setClickable(true);\r\n            binding.llDownloads.setEnabled(true);\r\n            binding.ivDownloads.setImageResource(R.drawable.ic_download_play_icon);\r\n            binding.ivDownloads.setColorFilter(activity.getResources().getColor(R.color.white), PorterDuff.Mode.SRC_IN);\r\n        } else {\r\n            binding.llDownloads.setClickable(false);\r\n            binding.llDownloads.setEnabled(false);\r\n            binding.ivDownloads.setImageResource(R.drawable.ic_download_play_icon);\r\n            if (color.equalsIgnoreCase(\"gray\")) {\r\n                binding.ivDownloads.setColorFilter(activity.getResources().getColor(R.color.light_gray), PorterDuff.Mode.SRC_IN);\r\n            } else if (color.equalsIgnoreCase(\"orange\")) {\r\n                binding.ivDownloads.setColorFilter(activity.getResources().getColor(R.color.dark_yellow), PorterDuff.Mode.SRC_IN);\r\n            }\r\n        }\r\n    }\r\n\r\n    public List<DownloadAudioDetails> GetAllMedia() {\r\n        class GetTask extends AsyncTask<Void, Void, Void> {\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                downloadAudioDetailsList = DatabaseClient\r\n                        .getInstance(activity)\r\n                        .getaudioDatabase()\r\n                        .taskDao()\r\n                        .geAllData1();\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                super.onPostExecute(aVoid);\r\n            }\r\n        }\r\n\r\n        GetTask st = new GetTask();\r\n        st.execute();\r\n        return downloadAudioDetailsList;\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        addDisclaimer();\r\n        view.setFocusableInTouchMode(true);\r\n        view.requestFocus();\r\n        view.setOnKeyListener((v, keyCode, event) -> {\r\n            binding.searchView.clearFocus();\r\n            if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n                callBack();\r\n\r\n                if (!PlaylistIDs.equalsIgnoreCase(\"\")) {\r\n                    Fragment fragment = new PlaylistFragment();\r\n                    FragmentManager fragmentManager1 = getActivity().getSupportFragmentManager();\r\n                    fragmentManager1.beginTransaction()\r\n                            .replace(R.id.flContainer, fragment)\r\n                            .commit();\r\n                }\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        super.onResume();\r\n        if (deleteFrg == 1) {\r\n            callBack();\r\n            deleteFrg = 0;\r\n        } else if (addToPlayList) {\r\n            PlaylistID = MyPlaylistId;\r\n            prepareData(UserID, MyPlaylistId);\r\n            addToPlayList = false;\r\n        } else if (addToSearch) {\r\n            PlaylistIDs = PlaylistIDMS;\r\n            prepareData(UserID, MyPlaylistIds);\r\n            addToSearch = false;\r\n        } else {\r\n            prepareData(UserID, PlaylistID);\r\n        }\r\n        if (comeRename == 1) {\r\n            prepareData(UserID, PlaylistID);\r\n        }\r\n    }\r\n\r\n    private void callBack() {\r\n        binding.searchView.clearFocus();\r\n        if (MyPlaylistIds.equalsIgnoreCase(\"\")) {\r\n            if (comefrom_search == 2) {\r\n                Bundle bundle = new Bundle();\r\n                Fragment playlistFragment = new ViewAllPlaylistFragment();\r\n                FragmentManager fragmentManager1 = getActivity().getSupportFragmentManager();\r\n                fragmentManager1.beginTransaction()\r\n                        .replace(R.id.flContainer, playlistFragment)\r\n                        .commit();\r\n                bundle.putString(\"GetLibraryID\", GetPlaylistLibraryID);\r\n                bundle.putString(\"MyDownloads\", MyDownloads);\r\n                playlistFragment.setArguments(bundle);\r\n//            comefrom_search = 0;\r\n            } else if (comefrom_search == 1) {\r\n                Fragment fragment = new SearchFragment();\r\n                FragmentManager fragmentManager1 = getActivity().getSupportFragmentManager();\r\n                fragmentManager1.beginTransaction()\r\n                        .replace(R.id.flContainer, fragment)\r\n                        .commit();\r\n                comefrom_search = 0;\r\n            } else if (comefrom_search == 0) {\r\n                Fragment fragment = new PlaylistFragment();\r\n                FragmentManager fragmentManager1 = getActivity().getSupportFragmentManager();\r\n                fragmentManager1.beginTransaction()\r\n                        .replace(R.id.flContainer, fragment)\r\n                        .commit();\r\n                comefrom_search = 0;\r\n            } else if (comefrom_search == 3) {\r\n                Intent i = new Intent(getActivity(), DownloadsActivity.class);\r\n                ComeFrom_Playlist = true;\r\n                i.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n                startActivity(i);\r\n                getActivity().finish();\r\n//            comefrom_search = 0;\r\n            }\r\n\r\n        } else {\r\n            RefreshPlaylist = true;\r\n            prepareData(UserID, PlaylistIDs);\r\n        }\r\n\r\n        if (RefreshPlaylist) {\r\n            Fragment fragment = new PlaylistFragment();\r\n            FragmentManager fragmentManager1 = getActivity().getSupportFragmentManager();\r\n            fragmentManager1.beginTransaction()\r\n                    .replace(R.id.flContainer, fragment)\r\n                    .commit();\r\n        }\r\n    }\r\n\r\n    private void searchClear(EditText searchEditText) {\r\n        if (ComeFindAudio == 1) {\r\n            binding.searchView.clearFocus();\r\n            searchEditText.setText(\"\");\r\n            binding.searchView.setQuery(\"\", false);\r\n            ComeFindAudio = 0;\r\n        } else if (ComeFindAudio == 2) {\r\n            binding.searchView.requestFocus();\r\n            searchEditText.setText(\"\");\r\n            binding.searchView.setQuery(\"\", false);\r\n            ComeFindAudio = 0;\r\n        }\r\n\r\n    }\r\n\r\n    private void prepareData(String UserId, String PlaylistId) {\r\n        if (comefrom_search == 3) {\r\n            binding.llExtra.setVisibility(View.VISIBLE);\r\n            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);\r\n            params.setMargins(10, 8, 10, 260);\r\n            binding.llSpace.setLayoutParams(params);\r\n        }\r\n        binding.tvPlaylist.setText(\"Playlist\");\r\n        searchClear(searchEditText);\r\n        SharedPreferences shared = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        try {\r\n            if (IsLock.equalsIgnoreCase(\"1\") && !AudioFlag.equalsIgnoreCase(\"AppointmentDetailList\")) {\r\n                SharedPreferences sharedm = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n                SharedPreferences.Editor editorr = sharedm.edit();\r\n                editorr.remove(CONSTANTS.PREF_KEY_modelList);\r\n                editorr.remove(CONSTANTS.PREF_KEY_position);\r\n                editorr.remove(CONSTANTS.PREF_KEY_queuePlay);\r\n                editorr.remove(CONSTANTS.PREF_KEY_audioPlay);\r\n                editorr.remove(CONSTANTS.PREF_KEY_AudioFlag);\r\n                editorr.remove(CONSTANTS.PREF_KEY_PlaylistId);\r\n                editorr.remove(CONSTANTS.PREF_KEY_myPlaylist);\r\n                editorr.clear();\r\n                editorr.commit();\r\n            }\r\n            SharedPreferences shared1 = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n\r\n            AudioFlag = shared1.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n            if (!AudioFlag.equalsIgnoreCase(\"0\")) {\r\n                callAddTransFrag();\r\n                LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);\r\n                params.setMargins(10, 8, 10, 260);\r\n                binding.llSpace.setLayoutParams(params);\r\n            } else {\r\n                LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);\r\n                params.setMargins(10, 8, 10, 50);\r\n                binding.llSpace.setLayoutParams(params);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        if (BWSApplication.isNetworkConnected(getActivity())) {\r\n            if (!MyDownloads.equalsIgnoreCase(\"1\")) {\r\n                BWSApplication.showProgressBar(binding.progressBar, binding.progressBarHolder, getActivity());\r\n                Call<SubPlayListModel> listCall = APIClient.getClient().getSubPlayLists(UserId, PlaylistId);\r\n                listCall.enqueue(new Callback<SubPlayListModel>() {\r\n                    @SuppressLint(\"ClickableViewAccessibility\")\r\n                    @Override\r\n                    public void onResponse(Call<SubPlayListModel> call, Response<SubPlayListModel> response) {\r\n                        if (response.isSuccessful()) {\r\n                            BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, getActivity());\r\n                            SubPlayListModel listModel = response.body();\r\n                            try {\r\n                                if (listModel.getResponseData().getIsReminder().equalsIgnoreCase(\"0\") ||\r\n                                        listModel.getResponseData().getIsReminder().equalsIgnoreCase(\"\")) {\r\n                                    binding.ivReminder.setColorFilter(ContextCompat.getColor(getActivity(), R.color.white), PorterDuff.Mode.SRC_IN);\r\n\r\n                                } else if (listModel.getResponseData().getIsReminder().equalsIgnoreCase(\"1\")) {\r\n                                    binding.ivReminder.setColorFilter(ContextCompat.getColor(getActivity(), R.color.dark_yellow), PorterDuff.Mode.SRC_IN);\r\n                                }\r\n                            } catch (Exception e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            getDownloadData();\r\n                            SongListSize = listModel.getResponseData().getPlaylistSongs().size();\r\n                            playlistWiseAudioDetails = GetMedia();\r\n                            getMediaByPer(PlaylistId, playlistWiseAudioDetails.size());\r\n                            if (listModel.getResponseData().getCreated().equalsIgnoreCase(\"1\")) {\r\n                                searchEditText.setHint(R.string.playlist_or_audio_search);\r\n                                binding.tvSearch.setHint(R.string.playlist_or_audio_search);\r\n//                                binding.tvSearch.setTextSize(14);\r\n                            } else {\r\n                                searchEditText.setHint(\"Search for audios\");\r\n                                binding.tvSearch.setHint(\"Search for audios\");\r\n                            }\r\n                            binding.rlSearch.setVisibility(View.VISIBLE);\r\n                            binding.llMore.setVisibility(View.VISIBLE);\r\n                            binding.llReminder.setVisibility(View.VISIBLE);\r\n                            binding.ivPlaylistStatus.setVisibility(View.VISIBLE);\r\n                            binding.tvTag.setText(R.string.Audios_in_Playlist);\r\n                            binding.llReminder.setOnClickListener(view -> {\r\n                                if (listModel.getResponseData().getIsReminder().equalsIgnoreCase(\"0\") ||\r\n                                        listModel.getResponseData().getIsReminder().equalsIgnoreCase(\"\")) {\r\n                                    binding.ivReminder.setColorFilter(ContextCompat.getColor(getActivity(), R.color.white), PorterDuff.Mode.SRC_IN);\r\n                                    Intent i = new Intent(getActivity(), ReminderActivity.class);\r\n                                    ComeScreenReminder = 0;\r\n                                    i.putExtra(\"ComeFrom\", \"1\");\r\n                                    i.putExtra(\"PlaylistID\", PlaylistID);\r\n                                    i.putExtra(\"PlaylistName\", listModel.getResponseData().getPlaylistName());\r\n                                    i.putExtra(\"Time\", listModel.getResponseData().getReminderTime());\r\n                                    i.putExtra(\"Day\", listModel.getResponseData().getReminderDay());\r\n                                    startActivity(i);\r\n                                } else if (listModel.getResponseData().getIsReminder().equalsIgnoreCase(\"1\")) {\r\n                                    binding.ivReminder.setColorFilter(ContextCompat.getColor(getActivity(), R.color.dark_yellow), PorterDuff.Mode.SRC_IN);\r\n                                    dialog = new Dialog(activity);\r\n                                    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n                                    dialog.setContentView(R.layout.delete_payment_card);\r\n                                    dialog.getWindow().setBackgroundDrawable(new ColorDrawable(activity.getResources().getColor(R.color.dark_blue_gray)));\r\n                                    dialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);\r\n                                    final TextView tvTitle = dialog.findViewById(R.id.tvTitle);\r\n                                    final TextView tvSubTitle = dialog.findViewById(R.id.tvSubTitle);\r\n                                    final TextView tvGoBack = dialog.findViewById(R.id.tvGoBack);\r\n                                    final Button Btn = dialog.findViewById(R.id.Btn);\r\n                                    tvTitle.setText(\"Reminder off\");\r\n                                    tvSubTitle.setText(\"Are you sure you want to reminder off ?\");\r\n                                    dialog.setOnKeyListener((v, keyCode, event) -> {\r\n                                        if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n                                            dialog.dismiss();\r\n                                            return true;\r\n                                        }\r\n                                        return false;\r\n                                    });\r\n                                    Btn.setOnTouchListener((view1, event) -> {\r\n                                        if (BWSApplication.isNetworkConnected(getActivity())) {\r\n                                            switch (event.getAction()) {\r\n                                                case MotionEvent.ACTION_DOWN: {\r\n                                                    Button views = (Button) view1;\r\n                                                    views.getBackground().setColorFilter(0x77000000, PorterDuff.Mode.SRC_ATOP);\r\n                                                    view1.invalidate();\r\n                                                    break;\r\n                                                }\r\n                                                case MotionEvent.ACTION_UP:\r\n                                                    Call<ReminderStatusPlaylistModel> listCall1 = APIClient.getClient().getReminderStatusPlaylist(UserID, PlaylistID, \"0\");/*set 1 or not 0 */\r\n                                                    listCall1.enqueue(new Callback<ReminderStatusPlaylistModel>() {\r\n                                                        @Override\r\n                                                        public void onResponse(Call<ReminderStatusPlaylistModel> call1, Response<ReminderStatusPlaylistModel> response1) {\r\n                                                            if (response1.isSuccessful()) {\r\n                                                                ReminderStatusPlaylistModel listModel1 = response1.body();\r\n//                                                                prepareData(UserID, PlaylistID);\r\n                                                                listModel.getResponseData().setIsReminder(listModel1.getResponseData().getIsCheck());\r\n                                                                binding.ivReminder.setColorFilter(ContextCompat.getColor(getActivity(), R.color.white), PorterDuff.Mode.SRC_IN);\r\n                                                                dialog.dismiss();\r\n                                                                BWSApplication.showToast(listModel1.getResponseMessage(), activity);\r\n                                                            }\r\n                                                        }\r\n\r\n                                                        @Override\r\n                                                        public void onFailure(Call<ReminderStatusPlaylistModel> call1, Throwable t) {\r\n                                                        }\r\n                                                    });\r\n\r\n\r\n                                                case MotionEvent.ACTION_CANCEL: {\r\n                                                    Button views = (Button) view1;\r\n                                                    views.getBackground().clearColorFilter();\r\n                                                    views.invalidate();\r\n                                                    break;\r\n                                                }\r\n                                            }\r\n                                        } else {\r\n                                            BWSApplication.showToast(getString(R.string.no_server_found), getActivity());\r\n                                        }\r\n\r\n                                        return true;\r\n                                    });\r\n\r\n                                    tvGoBack.setOnClickListener(v -> {\r\n                                        dialog.dismiss();\r\n                                    });\r\n                                    dialog.show();\r\n                                    dialog.setCancelable(false);\r\n\r\n                                }\r\n                            });\r\n                            playlistSongsList = new ArrayList<>();\r\n                            playlistSongsList.addAll(listModel.getResponseData().getPlaylistSongs());\r\n                            downloadPlaylistDetails = new DownloadPlaylistDetails();\r\n                            downloadPlaylistDetails.setPlaylistID(listModel.getResponseData().getPlaylistID());\r\n                            downloadPlaylistDetails.setPlaylistName(listModel.getResponseData().getPlaylistName());\r\n                            downloadPlaylistDetails.setPlaylistDesc(listModel.getResponseData().getPlaylistDesc());\r\n                            downloadPlaylistDetails.setIsReminder(listModel.getResponseData().getIsReminder());\r\n                            downloadPlaylistDetails.setPlaylistMastercat(listModel.getResponseData().getPlaylistMastercat());\r\n                            downloadPlaylistDetails.setPlaylistSubcat(listModel.getResponseData().getPlaylistSubcat());\r\n                            downloadPlaylistDetails.setPlaylistImage(listModel.getResponseData().getSquarePlaylistImage());\r\n                            downloadPlaylistDetails.setTotalAudio(listModel.getResponseData().getTotalAudio());\r\n                            downloadPlaylistDetails.setTotalDuration(listModel.getResponseData().getTotalDuration());\r\n                            downloadPlaylistDetails.setTotalhour(listModel.getResponseData().getTotalhour());\r\n                            downloadPlaylistDetails.setTotalminute(listModel.getResponseData().getTotalminute());\r\n                            downloadPlaylistDetails.setCreated(listModel.getResponseData().getCreated());\r\n                            downloadPlaylistDetails.setDownload(listModel.getResponseData().getDownload());\r\n                            downloadPlaylistDetails.setLike(listModel.getResponseData().getLike());\r\n\r\n                            setData(listModel.getResponseData());\r\n                            downloadAudioDetailsList = GetAllMedia();\r\n                            downloadPlaylistDetailsList = GetPlaylistDetail(listModel.getResponseData().getDownload());\r\n\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(Call<SubPlayListModel> call, Throwable t) {\r\n                        BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, getActivity());\r\n                    }\r\n                });\r\n            } else {\r\n                downloadPlaylistDetailsList = GetPlaylistDetail2();\r\n            }\r\n        } else {\r\n            downloadPlaylistDetailsList = GetPlaylistDetail2();\r\n            BWSApplication.showToast(getString(R.string.no_server_found), getActivity());\r\n        }\r\n    }\r\n\r\n    private void callAddTransFrag() {\r\n        Fragment fragment = new TransparentPlayerFragment();\r\n        FragmentManager fragmentManager1 = getActivity().getSupportFragmentManager();\r\n        fragmentManager1.beginTransaction()\r\n                .add(R.id.flContainer, fragment)\r\n                .commit();\r\n    }\r\n\r\n    private void getMediaByPer(String playlistID, int totalAudio) {\r\n        class getMediaByPer extends AsyncTask<Void, Void, Void> {\r\n\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                count = DatabaseClient.getInstance(getActivity())\r\n                        .getaudioDatabase()\r\n                        .taskDao()\r\n                        .getCountDownloadProgress(\"Complete\", playlistID);\r\n\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                downloadPlaylistDetailsList = GetPlaylistDetail(downloadPlaylistDetails.getDownload());\r\n\r\n                if (downloadPlaylistDetailsList.size() != 0) {\r\n                    if (count <= totalAudio) {\r\n                        if (count == totalAudio) {\r\n                            binding.pbProgress.setVisibility(View.GONE);\r\n                            binding.ivDownloads.setVisibility(View.VISIBLE);\r\n//                            handler1.removeCallbacks(UpdateSongTime1);\r\n                        } else {\r\n                            long progressPercent = count * 100 / totalAudio;\r\n                            int downloadProgress1 = (int) progressPercent;\r\n                            binding.pbProgress.setVisibility(View.VISIBLE);\r\n                            binding.ivDownloads.setVisibility(View.GONE);\r\n                            binding.pbProgress.setProgress(downloadProgress1);\r\n                            getMediaByPer(playlistID, totalAudio);\r\n//                             handler1.postDelayed(UpdateSongTime1, 500);\r\n                        }\r\n                    } else {\r\n                        binding.pbProgress.setVisibility(View.GONE);\r\n                        binding.ivDownloads.setVisibility(View.VISIBLE);\r\n//                        handler1.removeCallbacks(UpdateSongTime1);\r\n                    }\r\n                }\r\n                super.onPostExecute(aVoid);\r\n            }\r\n        }\r\n        getMediaByPer st = new getMediaByPer();\r\n        st.execute();\r\n    }\r\n\r\n    private void getDownloadData() {\r\n        try {\r\n            SharedPreferences sharedy = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_DownloadPlaylist, MODE_PRIVATE);\r\n            Gson gson = new Gson();\r\n            String jsony = sharedy.getString(CONSTANTS.PREF_KEY_DownloadName, String.valueOf(gson));\r\n            String json1 = sharedy.getString(CONSTANTS.PREF_KEY_DownloadUrl, String.valueOf(gson));\r\n            String jsonq = sharedy.getString(CONSTANTS.PREF_KEY_DownloadPlaylistId, String.valueOf(gson));\r\n            if (!jsony.equalsIgnoreCase(String.valueOf(gson))) {\r\n                Type type = new TypeToken<List<String>>() {\r\n                }.getType();\r\n                fileNameList = gson.fromJson(jsony, type);\r\n                playlistDownloadId = gson.fromJson(jsonq, type);\r\n               /* remainAudio = new ArrayList<>();\r\n                if (playlistDownloadId.size() != 0) {\r\n                    playlistDownloadId.contains(PlaylistID);\r\n                    for (int i = 0; i < fileNameList.size(); i++) {\r\n                        if (playlistDownloadId.get(i).equalsIgnoreCase(PlaylistID)) {\r\n                            remainAudio.add(playlistDownloadId.get(i));\r\n                        }\r\n                    }\r\n                    if (downloadPlaylistDetailsList.size() != 0) {\r\n                        if (remainAudio.size() < SongListSize) {\r\n                            handler1.postDelayed(UpdateSongTime1, 500);\r\n                        }\r\n                    }\r\n                    //\r\n                } else {\r\n                    fileNameList = new ArrayList<>();\r\n                    playlistDownloadId = new ArrayList<>();\r\n                    remainAudio = new ArrayList<>();\r\n                }*/\r\n            } else {\r\n                fileNameList = new ArrayList<>();\r\n                playlistDownloadId = new ArrayList<>();\r\n//                remainAudio = new ArrayList<>();\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void setData(SubPlayListModel.ResponseData listModel) {\r\n        MeasureRatio measureRatio = BWSApplication.measureRatio(getActivity(), 0,\r\n                5, 3, 1f, 0);\r\n        binding.ivBanner.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n        binding.ivBanner.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n        binding.ivBanner.setScaleType(ImageView.ScaleType.FIT_XY);\r\n        if (listModel.getPlaylistName().equalsIgnoreCase(\"\") ||\r\n                listModel.getPlaylistName() == null) {\r\n            binding.tvLibraryName.setText(R.string.My_Playlist);\r\n        } else {\r\n            binding.tvLibraryName.setText(listModel.getPlaylistName());\r\n        }\r\n        binding.tvPlaylist.setText(\"Playlist\");\r\n        if (!listModel.getPlaylistImage().equalsIgnoreCase(\"\")) {\r\n            try {\r\n                Glide.with(getActivity()).load(listModel.getPlaylistImage()).thumbnail(0.05f)\r\n                        .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(binding.ivBanner);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            binding.ivBanner.setImageResource(R.drawable.audio_bg);\r\n        }\r\n\r\n        if (listModel.getTotalAudio().equalsIgnoreCase(\"\") ||\r\n                listModel.getTotalAudio().equalsIgnoreCase(\"0\") &&\r\n                        listModel.getTotalhour().equalsIgnoreCase(\"\")\r\n                        && listModel.getTotalminute().equalsIgnoreCase(\"\")) {\r\n            binding.tvLibraryDetail.setText(\"0 Audio | 0h 0m\");\r\n        } else {\r\n            if (listModel.getTotalminute().equalsIgnoreCase(\"\")) {\r\n                binding.tvLibraryDetail.setText(listModel.getTotalAudio() + \" Audio | \"\r\n                        + listModel.getTotalhour() + \"h 0m\");\r\n            } else {\r\n                binding.tvLibraryDetail.setText(listModel.getTotalAudio() + \" Audio | \"\r\n                        + listModel.getTotalhour() + \"h \" + listModel.getTotalminute() + \"m\");\r\n            }\r\n        }\r\n        RefreshIcon = listModel.getPlaylistSongs().size();\r\n        RefreshIconData = listModel.getPlaylistSongs().size();\r\n\r\n        if (listModel.getPlaylistSongs().size() == 0) {\r\n            binding.llAddAudio.setVisibility(View.VISIBLE);\r\n            binding.llDownloads.setVisibility(View.VISIBLE);\r\n            binding.ivDownloads.setImageResource(R.drawable.ic_download_play_icon);\r\n            binding.llReminder.setVisibility(View.VISIBLE);\r\n            binding.ivPlaylistStatus.setVisibility(View.INVISIBLE);\r\n            binding.llListing.setVisibility(View.GONE);\r\n            binding.btnAddAudio.setOnClickListener(view -> {\r\n                Intent i = new Intent(getActivity(), AddAudioActivity.class);\r\n                i.putExtra(\"PlaylistID\", PlaylistID);\r\n                startActivity(i);\r\n            });\r\n        } else {\r\n            binding.llAddAudio.setVisibility(View.GONE);\r\n            binding.llDownloads.setVisibility(View.VISIBLE);\r\n            binding.llReminder.setVisibility(View.VISIBLE);\r\n            binding.ivDownloads.setImageResource(R.drawable.ic_download_play_icon);\r\n            binding.ivDownloads.setColorFilter(activity.getResources().getColor(R.color.white), PorterDuff.Mode.SRC_IN);\r\n            binding.ivPlaylistStatus.setVisibility(View.VISIBLE);\r\n            binding.llListing.setVisibility(View.VISIBLE);\r\n            try {\r\n                if (MyDownloads.equalsIgnoreCase(\"1\")) {\r\n                    adpater2 = new PlayListsAdpater2(listModel.getPlaylistSongs(), getActivity(), UserID, listModel.getCreated());\r\n                    binding.rvPlayLists.setAdapter(adpater2);\r\n                    binding.ivDownloads.setImageResource(R.drawable.ic_download_play_icon);\r\n                    binding.ivDownloads.setColorFilter(activity.getResources().getColor(R.color.dark_yellow), PorterDuff.Mode.SRC_IN);\r\n                    enableDisableDownload(false, \"orange\");\r\n                    binding.llReminder.setClickable(false);\r\n                    binding.llReminder.setEnabled(false);\r\n                    binding.ivReminder.setColorFilter(activity.getResources().getColor(R.color.dark_yellow), PorterDuff.Mode.SRC_IN);\r\n                    binding.rlSearch.setVisibility(View.GONE);\r\n                } else {\r\n                    if (listModel.getCreated().equalsIgnoreCase(\"1\")) {\r\n                        adpater = new PlayListsAdpater(listModel.getPlaylistSongs(), getActivity(), UserID, listModel.getCreated(), this);\r\n//                        SongListSize = listModel.getPlaylistSongs().size();\r\n                        ItemTouchHelper.Callback callback = new ItemMoveCallback(adpater);\r\n                        touchHelper = new ItemTouchHelper(callback);\r\n                        touchHelper.attachToRecyclerView(binding.rvPlayLists);\r\n                        binding.rvPlayLists.setAdapter(adpater);\r\n                    } else {\r\n                        adpater2 = new PlayListsAdpater2(listModel.getPlaylistSongs(), getActivity(), UserID, listModel.getCreated());\r\n                        binding.rvPlayLists.setAdapter(adpater2);\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void callTransparentFrag(int position, Context ctx, ArrayList<SubPlayListModel.ResponseData.PlaylistSong> listModelList,\r\n                                     String myPlaylist, String playlistID) {\r\n        SharedPreferences shared1 = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        boolean queuePlay = shared1.getBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n        if (queuePlay) {\r\n            int position1 = shared1.getInt(CONSTANTS.PREF_KEY_position, 0);\r\n            ArrayList<AddToQueueModel> addToQueueModelList = new ArrayList<>();\r\n            Gson gson = new Gson();\r\n            String json1 = shared1.getString(CONSTANTS.PREF_KEY_queueList, String.valueOf(gson));\r\n            if (!json1.equalsIgnoreCase(String.valueOf(gson))) {\r\n                Type type1 = new TypeToken<ArrayList<AddToQueueModel>>() {\r\n                }.getType();\r\n                addToQueueModelList = gson.fromJson(json1, type1);\r\n            }\r\n            addToQueueModelList.remove(position1);\r\n            SharedPreferences shared2 = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared2.edit();\r\n            String json = gson.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json);\r\n            editor.commit();\r\n\r\n        }\r\n        player = 1;\r\n        if (isPrepare || isMediaStart || isPause) {\r\n            stopMedia();\r\n        }\r\n        isPause = false;\r\n        isMediaStart = false;\r\n        isPrepare = false;\r\n        SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = shared.edit();\r\n        Gson gson = new Gson();\r\n        String json = gson.toJson(listModelList);\r\n        editor.putString(CONSTANTS.PREF_KEY_modelList, json);\r\n        editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n        editor.putBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n        editor.putBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n        editor.putString(CONSTANTS.PREF_KEY_PlaylistId, playlistID);\r\n        editor.putString(CONSTANTS.PREF_KEY_myPlaylist, myPlaylist);\r\n        editor.putString(CONSTANTS.PREF_KEY_AudioFlag, \"SubPlayList\");\r\n        editor.commit();\r\n        try {\r\n            callAddTransFrag();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void callRemove(String id, String PlaylistAudioId, ArrayList<SubPlayListModel.ResponseData.PlaylistSong> mData, int position) {\r\n        String AudioId = id;\r\n        if (BWSApplication.isNetworkConnected(getActivity())) {\r\n            BWSApplication.showProgressBar(binding.progressBar, binding.progressBarHolder, getActivity());\r\n            Call<SucessModel> listCall = APIClient.getClient().getRemoveAudioFromPlaylist(UserID, AudioId, PlaylistID);\r\n            listCall.enqueue(new Callback<SucessModel>() {\r\n                @Override\r\n                public void onResponse(Call<SucessModel> call, Response<SucessModel> response) {\r\n                    if (response.isSuccessful()) {\r\n                        BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, getActivity());\r\n                        SucessModel listModel = response.body();\r\n                        mData.remove(position);\r\n                        if (mData.size() == 0) {\r\n                            enableDisableDownload(false, \"gray\");\r\n                        }\r\n                        SharedPreferences shared = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n                        boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                        AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                        int pos = shared.getInt(CONSTANTS.PREF_KEY_position, 0);\r\n                        String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"\");\r\n                        if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(mData.get(0).getPlaylistID())) {\r\n                            if (pos == position && position < mData.size() - 1) {\r\n//                                            pos = pos + 1;\r\n                                if (isDisclaimer == 1) {\r\n//                                    BWSApplication.showToast(\"The audio shall remove after the disclaimer\", getActivity());\r\n                                } else {\r\n                                    callTransparentFrag(pos, getActivity(), mData, \"myPlaylist\", PlaylistID);\r\n                                }\r\n                            } else if (pos == position && position == mData.size() - 1) {\r\n                                pos = 0;\r\n                                if (isDisclaimer == 1) {\r\n//                                    BWSApplication.showToast(\"The audio shall remove after the disclaimer\", getActivity());\r\n                                } else {\r\n                                    callTransparentFrag(pos, getActivity(), mData, \"myPlaylist\", PlaylistID);\r\n                                }\r\n                            } else if (pos < position && pos < mData.size() - 1) {\r\n                                saveToPref(pos, mData);\r\n                            } else if (pos > position && pos == mData.size()) {\r\n                                pos = pos - 1;\r\n                                saveToPref(pos, mData);\r\n                            }\r\n                        }\r\n                        prepareData(UserID, PlaylistID);\r\n                        BWSApplication.showToast(listModel.getResponseMessage(), getActivity());\r\n                    }\r\n                }\r\n\r\n                private void saveToPref(int pos, ArrayList<SubPlayListModel.ResponseData.PlaylistSong> mData) {\r\n                    SharedPreferences shareddd = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n                    SharedPreferences.Editor editor = shareddd.edit();\r\n                    Gson gson = new Gson();\r\n                    String json = gson.toJson(mData);\r\n                    editor.putString(CONSTANTS.PREF_KEY_modelList, json);\r\n                    editor.putInt(CONSTANTS.PREF_KEY_position, pos);\r\n                    editor.putBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n                    editor.putBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                    editor.putString(CONSTANTS.PREF_KEY_PlaylistId, PlaylistID);\r\n                    editor.putString(CONSTANTS.PREF_KEY_myPlaylist, \"myPlaylist\");\r\n                    editor.putString(CONSTANTS.PREF_KEY_AudioFlag, \"SubPlayList\");\r\n                    editor.commit();\r\n                    callAddTransFrag();\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call<SucessModel> call, Throwable t) {\r\n                    BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, getActivity());\r\n                }\r\n            });\r\n        } else {\r\n            BWSApplication.showToast(getString(R.string.no_server_found), getActivity());\r\n        }\r\n    }\r\n\r\n    private void callDownload(String id, String audioFile, String Name, ArrayList<SubPlayListModel.ResponseData.PlaylistSong>\r\n            playlistSongs, int position, RelativeLayout llDownload, ImageView ivDownloads) {\r\n        if (id.isEmpty() && Name.isEmpty() && audioFile.isEmpty()) {\r\n            enableDisableDownload(false, \"orange\");\r\n            List<String> url = new ArrayList<>();\r\n            List<String> name = new ArrayList<>();\r\n            List<String> downloadPlaylistId = new ArrayList<>();\r\n            ArrayList<SubPlayListModel.ResponseData.PlaylistSong> playlistSongs2 = new ArrayList<>();\r\n            playlistSongs2.addAll(playlistSongs);\r\n            if (downloadAudioDetailsList.size() != 0) {\r\n                for (int y = 0; y < downloadAudioDetailsList.size(); y++) {\r\n                    if (playlistSongs2.size() == 0) {\r\n                        break;\r\n                    } else {\r\n                        for (int x = 0; x < playlistSongs2.size(); x++) {\r\n                            if (playlistSongs2.size() != 0) {\r\n                                if (playlistSongs2.get(x).getAudioFile().equalsIgnoreCase(downloadAudioDetailsList.get(y).getAudioFile())) {\r\n                                    playlistSongs2.remove(x);\r\n                                }\r\n                                if (playlistSongs2.size() == 0) {\r\n                                    break;\r\n                                }\r\n                            } else break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (playlistSongs2.size() != 0) {\r\n                for (int x = 0; x < playlistSongs2.size(); x++) {\r\n                    name.add(playlistSongs2.get(x).getName());\r\n                    url.add(playlistSongs2.get(x).getAudioFile());\r\n                    downloadPlaylistId.add(playlistSongs2.get(x).getPlaylistID());\r\n                }\r\n            }\r\n            byte[] encodedBytes = new byte[1024];\r\n            SharedPreferences sharedx = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_DownloadPlaylist, MODE_PRIVATE);\r\n            Gson gson1 = new Gson();\r\n            String json = sharedx.getString(CONSTANTS.PREF_KEY_DownloadName, String.valueOf(gson1));\r\n            String json1 = sharedx.getString(CONSTANTS.PREF_KEY_DownloadUrl, String.valueOf(gson1));\r\n            String json2 = sharedx.getString(CONSTANTS.PREF_KEY_DownloadPlaylistId, String.valueOf(gson1));\r\n            if (!json1.equalsIgnoreCase(String.valueOf(gson1))) {\r\n                Type type = new TypeToken<List<String>>() {\r\n                }.getType();\r\n                List<String> fileNameList = gson1.fromJson(json, type);\r\n                List<String> audioFile1 = gson1.fromJson(json1, type);\r\n                List<String> playlistId1 = gson1.fromJson(json2, type);\r\n                if (fileNameList.size() != 0) {\r\n                    url.addAll(audioFile1);\r\n                    name.addAll(fileNameList);\r\n                    downloadPlaylistId.addAll(playlistId1);\r\n                }\r\n            }\r\n            if (url.size() != 0) {\r\n                DownloadMedia downloadMedia = new DownloadMedia(getActivity().getApplicationContext());\r\n                downloadMedia.encrypt1(url, name, downloadPlaylistId/*, playlistSongs*/);\r\n                SharedPreferences shared = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_DownloadPlaylist, Context.MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = shared.edit();\r\n                Gson gson = new Gson();\r\n                String urlJson = gson.toJson(url);\r\n                String nameJson = gson.toJson(name);\r\n                String playlistIdJson = gson.toJson(downloadPlaylistId);\r\n                fileNameList = name;\r\n                playlistDownloadId = downloadPlaylistId;\r\n                editor.putString(CONSTANTS.PREF_KEY_DownloadName, nameJson);\r\n                editor.putString(CONSTANTS.PREF_KEY_DownloadUrl, urlJson);\r\n                editor.putString(CONSTANTS.PREF_KEY_DownloadPlaylistId, playlistIdJson);\r\n                editor.commit();\r\n                /*remainAudio = new ArrayList<>();\r\n                for (int i = 0; i < fileNameList.size(); i++) {\r\n                    if (playlistDownloadId.get(i).equalsIgnoreCase(PlaylistID)) {\r\n                        remainAudio.add(playlistDownloadId.get(i));\r\n                    }\r\n                }*/\r\n                SongListSize = playlistSongs.size();\r\n//                handler1.postDelayed(UpdateSongTime1, 500);\r\n            }\r\n            binding.pbProgress.setVisibility(View.VISIBLE);\r\n            binding.ivDownloads.setVisibility(View.GONE);\r\n//            String dirPath = FileUtils.getFilePath(getActivity().getApplicationContext(), Name);\r\n//            SaveMedia(EncodeBytes, dirPath, playlistSongs, i, llDownload);\r\n            getMediaByPer(PlaylistID, playlistWiseAudioDetails.size());\r\n            savePlaylist();\r\n            saveAllMedia(playlistSongs, playlistSongs2, encodedBytes);\r\n        } else {\r\n            boolean downloadOrNot = false;\r\n            if (downloadAudioDetailsList.size() != 0) {\r\n                for (int i = 0; i < downloadAudioDetailsList.size(); i++) {\r\n                    if (downloadAudioDetailsList.get(i).equals(audioFile)) {\r\n                        downloadOrNot = false;\r\n                        break;\r\n                    } else {\r\n                        downloadOrNot = true;\r\n                    }\r\n                }\r\n            } else {\r\n                downloadOrNot = true;\r\n            }\r\n            if (downloadOrNot) {\r\n                disableDownload(llDownload, ivDownloads);\r\n                List<String> url = new ArrayList<>();\r\n                List<String> name = new ArrayList<>();\r\n                List<String> downloadPlaylistId = new ArrayList<>();\r\n                SharedPreferences sharedx = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_DownloadPlaylist, MODE_PRIVATE);\r\n                Gson gson1 = new Gson();\r\n                String json = sharedx.getString(CONSTANTS.PREF_KEY_DownloadName, String.valueOf(gson1));\r\n                String json1 = sharedx.getString(CONSTANTS.PREF_KEY_DownloadUrl, String.valueOf(gson1));\r\n                String json2 = sharedx.getString(CONSTANTS.PREF_KEY_DownloadPlaylistId, String.valueOf(gson1));\r\n                if (!json1.equalsIgnoreCase(String.valueOf(gson1))) {\r\n                    Type type = new TypeToken<List<String>>() {\r\n                    }.getType();\r\n                    List<String> fileNameList = gson1.fromJson(json, type);\r\n                    List<String> audioFile1 = gson1.fromJson(json1, type);\r\n                    List<String> playlistId1 = gson1.fromJson(json2, type);\r\n                    if (fileNameList.size() != 0) {\r\n                        url.addAll(audioFile1);\r\n                        name.addAll(fileNameList);\r\n                        downloadPlaylistId.addAll(playlistId1);\r\n                    }\r\n                }\r\n                url.add(audioFile);\r\n                name.add(Name);\r\n                downloadPlaylistId.add(\"\");\r\n                if (url.size() != 0) {\r\n                    DownloadMedia downloadMedia = new DownloadMedia(getActivity().getApplicationContext());\r\n                    downloadMedia.encrypt1(url, name, downloadPlaylistId/*, playlistSongs*/);\r\n                    SharedPreferences shared = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_DownloadPlaylist, Context.MODE_PRIVATE);\r\n                    SharedPreferences.Editor editor = shared.edit();\r\n                    Gson gson = new Gson();\r\n                    String urlJson = gson.toJson(url);\r\n                    String nameJson = gson.toJson(name);\r\n                    String playlistIdJson = gson.toJson(downloadPlaylistId);\r\n                    editor.putString(CONSTANTS.PREF_KEY_DownloadName, nameJson);\r\n                    editor.putString(CONSTANTS.PREF_KEY_DownloadUrl, urlJson);\r\n                    editor.putString(CONSTANTS.PREF_KEY_DownloadPlaylistId, playlistIdJson);\r\n                    editor.commit();\r\n                    fileNameList = name;\r\n                    playlistDownloadId = downloadPlaylistId;\r\n                }\r\n            }\r\n            String dirPath = FileUtils.getFilePath(getActivity().getApplicationContext(), Name);\r\n            SaveMedia(new byte[1024], dirPath, playlistSongs, position, llDownload, ivDownloads);\r\n            handler2.postDelayed(UpdateSongTime2, 200);\r\n        }\r\n    }\r\n\r\n    private void savePlaylist() {\r\n        class SaveMedia extends AsyncTask<Void, Void, Void> {\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                DatabaseClient.getInstance(getActivity())\r\n                        .getaudioDatabase()\r\n                        .taskDao()\r\n                        .insertPlaylist(downloadPlaylistDetails);\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n//                llDownload.setClickable(false);\r\n//                llDownload.setEnabled(false);\r\n                getMediaByPer(PlaylistID, playlistWiseAudioDetails.size());\r\n                super.onPostExecute(aVoid);\r\n            }\r\n        }\r\n        SaveMedia st = new SaveMedia();\r\n        st.execute();\r\n    }\r\n\r\n    private void saveAllMedia(ArrayList<SubPlayListModel.ResponseData.PlaylistSong> playlistSongs, ArrayList<SubPlayListModel.ResponseData.PlaylistSong> playlistSongs2, byte[] encodedBytes) {\r\n        class SaveMedia extends AsyncTask<Void, Void, Void> {\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                DownloadAudioDetails downloadAudioDetails = new DownloadAudioDetails();\r\n                for (int i = 0; i < playlistSongs.size(); i++) {\r\n                    downloadAudioDetails.setID(playlistSongs.get(i).getID());\r\n                    downloadAudioDetails.setName(playlistSongs.get(i).getName());\r\n                    downloadAudioDetails.setAudioFile(playlistSongs.get(i).getAudioFile());\r\n                    downloadAudioDetails.setAudioDirection(playlistSongs.get(i).getAudioDirection());\r\n                    downloadAudioDetails.setAudiomastercat(playlistSongs.get(i).getAudiomastercat());\r\n                    downloadAudioDetails.setAudioSubCategory(playlistSongs.get(i).getAudioSubCategory());\r\n                    downloadAudioDetails.setImageFile(playlistSongs.get(i).getImageFile());\r\n                    downloadAudioDetails.setLike(playlistSongs.get(i).getLike());\r\n                    downloadAudioDetails.setPlaylistId(PlaylistID);\r\n                    downloadAudioDetails.setDownload(\"1\");\r\n                    downloadAudioDetails.setAudioDuration(playlistSongs.get(i).getAudioDuration());\r\n                    downloadAudioDetails.setIsSingle(\"0\");\r\n                    if (downloadAudioDetailsList.size() != 0) {\r\n                        for (int y = 0; y < downloadAudioDetailsList.size(); y++) {\r\n                            if (playlistSongs.get(i).getAudioFile().equalsIgnoreCase(downloadAudioDetailsList.get(y).getAudioFile())) {\r\n                                downloadAudioDetails.setIsDownload(\"Complete\");\r\n                                downloadAudioDetails.setDownloadProgress(100);\r\n                                break;\r\n                            } else {\r\n                                downloadAudioDetails.setIsDownload(\"pending\");\r\n                                downloadAudioDetails.setDownloadProgress(0);\r\n                            }\r\n\r\n                        }\r\n                    }\r\n\r\n                    DatabaseClient.getInstance(getActivity())\r\n                            .getaudioDatabase()\r\n                            .taskDao()\r\n                            .insertMedia(downloadAudioDetails);\r\n                }\r\n\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n//                llDownload.setClickable(false);\r\n//                llDownload.setEnabled(false);\r\n\r\n                getMediaByPer(PlaylistID, playlistWiseAudioDetails.size());\r\n                enableDisableDownload(false, \"orange\");\r\n                downloadAudioDetailsList = GetAllMedia();\r\n                playlistWiseAudioDetails = GetMedia();\r\n                super.onPostExecute(aVoid);\r\n            }\r\n        }\r\n\r\n        SaveMedia st = new SaveMedia();\r\n        st.execute();\r\n    }\r\n\r\n    private void SaveMedia(byte[] encodeBytes, String dirPath, ArrayList<SubPlayListModel.ResponseData.PlaylistSong> playlistSongs, int i, RelativeLayout llDownload, ImageView ivDownloads) {\r\n        class SaveMedia extends AsyncTask<Void, Void, Void> {\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                DownloadAudioDetails downloadAudioDetails = new DownloadAudioDetails();\r\n                downloadAudioDetails.setID(playlistSongs.get(i).getID());\r\n                downloadAudioDetails.setName(playlistSongs.get(i).getName());\r\n                downloadAudioDetails.setAudioFile(playlistSongs.get(i).getAudioFile());\r\n                downloadAudioDetails.setAudioDirection(playlistSongs.get(i).getAudioDirection());\r\n                downloadAudioDetails.setAudiomastercat(playlistSongs.get(i).getAudiomastercat());\r\n                downloadAudioDetails.setAudioSubCategory(playlistSongs.get(i).getAudioSubCategory());\r\n                downloadAudioDetails.setImageFile(playlistSongs.get(i).getImageFile());\r\n                downloadAudioDetails.setLike(playlistSongs.get(i).getLike());\r\n                downloadAudioDetails.setDownload(\"1\");\r\n                downloadAudioDetails.setAudioDuration(playlistSongs.get(i).getAudioDuration());\r\n                downloadAudioDetails.setIsSingle(\"1\");\r\n                downloadAudioDetails.setPlaylistId(\"\");\r\n                downloadAudioDetails.setIsDownload(\"pending\");\r\n                downloadAudioDetails.setDownloadProgress(0);\r\n                DatabaseClient.getInstance(activity)\r\n                        .getaudioDatabase()\r\n                        .taskDao()\r\n                        .insertMedia(downloadAudioDetails);\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                downloadAudioDetailsList = GetAllMedia();\r\n                playlistWiseAudioDetails = GetMedia();\r\n                disableDownload(llDownload, ivDownloads);\r\n                super.onPostExecute(aVoid);\r\n            }\r\n        }\r\n\r\n        SaveMedia st = new SaveMedia();\r\n        st.execute();\r\n    }\r\n\r\n    public void GetMedia(String url, Context ctx, String download, RelativeLayout llDownload, ImageView ivDownloads) {\r\n        oneAudioDetailsList = new ArrayList<>();\r\n        class GetMedia extends AsyncTask<Void, Void, Void> {\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n\r\n                oneAudioDetailsList = DatabaseClient\r\n                        .getInstance(ctx)\r\n                        .getaudioDatabase()\r\n                        .taskDao()\r\n                        .getLastIdByuId(url);\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                if (oneAudioDetailsList.size() != 0) {\r\n                    if (oneAudioDetailsList.get(0).getDownload().equalsIgnoreCase(\"1\")) {\r\n                        disableDownload(llDownload, ivDownloads);\r\n                    }\r\n                } else if (download.equalsIgnoreCase(\"1\")) {\r\n                    disableDownload(llDownload, ivDownloads);\r\n                } else {\r\n                    enableDownload(llDownload, ivDownloads);\r\n                }\r\n                super.onPostExecute(aVoid);\r\n            }\r\n        }\r\n\r\n        GetMedia st = new GetMedia();\r\n        st.execute();\r\n    }\r\n\r\n    public List<DownloadAudioDetails> GetMedia() {\r\n        playlistWiseAudioDetails = new ArrayList<>();\r\n        class GetMedia extends AsyncTask<Void, Void, Void> {\r\n\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n\r\n                playlistWiseAudioDetails = DatabaseClient\r\n                        .getInstance(getActivity())\r\n                        .getaudioDatabase()\r\n                        .taskDao()\r\n                        .getAllAudioByPlaylist(PlaylistID);\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                if (MyDownloads.equalsIgnoreCase(\"1\")) {\r\n                    if (downloadPlaylistDetailsList.size() != 0) {\r\n                        SubPlayListModel responseData = new SubPlayListModel();\r\n                        ArrayList<SubPlayListModel.ResponseData.PlaylistSong> details = new ArrayList<>();\r\n                        SubPlayListModel.ResponseData listModel = new SubPlayListModel.ResponseData();\r\n                        listModel.setPlaylistID(downloadPlaylistDetailsList.get(0).getPlaylistID());\r\n                        listModel.setPlaylistName(downloadPlaylistDetailsList.get(0).getPlaylistName());\r\n                        listModel.setPlaylistDesc(downloadPlaylistDetailsList.get(0).getPlaylistDesc());\r\n                        listModel.setPlaylistMastercat(downloadPlaylistDetailsList.get(0).getPlaylistMastercat());\r\n                        listModel.setPlaylistSubcat(downloadPlaylistDetailsList.get(0).getPlaylistSubcat());\r\n                        listModel.setPlaylistImage(downloadPlaylistDetailsList.get(0).getPlaylistImage());\r\n                        listModel.setTotalAudio(downloadPlaylistDetailsList.get(0).getTotalAudio());\r\n                        listModel.setTotalDuration(downloadPlaylistDetailsList.get(0).getTotalDuration());\r\n                        listModel.setTotalhour(downloadPlaylistDetailsList.get(0).getTotalhour());\r\n                        listModel.setTotalminute(downloadPlaylistDetailsList.get(0).getTotalminute());\r\n                        listModel.setCreated(downloadPlaylistDetailsList.get(0).getCreated());\r\n                        listModel.setLike(downloadPlaylistDetailsList.get(0).getLike());\r\n                        listModel.setIsReminder(downloadPlaylistDetailsList.get(0).getIsReminder());\r\n                        if (playlistWiseAudioDetails.size() != 0) {\r\n                            for (int i = 0; i < playlistWiseAudioDetails.size(); i++) {\r\n                                SubPlayListModel.ResponseData.PlaylistSong detail = new SubPlayListModel.ResponseData.PlaylistSong();\r\n                                detail.setID(playlistWiseAudioDetails.get(i).getID());\r\n                                detail.setName(playlistWiseAudioDetails.get(i).getName());\r\n                                detail.setAudioFile(playlistWiseAudioDetails.get(i).getAudioFile());\r\n                                detail.setAudioDirection(playlistWiseAudioDetails.get(i).getAudioDirection());\r\n                                detail.setAudiomastercat(playlistWiseAudioDetails.get(i).getAudiomastercat());\r\n                                detail.setAudioSubCategory(playlistWiseAudioDetails.get(i).getAudioSubCategory());\r\n                                detail.setImageFile(playlistWiseAudioDetails.get(i).getImageFile());\r\n                                detail.setLike(playlistWiseAudioDetails.get(i).getLike());\r\n                                detail.setDownload(playlistWiseAudioDetails.get(i).getDownload());\r\n                                detail.setAudioDuration(playlistWiseAudioDetails.get(i).getAudioDuration());\r\n                                details.add(detail);\r\n                            }\r\n                            listModel.setPlaylistSongs(details);\r\n                        }\r\n                        setData(listModel);\r\n                    }\r\n                }\r\n                super.onPostExecute(aVoid);\r\n            }\r\n        }\r\n\r\n        GetMedia st = new GetMedia();\r\n        st.execute();\r\n        return playlistWiseAudioDetails;\r\n    }\r\n\r\n    private void enableDownload(RelativeLayout llDownload, ImageView ivDownloads) {\r\n        llDownload.setClickable(true);\r\n        llDownload.setEnabled(true);\r\n        ivDownloads.setImageResource(R.drawable.ic_download_play_icon);\r\n        ivDownloads.setColorFilter(activity.getResources().getColor(R.color.black), PorterDuff.Mode.SRC_IN);\r\n    }\r\n\r\n    private void disableDownload(RelativeLayout llDownload, ImageView ivDownloads) {\r\n        ivDownloads.setImageResource(R.drawable.ic_download_play_icon);\r\n        ivDownloads.setColorFilter(activity.getResources().getColor(R.color.dark_yellow), PorterDuff.Mode.SRC_IN);\r\n        llDownload.setClickable(false);\r\n        llDownload.setEnabled(false);\r\n    }\r\n\r\n    @Override\r\n    public void requestDrag(RecyclerView.ViewHolder viewHolder) {\r\n        touchHelper.startDrag(viewHolder);\r\n    }\r\n\r\n    private void addDisclaimer() {\r\n        addDisclaimer = new SubPlayListModel.ResponseData.PlaylistSong();\r\n        addDisclaimer.setID(\"0\");\r\n        addDisclaimer.setName(\"Disclaimer\");\r\n        addDisclaimer.setAudioFile(\"\");\r\n        addDisclaimer.setAudioDirection(\"The audio shall start playing after the disclaimer\");\r\n        addDisclaimer.setAudiomastercat(\"\");\r\n        addDisclaimer.setAudioSubCategory(\"\");\r\n        addDisclaimer.setImageFile(\"\");\r\n        addDisclaimer.setLike(\"\");\r\n        addDisclaimer.setDownload(\"\");\r\n        addDisclaimer.setAudioDuration(\"0:48\");\r\n    }\r\n\r\n    public class PlayListsAdpater extends RecyclerView.Adapter<PlayListsAdpater.MyViewHolder> implements Filterable/*, StartDragListener*/, ItemMoveCallback.ItemTouchHelperContract {\r\n        Context ctx;\r\n        String UserID, Created, name;\r\n        StartDragListener startDragListener;\r\n        int isDownloading = 0;\r\n        private ArrayList<SubPlayListModel.ResponseData.PlaylistSong> listModelList;\r\n        private ArrayList<SubPlayListModel.ResponseData.PlaylistSong> listFilterData;\r\n\r\n        public PlayListsAdpater(ArrayList<SubPlayListModel.ResponseData.PlaylistSong> listModelList, Context ctx, String UserID,\r\n                                String Created, StartDragListener startDragListener) {\r\n            this.listModelList = listModelList;\r\n            this.listFilterData = listModelList;\r\n            this.ctx = ctx;\r\n            this.UserID = UserID;\r\n            this.Created = Created;\r\n            this.startDragListener = startDragListener;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            MyPlaylistLayoutSortingBinding v = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext())\r\n                    , R.layout.my_playlist_layout_sorting, parent, false);\r\n            return new MyViewHolder(v);\r\n        }\r\n\r\n        @SuppressLint(\"ClickableViewAccessibility\")\r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n            final ArrayList<SubPlayListModel.ResponseData.PlaylistSong> mData = listFilterData;\r\n            UpdateSongTime2 = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    for (int f = 0; f < listModelList.size(); f++) {\r\n                        if (fileNameList.size() != 0) {\r\n                            for (int i = 0; i < fileNameList.size(); i++) {\r\n                                if (fileNameList.get(i).equalsIgnoreCase(mData.get(position).getName())) {\r\n                                    if (!filename.equalsIgnoreCase(\"\") && filename.equalsIgnoreCase(mData.get(position).getName())) {\r\n                                        if (downloadProgress <= 100) {\r\n                                            notifyItemChanged(position);\r\n                                         /*   holder.binding.pbProgress.setProgress(downloadProgress);\r\n                                            holder.binding.pbProgress.setVisibility(View.VISIBLE);\r\n                                            holder.binding.ivDownloads.setVisibility(View.GONE);*/\r\n                                        } else {\r\n                                            holder.binding.pbProgress.setVisibility(View.GONE);\r\n                                            holder.binding.ivDownloads.setVisibility(View.VISIBLE);\r\n//                                            handler2.removeCallbacks(UpdateSongTime2);\r\n                                            getDownloadData();\r\n                                        }\r\n                                    } else {\r\n                                        notifyItemChanged(position);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (downloadProgress == 0) {\r\n                        notifyDataSetChanged();\r\n                        getDownloadData();\r\n                    }\r\n                    handler2.postDelayed(this, 300);\r\n                }\r\n            };\r\n\r\n            if (Created.equalsIgnoreCase(\"1\")) {\r\n                binding.tvSearch.setVisibility(View.VISIBLE);\r\n                binding.searchView.setVisibility(View.GONE);\r\n            } else if (Created.equalsIgnoreCase(\"0\")) {\r\n                binding.tvSearch.setVisibility(View.GONE);\r\n                binding.searchView.setVisibility(View.VISIBLE);\r\n            }\r\n            if (fileNameList.size() != 0) {\r\n             /*   for (int i = 0; i < fileNameList.size(); i++) {\r\n                    if (fileNameList.get(i).equalsIgnoreCase(mData.get(position).getName()) && playlistDownloadId.get(i).equalsIgnoreCase(\"\")) {\r\n                        holder.binding.pbProgress.setVisibility(View.VISIBLE);\r\n                        holder.binding.ivDownloads.setVisibility(View.GONE);\r\n                        isDownloading++;\r\n                        break;\r\n                    }else{\r\n                        holder.binding.pbProgress.setVisibility(View.GONE);\r\n                    }\r\n                }*/\r\n                for (int i = 0; i < fileNameList.size(); i++) {\r\n                    if (fileNameList.get(i).equalsIgnoreCase(mData.get(position).getName()) && playlistDownloadId.get(i).equalsIgnoreCase(\"\")) {\r\n                        if (!filename.equalsIgnoreCase(\"\") && filename.equalsIgnoreCase(mData.get(position).getName())) {\r\n                            if (downloadProgress <= 100) {\r\n                                if (downloadProgress == 100) {\r\n                                    holder.binding.pbProgress.setVisibility(View.GONE);\r\n                                    holder.binding.ivDownloads.setVisibility(View.VISIBLE);\r\n                                } else {\r\n                                    holder.binding.pbProgress.setProgress(downloadProgress);\r\n                                    holder.binding.pbProgress.setVisibility(View.VISIBLE);\r\n                                    holder.binding.ivDownloads.setVisibility(View.GONE);\r\n                                }\r\n                            } else {\r\n                                holder.binding.pbProgress.setVisibility(View.GONE);\r\n                                holder.binding.ivDownloads.setVisibility(View.VISIBLE);\r\n//                                handler2.removeCallbacks(UpdateSongTime2);\r\n                            }\r\n                        } else {\r\n                            holder.binding.pbProgress.setVisibility(View.VISIBLE);\r\n                            holder.binding.ivDownloads.setVisibility(View.GONE);\r\n                            handler2.postDelayed(UpdateSongTime2, 200);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                holder.binding.pbProgress.setVisibility(View.GONE);\r\n                holder.binding.ivDownloads.setVisibility(View.VISIBLE);\r\n            }\r\n            holder.binding.tvTitle.setText(mData.get(position).getName());\r\n            holder.binding.tvTime.setText(mData.get(position).getAudioDuration());\r\n            holder.binding.llSort.setOnTouchListener((v, event) -> {\r\n                SharedPreferences shared = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                    if (isDisclaimer == 1) {\r\n                        BWSApplication.showToast(\"The audio shall sort after the disclaimer\", ctx);\r\n                    } else {\r\n                        if (event.getAction() ==\r\n                                MotionEvent.ACTION_DOWN) {\r\n                            startDragListener.requestDrag(holder);\r\n                        }\r\n                        if (event.getAction() ==\r\n                                MotionEvent.ACTION_UP) {\r\n                            startDragListener.requestDrag(holder);\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (event.getAction() ==\r\n                            MotionEvent.ACTION_DOWN) {\r\n                        startDragListener.requestDrag(holder);\r\n                    }\r\n                    if (event.getAction() ==\r\n                            MotionEvent.ACTION_UP) {\r\n                        startDragListener.requestDrag(holder);\r\n                    }\r\n                }\r\n                return false;\r\n            });\r\n            String id = mData.get(position).getID();\r\n//            GetMedia(id, activity, mData.get(position).getDownload(), holder.binding.llDownload, holder.binding.ivDownloads);\r\n            for (int i = 0; i < downloadAudioDetailsList.size(); i++) {\r\n                if (downloadAudioDetailsList.get(i).getAudioFile().equalsIgnoreCase(mData.get(position).getAudioFile())\r\n                        && downloadAudioDetailsList.get(i).getPlaylistId().equalsIgnoreCase(\"\")) {\r\n                    //disableName.add(mData.get(position).getName());\r\n                    disableDownload(holder.binding.llDownload, holder.binding.ivDownloads);\r\n                    break;\r\n                } else {\r\n                    enableDownload(holder.binding.llDownload, holder.binding.ivDownloads);\r\n                }\r\n            }\r\n            MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                    1, 1, 0.12f, 0);\r\n            holder.binding.ivRestaurantImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n            holder.binding.ivRestaurantImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n            holder.binding.ivRestaurantImage.setScaleType(ImageView.ScaleType.FIT_XY);\r\n            Glide.with(ctx).load(mData.get(position).getImageFile()).thumbnail(0.05f)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(holder.binding.ivRestaurantImage);\r\n\r\n            binding.ivPlaylistStatus.setOnClickListener(view -> {\r\n                SharedPreferences shared = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"\");\r\n                if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(listModelList.get(0).getPlaylistID())) {\r\n\r\n                    if (isDisclaimer == 1) {\r\n                        BWSApplication.showToast(\"The audio shall start playing after the disclaimer\", ctx);\r\n                    } else {\r\n                        callTransparentFrag(0, ctx, listModelList, \"myPlaylist\", PlaylistID);\r\n                    }\r\n                } else {\r\n                    isDisclaimer = 0;\r\n                    disclaimerPlayed = 0;\r\n                    ArrayList<SubPlayListModel.ResponseData.PlaylistSong> listModelList2 = new ArrayList<>();\r\n                    listModelList2.add(addDisclaimer);\r\n                    listModelList2.addAll(listModelList);\r\n                    callTransparentFrag(0, ctx, listModelList2, \"myPlaylist\", PlaylistID);\r\n                }\r\n            });\r\n            holder.binding.llMainLayout.setOnClickListener(view -> {\r\n                SharedPreferences shared = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"\");\r\n                if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                    if (isDisclaimer == 1) {\r\n                        BWSApplication.showToast(\"The audio shall start playing after the disclaimer\", ctx);\r\n                    } else {\r\n                        callTransparentFrag(position, ctx, listModelList, \"myPlaylist\", PlaylistID);\r\n                    }\r\n                } else {\r\n                    isDisclaimer = 0;\r\n                    disclaimerPlayed = 0;\r\n                    ArrayList<SubPlayListModel.ResponseData.PlaylistSong> listModelList2 = new ArrayList<>();\r\n                    if (position != 0) {\r\n                        listModelList2.addAll(listModelList);\r\n                        listModelList2.add(position, addDisclaimer);\r\n                    } else {\r\n                        listModelList2.add(addDisclaimer);\r\n                        listModelList2.addAll(listModelList);\r\n                    }\r\n                    callTransparentFrag(position, ctx, listModelList2, \"myPlaylist\", PlaylistID);\r\n                }\r\n            });\r\n\r\n//            if (changedAudio != null) {\r\n//                callDragApi();\r\n//            }\r\n            holder.binding.llDownload.setOnClickListener(view -> {\r\n                name = mData.get(position).getName();\r\n                holder.binding.pbProgress.setVisibility(View.VISIBLE);\r\n                holder.binding.ivDownloads.setVisibility(View.GONE);\r\n                callDownload(mData.get(position).getID(), mData.get(position).getAudioFile(), mData.get(position).getName(), listFilterData, position, holder.binding.llDownload, holder.binding.ivDownloads);\r\n            });\r\n            try {\r\n                holder.binding.llRemove.setOnClickListener(view -> {\r\n                    SharedPreferences shared = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                    boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                    AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                    String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                    if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                        if (isDisclaimer == 1) {\r\n                            BWSApplication.showToast(\"The audio shall remove after the disclaimer\", ctx);\r\n                        } else {\r\n                            if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID) && mData.size() == 1) {\r\n                                BWSApplication.showToast(\"Currently you play this playlist, you can't remove last audio\", ctx);\r\n                            } else {\r\n                                callRemove(mData.get(position).getID(), mData.get(position).getPlaylistAudioId(), mData, position);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID) && mData.size() == 1) {\r\n                            BWSApplication.showToast(\"Currently you play this playlist, you can't remove last audio\", ctx);\r\n                        } else {\r\n                            callRemove(mData.get(position).getID(), mData.get(position).getPlaylistAudioId(), mData, position);\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            if (listFilterData != null) {\r\n                return listFilterData.size();\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public void onRowMoved(int fromPosition, int toPosition) {\r\n            if (fromPosition < toPosition) {\r\n                for (int i = fromPosition; i < toPosition; i++) {\r\n                    Collections.swap(listModelList, i, i + 1);\r\n                }\r\n            } else {\r\n                for (int i = fromPosition; i > toPosition; i--) {\r\n                    Collections.swap(listModelList, i, i - 1);\r\n                }\r\n            }\r\n            changedAudio.clear();\r\n            for (int i = 0; i < listModelList.size(); i++) {\r\n                changedAudio.add(listModelList.get(i).getID());\r\n            }\r\n\r\n            SharedPreferences shared = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n            boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n            AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n            int pos = shared.getInt(CONSTANTS.PREF_KEY_position, 0);\r\n            if (audioPlay) {\r\n                if (AudioFlag.equalsIgnoreCase(\"SubPlayList\")) {\r\n                    String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                    if (pID.equalsIgnoreCase(PlaylistID)) {\r\n                        if (fromPosition == pos) {\r\n                            pos = toPosition;\r\n                        }/* else if (toPosition == pos) {\r\n                            if (action == 0) {\r\n                                pos = pos + 1;\r\n                            } else if (action == 1) {\r\n                                pos = pos - 1;\r\n                            }\r\n                        }*/ else if (fromPosition < pos && toPosition > pos) {\r\n                            pos = pos - 1;\r\n                        } else if ((fromPosition > pos && toPosition > pos) || (fromPosition < pos && toPosition < pos)) {\r\n                            pos = pos;\r\n                        } else if (fromPosition > pos && toPosition < pos) {\r\n                            pos = pos + 1;\r\n                        } else if (fromPosition > pos && toPosition == pos) {\r\n                            pos = pos + 1;\r\n                        } else if (fromPosition < pos && toPosition == pos) {\r\n                            pos = pos - 1;\r\n                        }\r\n                        SharedPreferences shareddd = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n                        SharedPreferences.Editor editor = shareddd.edit();\r\n                        Gson gson = new Gson();\r\n                        String json = gson.toJson(listModelList);\r\n                        editor.putString(CONSTANTS.PREF_KEY_modelList, json);\r\n                        editor.putInt(CONSTANTS.PREF_KEY_position, pos);\r\n                        editor.putBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n                        editor.putBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                        editor.putString(CONSTANTS.PREF_KEY_PlaylistId, PlaylistID);\r\n                        editor.putString(CONSTANTS.PREF_KEY_myPlaylist, \"myPlaylist\");\r\n                        editor.putString(CONSTANTS.PREF_KEY_AudioFlag, \"SubPlayList\");\r\n                        editor.commit();\r\n                        callAddTransFrag();\r\n                    }\r\n                }\r\n            }\r\n            callDragApi();\r\n\r\n            notifyItemMoved(fromPosition, toPosition);\r\n\r\n         /* SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson = new Gson();\r\n            String json = gson.toJson(listModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json);\r\n            editor.commit();*/\r\n\r\n        }\r\n\r\n        private void callDragApi() {\r\n            if (BWSApplication.isNetworkConnected(getActivity())) {\r\n                Call<CardModel> listCall = APIClient.getClient().setShortedAudio(UserID, PlaylistID, TextUtils.join(\",\", changedAudio));\r\n                listCall.enqueue(new Callback<CardModel>() {\r\n                    @Override\r\n                    public void onResponse(Call<CardModel> call, Response<CardModel> response) {\r\n                        if (response.isSuccessful()) {\r\n                            CardModel listModel = response.body();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(Call<CardModel> call, Throwable t) {\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onRowSelected(RecyclerView.ViewHolder myViewHolder) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onRowClear(RecyclerView.ViewHolder myViewHolder) {\r\n\r\n        }\r\n\r\n\r\n        @Override\r\n        public Filter getFilter() {\r\n            return new Filter() {\r\n                @Override\r\n                protected FilterResults performFiltering(CharSequence charSequence) {\r\n                    final FilterResults filterResults = new FilterResults();\r\n                    String charString = charSequence.toString();\r\n                    if (charString.isEmpty()) {\r\n                        listFilterData = listModelList;\r\n                    } else {\r\n                        ArrayList<SubPlayListModel.ResponseData.PlaylistSong> filteredList = new ArrayList<>();\r\n                        for (SubPlayListModel.ResponseData.PlaylistSong row : listModelList) {\r\n                            if (row.getName().toLowerCase().contains(charString.toLowerCase())) {\r\n                                filteredList.add(row);\r\n                            }\r\n                        }\r\n                        listFilterData = filteredList;\r\n                    }\r\n                    filterResults.values = listFilterData;\r\n                    return filterResults;\r\n                }\r\n\r\n                @Override\r\n                protected void publishResults(CharSequence charSequence, FilterResults filterResults) {\r\n                    if (listFilterData.size() == 0) {\r\n                        binding.llError.setVisibility(View.VISIBLE);\r\n                        binding.tvFound.setText(\"Couldn't find '\" + SearchFlag + \"'. Try searching again\");\r\n                        binding.rvPlayLists.setVisibility(View.GONE);\r\n                    } else {\r\n                        binding.llError.setVisibility(View.GONE);\r\n                        binding.rvPlayLists.setVisibility(View.VISIBLE);\r\n                        listFilterData = (ArrayList<SubPlayListModel.ResponseData.PlaylistSong>) filterResults.values;\r\n                        notifyDataSetChanged();\r\n                    }\r\n                }\r\n            };\r\n        }\r\n\r\n\r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            MyPlaylistLayoutSortingBinding binding;\r\n\r\n            public MyViewHolder(MyPlaylistLayoutSortingBinding binding) {\r\n                super(binding.getRoot());\r\n                this.binding = binding;\r\n            }\r\n        }\r\n    }\r\n\r\n    public class PlayListsAdpater2 extends RecyclerView.Adapter<PlayListsAdpater2.MyViewHolder2> implements Filterable {\r\n        Context ctx;\r\n        String UserID, Created;\r\n        private ArrayList<SubPlayListModel.ResponseData.PlaylistSong> listModelList;\r\n        private ArrayList<SubPlayListModel.ResponseData.PlaylistSong> listFilterData;\r\n\r\n        public PlayListsAdpater2(ArrayList<SubPlayListModel.ResponseData.PlaylistSong> listModelList, Context ctx, String UserID,\r\n                                 String Created) {\r\n            this.listModelList = listModelList;\r\n            this.listFilterData = listModelList;\r\n            this.ctx = ctx;\r\n            this.UserID = UserID;\r\n            this.Created = Created;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder2 onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            MyPlaylistLayoutBinding v = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext())\r\n                    , R.layout.my_playlist_layout, parent, false);\r\n            return new MyViewHolder2(v);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder2 holder, int position) {\r\n            final ArrayList<SubPlayListModel.ResponseData.PlaylistSong> mData = listFilterData;\r\n            holder.binding.tvTitleA.setText(mData.get(position).getName());\r\n            holder.binding.tvTitleB.setText(mData.get(position).getName());\r\n            holder.binding.tvTimeA.setText(mData.get(position).getAudioDuration());\r\n            holder.binding.tvTimeB.setText(mData.get(position).getAudioDuration());\r\n            String id = mData.get(position).getID();\r\n            MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                    1, 1, 0.12f, 0);\r\n            holder.binding.ivRestaurantImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n            holder.binding.ivRestaurantImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n            holder.binding.ivRestaurantImage.setScaleType(ImageView.ScaleType.FIT_XY);\r\n            Glide.with(ctx).load(mData.get(position).getImageFile()).thumbnail(0.05f)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(holder.binding.ivRestaurantImage);\r\n//            GetMedia(id, activity, mData.get(position).getDownload(), holder.binding.llDownload, holder.binding.ivDownloads);\r\n            binding.ivPlaylistStatus.setOnClickListener(view -> {\r\n                SharedPreferences shared = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"\");\r\n                if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                    if (isDisclaimer == 1) {\r\n                        BWSApplication.showToast(\"The audio shall start playing after the disclaimer\", ctx);\r\n                    } else {\r\n                        callTransparentFrag(0, ctx, listModelList, \"\", PlaylistID);\r\n                    }\r\n                } else {\r\n                    isDisclaimer = 0;\r\n                    disclaimerPlayed = 0;\r\n                    ArrayList<SubPlayListModel.ResponseData.PlaylistSong> listModelList2 = new ArrayList<>();\r\n                    listModelList2.addAll(listModelList);\r\n                    callTransparentFrag(0, ctx, listModelList2, \"\", PlaylistID);\r\n                }\r\n            });\r\n            holder.binding.llMainLayout.setOnClickListener(view -> {\r\n                SharedPreferences shared = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"\");\r\n                if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                    if (isDisclaimer == 1) {\r\n                        BWSApplication.showToast(\"The audio shall start playing after the disclaimer\", ctx);\r\n                    } else {\r\n                        callTransparentFrag(position, ctx, listModelList, \"\", PlaylistID);\r\n                    }\r\n                } else {\r\n                    isDisclaimer = 0;\r\n                    disclaimerPlayed = 0;\r\n                    ArrayList<SubPlayListModel.ResponseData.PlaylistSong> listModelList2 = new ArrayList<>();\r\n                    if (position != 0) {\r\n                        listModelList2.addAll(listModelList);\r\n                        listModelList2.add(position, addDisclaimer);\r\n                    } else {\r\n                        listModelList2.add(addDisclaimer);\r\n                        listModelList2.addAll(listModelList);\r\n                    }\r\n                    callTransparentFrag(position, ctx, listModelList2, \"\", PlaylistID);\r\n                }\r\n            });\r\n\r\n            if (Created.equalsIgnoreCase(\"1\")) {\r\n                holder.binding.llMore.setVisibility(View.GONE);\r\n                holder.binding.llCenterLayoutA.setVisibility(View.GONE);\r\n                holder.binding.llCenterLayoutB.setVisibility(View.VISIBLE);\r\n                holder.binding.llDownload.setVisibility(View.VISIBLE);\r\n                holder.binding.llRemove.setVisibility(View.VISIBLE);\r\n                holder.binding.llSort.setVisibility(View.VISIBLE);\r\n                binding.tvSearch.setVisibility(View.VISIBLE);\r\n                binding.searchView.setVisibility(View.GONE);\r\n            } else if (Created.equalsIgnoreCase(\"0\")) {\r\n                holder.binding.llMore.setVisibility(View.VISIBLE);\r\n                holder.binding.llCenterLayoutA.setVisibility(View.VISIBLE);\r\n                holder.binding.llCenterLayoutB.setVisibility(View.GONE);\r\n                holder.binding.llDownload.setVisibility(View.GONE);\r\n                holder.binding.llRemove.setVisibility(View.GONE);\r\n                holder.binding.llSort.setVisibility(View.GONE);\r\n                binding.tvSearch.setVisibility(View.GONE);\r\n                binding.searchView.setVisibility(View.VISIBLE);\r\n            }\r\n\r\n            if (BWSApplication.isNetworkConnected(ctx)) {\r\n                holder.binding.llMore.setClickable(true);\r\n                holder.binding.llMore.setEnabled(true);\r\n                holder.binding.ivMore.setColorFilter(ContextCompat.getColor(getActivity(), R.color.black), android.graphics.PorterDuff.Mode.SRC_IN);\r\n\r\n            } else {\r\n                holder.binding.llMore.setClickable(false);\r\n                holder.binding.llMore.setEnabled(false);\r\n                holder.binding.ivMore.setColorFilter(ContextCompat.getColor(getActivity(), R.color.light_gray), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            }\r\n            holder.binding.llMore.setOnClickListener(view -> {\r\n                SharedPreferences shared = getActivity().getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                    if (isDisclaimer == 1) {\r\n                        BWSApplication.showToast(\"You can see details after the disclaimer\", ctx);\r\n                    } else {\r\n                        Intent i = new Intent(ctx, AddQueueActivity.class);\r\n                        i.putExtra(\"play\", \"playlist\");\r\n                        i.putExtra(\"ID\", mData.get(position).getID());\r\n                        i.putExtra(\"PlaylistAudioId\", mData.get(position).getPlaylistAudioId());\r\n                        i.putExtra(\"position\", position);\r\n                        i.putParcelableArrayListExtra(\"data\", mData);\r\n                        i.putExtra(\"comeFrom\", \"myPlayList\");\r\n                        startActivity(i);\r\n                    }\r\n                } else {\r\n                    Intent i = new Intent(ctx, AddQueueActivity.class);\r\n                    i.putExtra(\"play\", \"playlist\");\r\n                    i.putExtra(\"ID\", mData.get(position).getID());\r\n                    i.putExtra(\"PlaylistAudioId\", mData.get(position).getPlaylistAudioId());\r\n                    i.putExtra(\"position\", position);\r\n                    i.putParcelableArrayListExtra(\"data\", mData);\r\n                    i.putExtra(\"comeFrom\", \"myPlayList\");\r\n                    startActivity(i);\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return listFilterData.size();\r\n        }\r\n\r\n        @Override\r\n        public Filter getFilter() {\r\n            return new Filter() {\r\n                @Override\r\n                protected FilterResults performFiltering(CharSequence charSequence) {\r\n                    final FilterResults filterResults = new FilterResults();\r\n                    String charString = charSequence.toString();\r\n                    if (charString.isEmpty()) {\r\n                        listFilterData = listModelList;\r\n                    } else {\r\n                        ArrayList<SubPlayListModel.ResponseData.PlaylistSong> filteredList = new ArrayList<>();\r\n                        for (SubPlayListModel.ResponseData.PlaylistSong row : listModelList) {\r\n                            if (row.getName().toLowerCase().contains(charString.toLowerCase())) {\r\n                                filteredList.add(row);\r\n                            }\r\n                        }\r\n                        listFilterData = filteredList;\r\n                    }\r\n                    filterResults.values = listFilterData;\r\n                    return filterResults;\r\n                }\r\n\r\n                @Override\r\n                protected void publishResults(CharSequence charSequence, FilterResults filterResults) {\r\n                    if (listFilterData.size() == 0) {\r\n                        binding.llError.setVisibility(View.VISIBLE);\r\n                        binding.rvPlayLists.setVisibility(View.GONE);\r\n                        binding.tvFound.setText(\"Couldn't find '\" + SearchFlag + \"'. Try searching again\");\r\n                        Log.e(\"search\", SearchFlag);\r\n                    } else {\r\n                        binding.llError.setVisibility(View.GONE);\r\n                        binding.rvPlayLists.setVisibility(View.VISIBLE);\r\n                        listFilterData = (ArrayList<SubPlayListModel.ResponseData.PlaylistSong>) filterResults.values;\r\n                        notifyDataSetChanged();\r\n                    }\r\n                }\r\n            };\r\n        }\r\n\r\n        public class MyViewHolder2 extends RecyclerView.ViewHolder {\r\n            MyPlaylistLayoutBinding binding;\r\n\r\n            public MyViewHolder2(MyPlaylistLayoutBinding binding) {\r\n                super(binding.getRoot());\r\n                this.binding = binding;\r\n            }\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/brainwellnessspa/DashboardModule/Playlist/MyPlaylistsFragment.java	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
+++ app/src/main/java/com/brainwellnessspa/DashboardModule/Playlist/MyPlaylistsFragment.java	(date 1603255840464)
@@ -471,6 +471,7 @@
                 bundle.putString("MyDownloads", MyDownloads);
                 playlistFragment.setArguments(bundle);
 //            comefrom_search = 0;
+                Log.e("aaaaaaaaaaaa","aaaaaaaaaaaaaa");
             } else if (comefrom_search == 1) {
                 Fragment fragment = new SearchFragment();
                 FragmentManager fragmentManager1 = getActivity().getSupportFragmentManager();
@@ -478,6 +479,7 @@
                         .replace(R.id.flContainer, fragment)
                         .commit();
                 comefrom_search = 0;
+                Log.e("aaaaaaaaaaaa","bbbbbbbbbbbbbbbb");
             } else if (comefrom_search == 0) {
                 Fragment fragment = new PlaylistFragment();
                 FragmentManager fragmentManager1 = getActivity().getSupportFragmentManager();
@@ -485,26 +487,20 @@
                         .replace(R.id.flContainer, fragment)
                         .commit();
                 comefrom_search = 0;
+                Log.e("aaaaaaaaaaaa","ccccccccccccc");
             } else if (comefrom_search == 3) {
                 Intent i = new Intent(getActivity(), DownloadsActivity.class);
                 ComeFrom_Playlist = true;
                 i.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
                 startActivity(i);
                 getActivity().finish();
+
+                Log.e("aaaaaaaaaaaa","dddddddddddddd");
 //            comefrom_search = 0;
             }
-
         } else {
-            RefreshPlaylist = true;
             prepareData(UserID, PlaylistIDs);
-        }
-
-        if (RefreshPlaylist) {
-            Fragment fragment = new PlaylistFragment();
-            FragmentManager fragmentManager1 = getActivity().getSupportFragmentManager();
-            fragmentManager1.beginTransaction()
-                    .replace(R.id.flContainer, fragment)
-                    .commit();
+            MyPlaylistIds = "";
         }
     }
 
Index: app/src/main/java/com/brainwellnessspa/ReminderModule/Activities/ReminderActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.brainwellnessspa.ReminderModule.Activities;\r\n\r\nimport android.app.Activity;\r\nimport android.app.Dialog;\r\nimport android.app.TimePickerDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.KeyEvent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.widget.FrameLayout;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.brainwellnessspa.BWSApplication;\r\nimport com.brainwellnessspa.BillingOrderModule.Activities.MembershipChangeActivity;\r\nimport com.brainwellnessspa.R;\r\nimport com.brainwellnessspa.ReminderModule.Models.SelectPlaylistModel;\r\nimport com.brainwellnessspa.ReminderModule.Models.SetReminderModel;\r\nimport com.brainwellnessspa.Utility.APIClient;\r\nimport com.brainwellnessspa.Utility.CONSTANTS;\r\nimport com.brainwellnessspa.databinding.ActivityReminderBinding;\r\nimport com.brainwellnessspa.databinding.SelectPlaylistLayoutBinding;\r\n\r\nimport java.text.DateFormat;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.time.Clock;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.TimeZone;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\nimport static com.brainwellnessspa.DashboardModule.Account.AccountFragment.ComeScreenReminder;\r\nimport static com.brainwellnessspa.DashboardModule.Account.AccountFragment.IsLock;\r\n\r\npublic class ReminderActivity extends AppCompatActivity {\r\n    ActivityReminderBinding binding;\r\n    Activity activity;\r\n    Context context;\r\n    Dialog dialog;\r\n    String am_pm, hourString, minuteSting, UserId, PlaylistID = \"\", PlaylistName = \"\", ComeFrom = \"\", Time = \"\", Day = \"\", currantTime;\r\n    ArrayList<String> remiderDays = new ArrayList<>();\r\n    private int mHour, mMinute;\r\n    SelectPlaylistAdapter adapter;\r\n    TimePickerDialog timePickerDialog;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_reminder);\r\n        context = ReminderActivity.this;\r\n        activity = ReminderActivity.this;\r\n        SharedPreferences shared1 = getSharedPreferences(CONSTANTS.PREF_KEY_LOGIN, Context.MODE_PRIVATE);\r\n        UserId = (shared1.getString(CONSTANTS.PREF_KEY_UserID, \"\"));\r\n\r\n        if (getIntent().getExtras() != null) {\r\n            ComeFrom = getIntent().getStringExtra(\"ComeFrom\");\r\n            PlaylistID = getIntent().getStringExtra(CONSTANTS.PlaylistID);\r\n            PlaylistName = getIntent().getStringExtra(\"PlaylistName\");\r\n        }\r\n\r\n        if (getIntent().getExtras() != null) {\r\n            Time = getIntent().getStringExtra(\"Time\");\r\n            Day = getIntent().getStringExtra(\"Day\");\r\n        }\r\n\r\n        RefreshButton();\r\n        ShowPlaylistName();\r\n\r\n        binding.llBack.setOnClickListener(view -> {\r\n            if (ComeScreenReminder == 1) {\r\n                Intent i = new Intent(context, ReminderDetailsActivity.class);\r\n                startActivity(i);\r\n                finish();\r\n            } else {\r\n                finish();\r\n            }\r\n        });\r\n\r\n        if (Time.equalsIgnoreCase(\"\") || Time.equalsIgnoreCase(\"0\")) {\r\n            SimpleDateFormat simpleDateFormat1 = new SimpleDateFormat(\"hh:mm a\");\r\n            /*if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.O) {\r\n                Clock clock = Clock.systemDefaultZone();\r\n                String timezone = (String.valueOf(clock.getZone()));\r\n                simpleDateFormat1.setTimeZone(TimeZone.getTimeZone(timezone));\r\n            } else {*/\r\n            simpleDateFormat1.setTimeZone(TimeZone.getTimeZone(\"GMT+8\"));\r\n//            }\r\n            DateFormat df = DateFormat.getTimeInstance();\r\n            String gmtTime = df.format(new Date());\r\n            Date currdate = new Date();\r\n            try {\r\n                currdate = simpleDateFormat1.parse(gmtTime);\r\n                Log.e(\"currant currdate !!!!\", String.valueOf(currdate));\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n            currantTime = simpleDateFormat1.format(currdate);\r\n//            Calendar rightNow = Calendar.getInstance();\r\n//            int currentHourIn12Format = rightNow.get(Calendar.HOUR);\r\n//            int currentminIn12Format = rightNow.get(Calendar.MINUTE);\r\n//            int ampm = rightNow.get(Calendar.AM_PM);\r\n            binding.tvTime.setText(currantTime);\r\n        } else {\r\n            binding.tvTime.setText(Time);\r\n            currantTime = Time;\r\n        }\r\n\r\n        binding.llSelectTime.setOnClickListener(view -> {\r\n            final Calendar c = Calendar.getInstance();\r\n//            TimeZone tz = c.getTimeZone();\r\n//            c.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\r\n//            Log.e(\"GMTTTTTT\", tz.getDisplayName());\r\n            SimpleDateFormat simpleDateFormat1 = new SimpleDateFormat(\"hh:mm a\");\r\n            simpleDateFormat1.setTimeZone(TimeZone.getTimeZone(\"GMT+8\"));\r\n//            }\r\n            DateFormat df = DateFormat.getTimeInstance();\r\n            String gmtTime = df.format(new Date());\r\n            Date currdate = new Date();\r\n            try {\r\n                currdate = simpleDateFormat1.parse(gmtTime);\r\n                Log.e(\"currant currdate !!!!\", String.valueOf(currdate));\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n            currantTime = simpleDateFormat1.format(currdate);\r\n            String[] time = currantTime.split(\":\");\r\n            String min[] = time[1].split(\" \");\r\n            mHour = Integer.parseInt(time[0]);\r\n//            mHour = c.get(Calendar.HOUR_OF_DAY);\r\n            mMinute = Integer.parseInt(min[0]);\r\n            String displayAmPm = min[1];\r\n            if (displayAmPm.equalsIgnoreCase(\"p.m\") || displayAmPm.equalsIgnoreCase(\"PM\")) {\r\n                mHour = mHour + 12;\r\n            }\r\n            timePickerDialog = new TimePickerDialog(ReminderActivity.this, R.style.TimePickerTheme,\r\n                    (view1, hourOfDay, minute) -> {\r\n                        if (hourOfDay < 10) {\r\n                            hourString = \"0\" + hourOfDay;\r\n                            am_pm = \"AM\";\r\n                        } else if (hourOfDay > 12) {\r\n                            am_pm = \"PM\";\r\n                            hourOfDay = hourOfDay - 12;\r\n                            hourString = \"\" + hourOfDay;\r\n                            if (hourOfDay < 10) {\r\n                                hourString = \"0\" + hourString;\r\n                            }\r\n                        } else {\r\n                            hourString = \"\" + hourOfDay;\r\n                            am_pm = \"AM\";\r\n                        }\r\n                        if (minute < 10)\r\n                            minuteSting = \"0\" + minute;\r\n                        else\r\n                            minuteSting = \"\" + minute;\r\n\r\n                        binding.tvTime.setText(hourString + \":\" + minuteSting + \" \" + am_pm);\r\n                        ShowPlaylistName();\r\n                    }, mHour, mMinute, false);\r\n            timePickerDialog.show();\r\n        });\r\n\r\n        if (Day.contains(\"0\")) {\r\n            ShowDaysSelection(\"0\", binding.tvSunday);\r\n        }\r\n\r\n        if (Day.contains(\"1\")) {\r\n            ShowDaysSelection(\"1\", binding.tvMonday);\r\n        }\r\n\r\n        if (Day.contains(\"2\")) {\r\n            ShowDaysSelection(\"2\", binding.tvTuesday);\r\n        }\r\n\r\n        if (Day.contains(\"3\")) {\r\n            ShowDaysSelection(\"3\", binding.tvWednesday);\r\n        }\r\n\r\n        if (Day.contains(\"4\")) {\r\n            ShowDaysSelection(\"4\", binding.tvThursday);\r\n        }\r\n\r\n        if (Day.contains(\"5\")) {\r\n            ShowDaysSelection(\"5\", binding.tvFriday);\r\n        }\r\n\r\n        if (Day.contains(\"6\")) {\r\n            ShowDaysSelection(\"6\", binding.tvSaturday);\r\n        }\r\n        Log.e(\"remiderDays\", TextUtils.join(\",\", remiderDays));\r\n\r\n        binding.llSunday.setOnClickListener(view -> {\r\n            DaysSelection(\"0\", binding.tvSunday);\r\n            RefreshButton();\r\n        });\r\n\r\n        binding.llMonday.setOnClickListener(view -> {\r\n            DaysSelection(\"1\", binding.tvMonday);\r\n            RefreshButton();\r\n        });\r\n\r\n        binding.llTuesday.setOnClickListener(view -> {\r\n            DaysSelection(\"2\", binding.tvTuesday);\r\n            RefreshButton();\r\n        });\r\n\r\n        binding.llWednesday.setOnClickListener(view -> {\r\n            DaysSelection(\"3\", binding.tvWednesday);\r\n            RefreshButton();\r\n        });\r\n\r\n        binding.llThursday.setOnClickListener(view -> {\r\n            DaysSelection(\"4\", binding.tvThursday);\r\n            RefreshButton();\r\n        });\r\n\r\n        binding.llFriday.setOnClickListener(view -> {\r\n            DaysSelection(\"5\", binding.tvFriday);\r\n            RefreshButton();\r\n        });\r\n\r\n        binding.llSaturday.setOnClickListener(view -> {\r\n            DaysSelection(\"6\", binding.tvSaturday);\r\n            RefreshButton();\r\n        });\r\n\r\n        if (ComeFrom.equalsIgnoreCase(\"\")) {\r\n            binding.ivArrow.setVisibility(View.VISIBLE);\r\n            binding.llSelectPlaylist.setOnClickListener(view -> {\r\n                dialog = new Dialog(context);\r\n                dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n                dialog.setContentView(R.layout.select_playlist);\r\n                dialog.getWindow().setBackgroundDrawable(new ColorDrawable(getResources().getColor(R.color.blue_transparent)));\r\n                dialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);\r\n                final LinearLayout llBack = dialog.findViewById(R.id.llBack);\r\n                final LinearLayout llError = dialog.findViewById(R.id.llError);\r\n                final RecyclerView rvSelectPlaylist = dialog.findViewById(R.id.rvSelectPlaylist);\r\n                final ProgressBar progressBar = dialog.findViewById(R.id.progressBar);\r\n                final FrameLayout progressBarHolder = dialog.findViewById(R.id.progressBarHolder);\r\n                llBack.setOnClickListener(view12 -> dialog.dismiss());\r\n\r\n                dialog.setOnKeyListener((v, keyCode, event) -> {\r\n                    if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n                        dialog.dismiss();\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                });\r\n\r\n                RecyclerView.LayoutManager manager = new LinearLayoutManager(getApplicationContext());\r\n                rvSelectPlaylist.setLayoutManager(manager);\r\n                rvSelectPlaylist.setItemAnimator(new DefaultItemAnimator());\r\n\r\n                prepareData(rvSelectPlaylist, llError, progressBar, progressBarHolder);\r\n                dialog.show();\r\n                dialog.setCancelable(false);\r\n            });\r\n        } else if (ComeFrom.equalsIgnoreCase(\"1\")) {\r\n            binding.ivArrow.setVisibility(View.GONE);\r\n        }\r\n\r\n    }\r\n\r\n    private void ShowDaysSelection(String value, TextView textView) {\r\n        RefreshButton();\r\n        remiderDays.add(value);\r\n        textView.setTextColor(getResources().getColor(R.color.extra_light_blue));\r\n        textView.setBackground(getResources().getDrawable(R.drawable.fill_transparent_bg));\r\n    }\r\n\r\n    private void DaysSelection(String value, TextView textView) {\r\n        if (!remiderDays.contains(value)) {\r\n            remiderDays.add(value);\r\n            textView.setTextColor(getResources().getColor(R.color.extra_light_blue));\r\n            textView.setBackground(getResources().getDrawable(R.drawable.fill_transparent_bg));\r\n        } else {\r\n            remiderDays.remove(value);\r\n            textView.setTextColor(getResources().getColor(R.color.dark_blue_gray));\r\n            textView.setBackground(getResources().getDrawable(R.drawable.transparent_bg));\r\n        }\r\n        Log.e(\"remiderDays\", TextUtils.join(\",\", remiderDays));\r\n    }\r\n\r\n    private void ShowPlaylistName() {\r\n        if (PlaylistName.equalsIgnoreCase(\"\")) {\r\n            binding.tvPlaylistName.setText(\"Select Playlist\");\r\n        } else {\r\n            binding.tvPlaylistName.setText(PlaylistName);\r\n        }\r\n        binding.btnSave.setOnClickListener(view -> {\r\n            if (IsLock.equalsIgnoreCase(\"1\")) {\r\n                Intent i = new Intent(context, MembershipChangeActivity.class);\r\n                i.putExtra(\"ComeFrom\", \"Plan\");\r\n                startActivity(i);\r\n            } else if (IsLock.equalsIgnoreCase(\"2\")) {\r\n                BWSApplication.showToast(\"Please re-activate your membership plan\", context);\r\n            } else if (IsLock.equalsIgnoreCase(\"0\") || IsLock.equalsIgnoreCase(\"\")) {\r\n                if (PlaylistName.equalsIgnoreCase(\"\")) {\r\n                    BWSApplication.showToast(\"Please select playlist name\", context);\r\n                } else if (remiderDays.size() == 0) {\r\n                    BWSApplication.showToast(\"Please select days\", context);\r\n                } else {\r\n                    String sendTime = binding.tvTime.getText().toString();\r\n                    SimpleDateFormat simpleDateFormat1x = new SimpleDateFormat(\"hh:mm a\");\r\n                    simpleDateFormat1x.setTimeZone(TimeZone.getTimeZone(\"GMT+8\"));\r\n                    Date currdatex = new Date();\r\n                    try {\r\n                        currdatex = simpleDateFormat1x.parse(sendTime);\r\n                        Log.e(\"sendTime currdate !!!!\", String.valueOf(sendTime));\r\n                    } catch (ParseException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    sendTime = simpleDateFormat1x.format(currdatex);\r\n                    Log.e(\"sendTime currdate###\", sendTime);\r\n\r\n                    if (BWSApplication.isNetworkConnected(context)) {\r\n                        BWSApplication.showProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                        Call<SetReminderModel> listCall = APIClient.getClient().SetReminder(PlaylistID, UserId, CONSTANTS.FLAG_ONE,\r\n                                binding.tvTime.getText().toString(), TextUtils.join(\",\", remiderDays));\r\n                        listCall.enqueue(new Callback<SetReminderModel>() {\r\n                            @Override\r\n                            public void onResponse(Call<SetReminderModel> call, Response<SetReminderModel> response) {\r\n                                if (response.isSuccessful()) {\r\n                                    Log.e(\"remiderDays\", TextUtils.join(\",\", remiderDays));\r\n                                    remiderDays.clear();\r\n                                    BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                                    SetReminderModel listModel = response.body();\r\n                                    BWSApplication.showToast(listModel.getResponseMessage(), activity);\r\n                                    if (ComeScreenReminder == 1) {\r\n                                        Intent i = new Intent(context, ReminderDetailsActivity.class);\r\n                                        startActivity(i);\r\n                                        finish();\r\n                                    } else {\r\n                                        finish();\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(Call<SetReminderModel> call, Throwable t) {\r\n                                BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                            }\r\n                        });\r\n                    } else {\r\n                        BWSApplication.showToast(getString(R.string.no_server_found), context);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        RefreshButton();\r\n    }\r\n\r\n    public void RefreshButton() {\r\n        if (!PlaylistName.equalsIgnoreCase(\"\") && remiderDays.size() != 0) {\r\n            binding.btnSave.setEnabled(true);\r\n            binding.btnSave.setTextColor(getResources().getColor(R.color.white));\r\n            binding.btnSave.setBackgroundResource(R.drawable.extra_round_cornor);\r\n        } else {\r\n            binding.btnSave.setEnabled(false);\r\n            binding.btnSave.setTextColor(getResources().getColor(R.color.white));\r\n            binding.btnSave.setBackgroundResource(R.drawable.gray_extra_round_corners);\r\n        }\r\n    }\r\n\r\n    private void prepareData(RecyclerView rvSelectPlaylist, LinearLayout llError, ProgressBar progressBar, FrameLayout progressBarHolder) {\r\n        if (BWSApplication.isNetworkConnected(context)) {\r\n            BWSApplication.showProgressBar(progressBar, progressBarHolder, activity);\r\n            Call<SelectPlaylistModel> listCall = APIClient.getClient().getAllPlayListing(UserId);\r\n            listCall.enqueue(new Callback<SelectPlaylistModel>() {\r\n                @Override\r\n                public void onResponse(Call<SelectPlaylistModel> call, Response<SelectPlaylistModel> response) {\r\n                    if (response.isSuccessful()) {\r\n                        BWSApplication.hideProgressBar(progressBar, progressBarHolder, activity);\r\n                        SelectPlaylistModel listModel = response.body();\r\n                        adapter = new SelectPlaylistAdapter(listModel.getResponseData());\r\n                        rvSelectPlaylist.setAdapter(adapter);\r\n\r\n                        if (listModel.getResponseData().size() == 0) {\r\n                            llError.setVisibility(View.GONE);\r\n                            rvSelectPlaylist.setVisibility(View.GONE);\r\n                        } else {\r\n                            llError.setVisibility(View.GONE);\r\n                            rvSelectPlaylist.setVisibility(View.VISIBLE);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call<SelectPlaylistModel> call, Throwable t) {\r\n                    BWSApplication.hideProgressBar(progressBar, progressBarHolder, activity);\r\n                }\r\n            });\r\n        } else {\r\n            BWSApplication.showToast(getString(R.string.no_server_found), context);\r\n        }\r\n    }\r\n\r\n    public class SelectPlaylistAdapter extends RecyclerView.Adapter<SelectPlaylistAdapter.MyViewHolder> {\r\n        private List<SelectPlaylistModel.ResponseData> model;\r\n        public int mSelectedItem = -1;\r\n\r\n        public SelectPlaylistAdapter(List<SelectPlaylistModel.ResponseData> model) {\r\n            this.model = model;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            SelectPlaylistLayoutBinding v = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext())\r\n                    , R.layout.select_playlist_layout, parent, false);\r\n            return new MyViewHolder(v);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n            holder.binding.cbChecked.setTag(model.get(position));\r\n            holder.binding.cbChecked.setChecked(position == mSelectedItem);\r\n            holder.binding.cbChecked.setText(model.get(position).getName());\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return model.size();\r\n        }\r\n\r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            SelectPlaylistLayoutBinding binding;\r\n\r\n            public MyViewHolder(SelectPlaylistLayoutBinding binding) {\r\n                super(binding.getRoot());\r\n                this.binding = binding;\r\n\r\n                binding.cbChecked.setOnClickListener(view -> {\r\n                    mSelectedItem = getAdapterPosition();\r\n                    notifyDataSetChanged();\r\n                    PlaylistID = model.get(mSelectedItem).getID();\r\n                    PlaylistName = model.get(mSelectedItem).getName();\r\n                    ShowPlaylistName();\r\n                    dialog.dismiss();\r\n                    RefreshButton();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (ComeScreenReminder == 1) {\r\n            Intent i = new Intent(context, ReminderDetailsActivity.class);\r\n            startActivity(i);\r\n            finish();\r\n        } else {\r\n            finish();\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/brainwellnessspa/ReminderModule/Activities/ReminderActivity.java	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
+++ app/src/main/java/com/brainwellnessspa/ReminderModule/Activities/ReminderActivity.java	(date 1603255180382)
@@ -45,6 +45,7 @@
 import java.util.Calendar;
 import java.util.Date;
 import java.util.List;
+import java.util.Locale;
 import java.util.TimeZone;
 
 import retrofit2.Call;
@@ -174,7 +175,7 @@
                             minuteSting = "0" + minute;
                         else
                             minuteSting = "" + minute;
-
+//                        binding.tvTime.setText(hourOfDay + ":" + minute);
                         binding.tvTime.setText(hourString + ":" + minuteSting + " " + am_pm);
                         ShowPlaylistName();
                     }, mHour, mMinute, false);
Index: app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/ViewSuggestedActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.brainwellnessspa.DashboardModule.Activities;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.brainwellnessspa.BWSApplication;\r\nimport com.brainwellnessspa.BillingOrderModule.Activities.MembershipChangeActivity;\r\nimport com.brainwellnessspa.DashboardModule.Models.AddToPlaylist;\r\nimport com.brainwellnessspa.DashboardModule.Models.SearchPlaylistModel;\r\nimport com.brainwellnessspa.DashboardModule.Models.SubPlayListModel;\r\nimport com.brainwellnessspa.DashboardModule.Models.SuggestedModel;\r\nimport com.brainwellnessspa.DashboardModule.TransparentPlayer.Fragments.TransparentPlayerFragment;\r\nimport com.brainwellnessspa.DashboardModule.TransparentPlayer.Models.MainPlayModel;\r\nimport com.brainwellnessspa.R;\r\nimport com.brainwellnessspa.Utility.APIClient;\r\nimport com.brainwellnessspa.Utility.CONSTANTS;\r\nimport com.brainwellnessspa.Utility.MeasureRatio;\r\nimport com.brainwellnessspa.Utility.MusicService;\r\nimport com.brainwellnessspa.databinding.ActivityViewSuggestedBinding;\r\nimport com.brainwellnessspa.databinding.DownloadsLayoutBinding;\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\n\r\nimport java.lang.reflect.Type;\r\nimport java.util.ArrayList;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\nimport static com.brainwellnessspa.DashboardModule.Activities.DashboardActivity.player;\r\nimport static com.brainwellnessspa.DashboardModule.TransparentPlayer.Fragments.TransparentPlayerFragment.isDisclaimer;\r\nimport static com.brainwellnessspa.DownloadModule.Adapters.AudioDownlaodsAdapter.comefromDownload;\r\nimport static com.brainwellnessspa.Utility.MusicService.isCompleteStop;\r\nimport static com.brainwellnessspa.Utility.MusicService.isMediaStart;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPause;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPrepare;\r\n\r\npublic class ViewSuggestedActivity extends AppCompatActivity {\r\n    ActivityViewSuggestedBinding binding;\r\n    Activity activity;\r\n    Context ctx;\r\n    String UserID, AudioFlag, Name, PlaylistID;\r\n    ArrayList<SuggestedModel.ResponseData> AudiolistsModel;\r\n    ArrayList<SearchPlaylistModel.ResponseData> PlaylistModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_view_suggested);\r\n        ctx = ViewSuggestedActivity.this;\r\n        activity = ViewSuggestedActivity.this;\r\n        SharedPreferences shared1 = getSharedPreferences(CONSTANTS.PREF_KEY_LOGIN, Context.MODE_PRIVATE);\r\n        UserID = (shared1.getString(CONSTANTS.PREF_KEY_UserID, \"\"));\r\n        binding.llBack.setOnClickListener(view -> {\r\n            Intent i = new Intent(ctx, AddAudioActivity.class);\r\n            startActivity(i);\r\n            finish();\r\n        });\r\n\r\n        if (getIntent() != null) {\r\n            Name = getIntent().getStringExtra(\"Name\");\r\n        }\r\n        if (getIntent() != null) {\r\n            PlaylistID = getIntent().getStringExtra(CONSTANTS.PlaylistID);\r\n        }\r\n        if (getIntent() != null) {\r\n            AudiolistsModel = getIntent().getParcelableArrayListExtra(\"AudiolistModel\");\r\n        }\r\n\r\n        if (getIntent() != null) {\r\n            PlaylistModel = getIntent().getParcelableArrayListExtra(\"PlaylistModel\");\r\n        }\r\n        PrepareData();\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        Intent i = new Intent(ctx, AddAudioActivity.class);\r\n        startActivity(i);\r\n        finish();\r\n    }\r\n\r\n    public void PrepareData() {\r\n        SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n        if (!AudioFlag.equalsIgnoreCase(\"0\")) {\r\n            comefromDownload = \"1\";\r\n            Fragment fragment = new TransparentPlayerFragment();\r\n            FragmentManager fragmentManager1 = getSupportFragmentManager();\r\n            fragmentManager1.beginTransaction()\r\n                    .add(R.id.flContainer, fragment)\r\n                    .commit();\r\n        }\r\n\r\n        binding.tvTitle.setText(Name);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(ctx, LinearLayoutManager.VERTICAL, false);\r\n        binding.rvMainAudio.setLayoutManager(layoutManager);\r\n        binding.rvMainAudio.setItemAnimator(new DefaultItemAnimator());\r\n        if (Name.equalsIgnoreCase(\"Recommended  Audios\")) {\r\n            AudiosListAdpater suggestedAdpater = new AudiosListAdpater(AudiolistsModel);\r\n            binding.rvMainAudio.setAdapter(suggestedAdpater);\r\n        } else if (Name.equalsIgnoreCase(\"Recommended Playlist\")) {\r\n            SuggestionPlayListsAdpater adpater = new SuggestionPlayListsAdpater(PlaylistModel);\r\n            binding.rvMainAudio.setAdapter(adpater);\r\n        }\r\n    }\r\n\r\n    private void callAddAudioToPlaylist(String AudioID, String FromPlaylistId, String s1) {\r\n        if (BWSApplication.isNetworkConnected(ctx)) {\r\n            BWSApplication.showProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n            Call<AddToPlaylist> listCall = APIClient.getClient().getAddSearchAudioFromPlaylist(UserID, AudioID, PlaylistID, FromPlaylistId);\r\n            listCall.enqueue(new Callback<AddToPlaylist>() {\r\n                @Override\r\n                public void onResponse(Call<AddToPlaylist> call, Response<AddToPlaylist> response) {\r\n                    if (response.isSuccessful()) {\r\n                        BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                        AddToPlaylist listModels = response.body();\r\n                        SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                        boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                        String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                        int pos = shared.getInt(CONSTANTS.PREF_KEY_position, 0);\r\n                        Gson gsonx = new Gson();\r\n                        String json = shared.getString(CONSTANTS.PREF_KEY_audioList, String.valueOf(gsonx));\r\n                        Type type = new TypeToken<ArrayList<MainPlayModel>>() {\r\n                        }.getType();\r\n                        ArrayList<MainPlayModel> mainPlayModelListold = new ArrayList<>();\r\n                        mainPlayModelListold = gsonx.fromJson(json, type);\r\n                        String id = mainPlayModelListold.get(pos).getID();\r\n                        ArrayList<MainPlayModel> mainPlayModelList = new ArrayList<>();\r\n                        ArrayList<SubPlayListModel.ResponseData.PlaylistSong> playlistSongs = new ArrayList<>();\r\n                        if (audioPlay) {\r\n                            if (AudioFlag.equalsIgnoreCase(\"SubPlayList\")) {\r\n                                for (int i = 0; i < listModels.getResponseData().size(); i++) {\r\n                                    MainPlayModel mainPlayModel = new MainPlayModel();\r\n                                    mainPlayModel.setID(listModels.getResponseData().get(i).getID());\r\n                                    mainPlayModel.setName(listModels.getResponseData().get(i).getName());\r\n                                    mainPlayModel.setAudioFile(listModels.getResponseData().get(i).getAudioFile());\r\n                                    mainPlayModel.setPlaylistID(listModels.getResponseData().get(i).getPlaylistID());\r\n                                    mainPlayModel.setAudioDirection(listModels.getResponseData().get(i).getAudioDirection());\r\n                                    mainPlayModel.setAudiomastercat(listModels.getResponseData().get(i).getAudiomastercat());\r\n                                    mainPlayModel.setAudioSubCategory(listModels.getResponseData().get(i).getAudioSubCategory());\r\n                                    mainPlayModel.setImageFile(listModels.getResponseData().get(i).getImageFile());\r\n                                    mainPlayModel.setLike(listModels.getResponseData().get(i).getLike());\r\n                                    mainPlayModel.setDownload(listModels.getResponseData().get(i).getDownload());\r\n                                    mainPlayModel.setAudioDuration(listModels.getResponseData().get(i).getAudioDuration());\r\n                                    mainPlayModelList.add(mainPlayModel);\r\n                                }\r\n                                for (int i = 0; i < listModels.getResponseData().size(); i++) {\r\n                                    SubPlayListModel.ResponseData.PlaylistSong mainPlayModel = new SubPlayListModel.ResponseData.PlaylistSong();\r\n                                    mainPlayModel.setID(listModels.getResponseData().get(i).getID());\r\n                                    mainPlayModel.setName(listModels.getResponseData().get(i).getName());\r\n                                    mainPlayModel.setAudioFile(listModels.getResponseData().get(i).getAudioFile());\r\n                                    mainPlayModel.setPlaylistID(listModels.getResponseData().get(i).getPlaylistID());\r\n                                    mainPlayModel.setAudioDirection(listModels.getResponseData().get(i).getAudioDirection());\r\n                                    mainPlayModel.setAudiomastercat(listModels.getResponseData().get(i).getAudiomastercat());\r\n                                    mainPlayModel.setAudioSubCategory(listModels.getResponseData().get(i).getAudioSubCategory());\r\n                                    mainPlayModel.setImageFile(listModels.getResponseData().get(i).getImageFile());\r\n                                    mainPlayModel.setLike(listModels.getResponseData().get(i).getLike());\r\n                                    mainPlayModel.setDownload(listModels.getResponseData().get(i).getDownload());\r\n                                    mainPlayModel.setAudioDuration(listModels.getResponseData().get(i).getAudioDuration());\r\n                                    playlistSongs.add(mainPlayModel);\r\n                                }\r\n\r\n                                for(int i = 0;i<mainPlayModelList.size();i++){\r\n                                    if(mainPlayModelList.get(i).getID().equalsIgnoreCase(id)){\r\n                                        pos = i;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                SharedPreferences sharedd = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n                                SharedPreferences.Editor editor = sharedd.edit();\r\n                                Gson gson = new Gson();\r\n                                String jsonx = gson.toJson(mainPlayModelList);\r\n                                String json1 = gson.toJson(playlistSongs);\r\n                                editor.putString(CONSTANTS.PREF_KEY_modelList, json1);\r\n                                editor.putString(CONSTANTS.PREF_KEY_audioList, jsonx);\r\n                                editor.putInt(CONSTANTS.PREF_KEY_position, pos);\r\n                                editor.putBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n                                editor.putBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                                editor.putString(CONSTANTS.PREF_KEY_PlaylistId, PlaylistID);\r\n                                editor.putString(CONSTANTS.PREF_KEY_myPlaylist, \"myPlaylist\");\r\n                                editor.putString(CONSTANTS.PREF_KEY_AudioFlag, \"SubPlayList\");\r\n                                editor.commit();\r\n                            }\r\n                        }\r\n                        BWSApplication.showToast(listModels.getResponseMessage(), ctx);\r\n                        if (s1.equalsIgnoreCase(\"1\")) {\r\n                            finish();\r\n                        }\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call<AddToPlaylist> call, Throwable t) {\r\n                    BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                }\r\n            });\r\n        } else {\r\n            BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n        }\r\n    }\r\n\r\n    public class AudiosListAdpater extends RecyclerView.Adapter<AudiosListAdpater.MyViewHolder> {\r\n        private ArrayList<SuggestedModel.ResponseData> AudiolistsModel;\r\n\r\n        public AudiosListAdpater(ArrayList<SuggestedModel.ResponseData> AudiolistsModel) {\r\n            this.AudiolistsModel = AudiolistsModel;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            DownloadsLayoutBinding v = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext())\r\n                    , R.layout.downloads_layout, parent, false);\r\n            return new MyViewHolder(v);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n            holder.binds.tvTitle.setText(AudiolistsModel.get(position).getName());\r\n            holder.binds.tvTime.setText(AudiolistsModel.get(position).getAudioDuration());\r\n            holder.binds.pbProgress.setVisibility(View.GONE);\r\n            MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                    1, 1, 0.12f, 0);\r\n            holder.binds.cvImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n            holder.binds.cvImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n            Glide.with(ctx).load(AudiolistsModel.get(position).getImageFile()).thumbnail(0.05f)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(holder.binds.ivRestaurantImage);\r\n            holder.binds.ivIcon.setImageResource(R.drawable.add_icon);\r\n            holder.binds.ivBackgroundImage.setImageResource(R.drawable.ic_image_bg);\r\n            if (AudiolistsModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                if (AudiolistsModel.get(position).getIsPlay().equalsIgnoreCase(\"1\")) {\r\n                    holder.binds.ivBackgroundImage.setVisibility(View.GONE);\r\n                    holder.binds.ivLock.setVisibility(View.GONE);\r\n                } else if (AudiolistsModel.get(position).getIsPlay().equalsIgnoreCase(\"0\")\r\n                        || AudiolistsModel.get(position).getIsPlay().equalsIgnoreCase(\"\")) {\r\n                    holder.binds.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                    holder.binds.ivLock.setVisibility(View.VISIBLE);\r\n                }\r\n            } else if (AudiolistsModel.get(position).getIsLock().equalsIgnoreCase(\"0\")\r\n                    || AudiolistsModel.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                holder.binds.ivBackgroundImage.setVisibility(View.GONE);\r\n                holder.binds.ivLock.setVisibility(View.GONE);\r\n            }\r\n\r\n            holder.binds.llMainLayoutForPlayer.setOnClickListener(view -> {\r\n                if (AudiolistsModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                    if (AudiolistsModel.get(position).getIsPlay().equalsIgnoreCase(\"1\")) {\r\n                        holder.binds.ivBackgroundImage.setVisibility(View.GONE);\r\n                        holder.binds.ivLock.setVisibility(View.GONE);\r\n                        try {\r\n                            player = 1;\r\n                            if (isPrepare || isMediaStart || isPause) {\r\n                                MusicService.stopMedia();\r\n                            }\r\n                            isPause = false;\r\n                            isMediaStart = false;\r\n                            isPrepare = false;\r\n                            isCompleteStop = false;\r\n                            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n                            SharedPreferences.Editor editor = shared.edit();\r\n                            Gson gson = new Gson();\r\n                            ArrayList<SuggestedModel.ResponseData> listModelList2 = new ArrayList<>();\r\n                            SuggestedModel.ResponseData  mainPlayModel = new SuggestedModel.ResponseData();\r\n                            mainPlayModel.setID(\"0\");\r\n                            mainPlayModel.setName(\"Disclaimer\");\r\n                            mainPlayModel.setAudioFile(\"\");\r\n                            mainPlayModel.setAudioDirection(\"The audio shall start playing after the disclaimer\");\r\n                            mainPlayModel.setAudiomastercat(\"\");\r\n                            mainPlayModel.setAudioSubCategory(\"\");\r\n                            mainPlayModel.setImageFile(\"\");\r\n                            mainPlayModel.setLike(\"\");\r\n                            mainPlayModel.setDownload(\"\");\r\n                            mainPlayModel.setAudioDuration(\"0:48\");\r\n                            listModelList2.add(mainPlayModel);\r\n\r\n                            listModelList2.add(AudiolistsModel.get(position));\r\n                            String json = gson.toJson(listModelList2);\r\n                            editor.putString(CONSTANTS.PREF_KEY_modelList, json);\r\n                            editor.putInt(CONSTANTS.PREF_KEY_position, 0);\r\n                            editor.putBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n                            editor.putBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                            editor.putString(CONSTANTS.PREF_KEY_PlaylistId, \"\");\r\n                            editor.putString(CONSTANTS.PREF_KEY_myPlaylist, \"\");\r\n                            editor.putString(CONSTANTS.PREF_KEY_AudioFlag, \"SearchAudio\");\r\n                            editor.commit();\r\n                            Fragment fragment = new TransparentPlayerFragment();\r\n                            FragmentManager fragmentManager1 = getSupportFragmentManager();\r\n                            fragmentManager1.beginTransaction()\r\n                                    .add(R.id.flContainer, fragment)\r\n                                    .commit();\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    } else if (AudiolistsModel.get(position).getIsPlay().equalsIgnoreCase(\"0\")\r\n                            || AudiolistsModel.get(position).getIsPlay().equalsIgnoreCase(\"\")) {\r\n                        holder.binds.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                        holder.binds.ivLock.setVisibility(View.VISIBLE);\r\n                    }\r\n                } else if (AudiolistsModel.get(position).getIsLock().equalsIgnoreCase(\"0\")\r\n                        || AudiolistsModel.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                    holder.binds.ivBackgroundImage.setVisibility(View.GONE);\r\n                    holder.binds.ivLock.setVisibility(View.GONE);\r\n                    try {\r\n                        player = 1;\r\n                        if (isPrepare || isMediaStart || isPause) {\r\n                            MusicService.stopMedia();\r\n                        }\r\n                        isPause = false;\r\n                        isMediaStart = false;\r\n                        isPrepare = false;\r\n                        isCompleteStop = false;\r\n                        SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n                        SharedPreferences.Editor editor = shared.edit();\r\n                        Gson gson = new Gson();\r\n                        ArrayList<SuggestedModel.ResponseData> listModelList2 = new ArrayList<>();\r\n                        SuggestedModel.ResponseData  mainPlayModel = new SuggestedModel.ResponseData();\r\n                        mainPlayModel.setID(\"0\");\r\n                        mainPlayModel.setName(\"Disclaimer\");\r\n                        mainPlayModel.setAudioFile(\"\");\r\n                        mainPlayModel.setAudioDirection(\"The audio shall start playing after the disclaimer\");\r\n                        mainPlayModel.setAudiomastercat(\"\");\r\n                        mainPlayModel.setAudioSubCategory(\"\");\r\n                        mainPlayModel.setImageFile(\"\");\r\n                        mainPlayModel.setLike(\"\");\r\n                        mainPlayModel.setDownload(\"\");\r\n                        mainPlayModel.setAudioDuration(\"0:48\");\r\n                        listModelList2.add(mainPlayModel);\r\n\r\n                        listModelList2.add(AudiolistsModel.get(position));\r\n                        String json = gson.toJson(listModelList2);\r\n                        editor.putString(CONSTANTS.PREF_KEY_modelList, json);\r\n                        editor.putInt(CONSTANTS.PREF_KEY_position, 0);\r\n                        editor.putBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n                        editor.putBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                        editor.putString(CONSTANTS.PREF_KEY_PlaylistId, \"\");\r\n                        editor.putString(CONSTANTS.PREF_KEY_myPlaylist, \"\");\r\n                        editor.putString(CONSTANTS.PREF_KEY_AudioFlag, \"SearchAudio\");\r\n                        editor.commit();\r\n                        Fragment fragment = new TransparentPlayerFragment();\r\n                        FragmentManager fragmentManager1 = getSupportFragmentManager();\r\n                        fragmentManager1.beginTransaction()\r\n                                .add(R.id.flContainer, fragment)\r\n                                .commit();\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n            holder.binds.llRemoveAudio.setOnClickListener(view -> {\r\n                if (AudiolistsModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                    if (AudiolistsModel.get(position).getIsPlay().equalsIgnoreCase(\"1\")) {\r\n                        holder.binds.ivBackgroundImage.setVisibility(View.GONE);\r\n                        holder.binds.ivLock.setVisibility(View.GONE);\r\n                        SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                        boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                        String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                        String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                        if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                            if (isDisclaimer == 1) {\r\n                                BWSApplication.showToast(\"The audio shall add after playing the disclaimer\", ctx);\r\n                            } else {\r\n                                callAddAudioToPlaylist(AudiolistsModel.get(position).getID(), \"\", \"0\");\r\n                            }\r\n                        } else {\r\n                            callAddAudioToPlaylist(AudiolistsModel.get(position).getID(), \"\", \"0\");\r\n                        }\r\n                    } else if (AudiolistsModel.get(position).getIsPlay().equalsIgnoreCase(\"0\")\r\n                            || AudiolistsModel.get(position).getIsPlay().equalsIgnoreCase(\"\")) {\r\n                        holder.binds.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                        holder.binds.ivLock.setVisibility(View.VISIBLE);\r\n                        Intent i = new Intent(ctx, MembershipChangeActivity.class);\r\n                        i.putExtra(\"ComeFrom\", \"Plan\");\r\n                        startActivity(i);\r\n                    }\r\n                } else if (AudiolistsModel.get(position).getIsLock().equalsIgnoreCase(\"2\")) {\r\n                    if (AudiolistsModel.get(position).getIsPlay().equalsIgnoreCase(\"1\")) {\r\n                        holder.binds.ivBackgroundImage.setVisibility(View.GONE);\r\n                        holder.binds.ivLock.setVisibility(View.GONE);\r\n                        SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                        boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                        String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                        String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                        if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                            if (isDisclaimer == 1) {\r\n                                BWSApplication.showToast(\"The audio shall add after playing the disclaimer\", ctx);\r\n                            } else {\r\n                                callAddAudioToPlaylist(AudiolistsModel.get(position).getID(), \"\", \"0\");\r\n                            }\r\n                        } else {\r\n                            callAddAudioToPlaylist(AudiolistsModel.get(position).getID(), \"\", \"0\");\r\n                        }\r\n                    } else if (AudiolistsModel.get(position).getIsPlay().equalsIgnoreCase(\"0\")\r\n                            || AudiolistsModel.get(position).getIsPlay().equalsIgnoreCase(\"\")) {\r\n                        holder.binds.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                        holder.binds.ivLock.setVisibility(View.VISIBLE);\r\n                        BWSApplication.showToast(\"Please re-activate your membership plan\", ctx);\r\n                    }\r\n                } else if (AudiolistsModel.get(position).getIsLock().equalsIgnoreCase(\"0\")\r\n                        || AudiolistsModel.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                    holder.binds.ivBackgroundImage.setVisibility(View.GONE);\r\n                    holder.binds.ivLock.setVisibility(View.GONE);\r\n                    SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                    boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                    String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                    String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                    if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                        if (isDisclaimer == 1) {\r\n                            BWSApplication.showToast(\"The audio shall add after playing the disclaimer\", ctx);\r\n                        }else {\r\n                            callAddAudioToPlaylist(AudiolistsModel.get(position).getID(), \"\", \"0\");\r\n                        }\r\n                    } else {\r\n                        callAddAudioToPlaylist(AudiolistsModel.get(position).getID(), \"\", \"0\");\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return AudiolistsModel.size();\r\n        }\r\n\r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            DownloadsLayoutBinding binds;\r\n\r\n            public MyViewHolder(DownloadsLayoutBinding binds) {\r\n                super(binds.getRoot());\r\n                this.binds = binds;\r\n            }\r\n        }\r\n    }\r\n\r\n    public class SuggestionPlayListsAdpater extends RecyclerView.Adapter<SuggestionPlayListsAdpater.MyViewHolder> {\r\n        private ArrayList<SearchPlaylistModel.ResponseData> PlaylistModel;\r\n\r\n        public SuggestionPlayListsAdpater(ArrayList<SearchPlaylistModel.ResponseData> PlaylistModel) {\r\n            this.PlaylistModel = PlaylistModel;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            DownloadsLayoutBinding v = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext())\r\n                    , R.layout.downloads_layout, parent, false);\r\n            return new MyViewHolder(v);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n            holder.binding.tvTitle.setText(PlaylistModel.get(position).getName());\r\n            holder.binding.pbProgress.setVisibility(View.GONE);\r\n\r\n            if (PlaylistModel.get(position).getTotalAudio().equalsIgnoreCase(\"\") ||\r\n                    PlaylistModel.get(position).getTotalAudio().equalsIgnoreCase(\"0\") &&\r\n                            PlaylistModel.get(position).getTotalhour().equalsIgnoreCase(\"\")\r\n                            && PlaylistModel.get(position).getTotalminute().equalsIgnoreCase(\"\")) {\r\n                holder.binding.tvTime.setText(\"0 Audio | 0h 0m\");\r\n            } else {\r\n                if (PlaylistModel.get(position).getTotalminute().equalsIgnoreCase(\"\")) {\r\n                    holder.binding.tvTime.setText(PlaylistModel.get(position).getTotalAudio() + \" Audio | \"\r\n                            + PlaylistModel.get(position).getTotalhour() + \"h 0m\");\r\n                } else {\r\n                    holder.binding.tvTime.setText(PlaylistModel.get(position).getTotalAudio() +\r\n                            \" Audios | \" + PlaylistModel.get(position).getTotalhour() + \"h \" + PlaylistModel.get(position).getTotalminute() + \"m\");\r\n                }\r\n            }\r\n\r\n            MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                    1, 1, 0.12f, 0);\r\n            holder.binding.cvImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n            holder.binding.cvImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n            Glide.with(ctx).load(PlaylistModel.get(position).getImage()).thumbnail(0.05f)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(holder.binding.ivRestaurantImage);\r\n            holder.binding.ivIcon.setImageResource(R.drawable.add_icon);\r\n            holder.binding.ivBackgroundImage.setImageResource(R.drawable.ic_image_bg);\r\n            if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n            }\r\n            if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"2\")) {\r\n                holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n            } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"0\") || PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                holder.binding.ivLock.setVisibility(View.GONE);\r\n            }\r\n\r\n           /* holder.binding.llMainLayout.setOnClickListener(view -> {\r\n                if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                    holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                    Intent i = new Intent(ctx, MembershipChangeActivity.class);\r\n                        i.putExtra(\"ComeFrom\",\"Plan\");\r\n                        startActivity(i);\r\n                } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"2\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                    holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                    BWSApplication.showToast(\"Please re-activate your membership plan\", ctx);\r\n                } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"0\") || PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                    comefrom_search = 1;\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                    holder.binding.ivLock.setVisibility(View.GONE);\r\n                    Fragment myPlaylistsFragment = new MyPlaylistsFragment();\r\n                    Bundle bundle = new Bundle();\r\n                    bundle.putString(\"New\", \"0\");\r\n                    bundle.putString(\"PlaylistID\", PlaylistModel.get(position).getID());\r\n                    bundle.putString(\"PlaylistName\", PlaylistModel.get(position).getName());\r\n                    bundle.putString(\"MyDownloads\", \"0\");\r\n                    myPlaylistsFragment.setArguments(bundle);\r\n                    FragmentManager fragmentManager1 = getSupportFragmentManager();\r\n                    fragmentManager1.beginTransaction()\r\n                            .replace(R.id.flContainer, myPlaylistsFragment)\r\n                            .commit();\r\n                }\r\n            });*/\r\n\r\n            holder.binding.llRemoveAudio.setOnClickListener(view -> {\r\n                if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                    holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                    Intent i = new Intent(ctx, MembershipChangeActivity.class);\r\n                    i.putExtra(\"ComeFrom\", \"Plan\");\r\n                    startActivity(i);\r\n                } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"2\")) {\r\n                    BWSApplication.showToast(\"Please re-activate your membership plan\", ctx);\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                    holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"0\") || PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                    holder.binding.ivLock.setVisibility(View.GONE);\r\n                    SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                    boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                    String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                    String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                    if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                        if (isDisclaimer == 1) {\r\n                            BWSApplication.showToast(\"The audio shall add after playing the disclaimer\", ctx);\r\n                        } else {\r\n                            callAddAudioToPlaylist(\"\", PlaylistModel.get(position).getID(), \"1\");\r\n                        }\r\n                    } else {\r\n                        callAddAudioToPlaylist(\"\", PlaylistModel.get(position).getID(), \"1\");\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return PlaylistModel.size();\r\n        }\r\n\r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            DownloadsLayoutBinding binding;\r\n\r\n            public MyViewHolder(DownloadsLayoutBinding binding) {\r\n                super(binding.getRoot());\r\n                this.binding = binding;\r\n            }\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/ViewSuggestedActivity.java	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
+++ app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/ViewSuggestedActivity.java	(date 1603256362941)
@@ -52,6 +52,10 @@
 import static com.brainwellnessspa.Utility.MusicService.isMediaStart;
 import static com.brainwellnessspa.Utility.MusicService.isPause;
 import static com.brainwellnessspa.Utility.MusicService.isPrepare;
+import static com.brainwellnessspa.DownloadModule.Adapters.AudioDownlaodsAdapter.comefromDownload;
+import static com.brainwellnessspa.DashboardModule.Activities.AddAudioActivity.addToSearch;
+import static com.brainwellnessspa.DashboardModule.Activities.AddAudioActivity.MyPlaylistIds;
+import static com.brainwellnessspa.DashboardModule.Activities.AddAudioActivity.PlaylistIDMS;
 
 public class ViewSuggestedActivity extends AppCompatActivity {
     ActivityViewSuggestedBinding binding;
@@ -505,7 +509,7 @@
                 holder.binding.ivLock.setVisibility(View.GONE);
             }
 
-           /* holder.binding.llMainLayout.setOnClickListener(view -> {
+            holder.binding.llMainLayout.setOnClickListener(view -> {
                 if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase("1")) {
                     holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);
                     holder.binding.ivLock.setVisibility(View.VISIBLE);
@@ -517,7 +521,12 @@
                     holder.binding.ivLock.setVisibility(View.VISIBLE);
                     BWSApplication.showToast("Please re-activate your membership plan", ctx);
                 } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase("0") || PlaylistModel.get(position).getIsLock().equalsIgnoreCase("")) {
-                    comefrom_search = 1;
+                    comefromDownload = "0";
+                    addToSearch = true;
+                    MyPlaylistIds = modelList.get(position).getID();
+                    PlaylistIDMS = PlaylistID;
+                    finish();
+                    /*comefrom_search = 1;
                     holder.binding.ivBackgroundImage.setVisibility(View.GONE);
                     holder.binding.ivLock.setVisibility(View.GONE);
                     Fragment myPlaylistsFragment = new MyPlaylistsFragment();
@@ -530,9 +539,9 @@
                     FragmentManager fragmentManager1 = getSupportFragmentManager();
                     fragmentManager1.beginTransaction()
                             .replace(R.id.flContainer, myPlaylistsFragment)
-                            .commit();
+                            .commit();*/
                 }
-            });*/
+            });
 
             holder.binding.llRemoveAudio.setOnClickListener(view -> {
                 if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase("1")) {
Index: app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/AddAudioActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.brainwellnessspa.DashboardModule.Activities;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.WindowManager;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\n\r\nimport com.brainwellnessspa.DashboardModule.Models.AddToPlaylist;\r\nimport com.brainwellnessspa.DashboardModule.Models.SubPlayListModel;\r\nimport com.brainwellnessspa.DashboardModule.Playlist.MyPlaylistsFragment;\r\nimport com.brainwellnessspa.DashboardModule.TransparentPlayer.Fragments.TransparentPlayerFragment;\r\nimport com.brainwellnessspa.DashboardModule.TransparentPlayer.Models.MainPlayModel;\r\nimport com.brainwellnessspa.Utility.MusicService;\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\r\nimport com.brainwellnessspa.BWSApplication;\r\nimport com.brainwellnessspa.BillingOrderModule.Activities.MembershipChangeActivity;\r\nimport com.brainwellnessspa.DashboardModule.Models.SearchBothModel;\r\nimport com.brainwellnessspa.DashboardModule.Models.SearchPlaylistModel;\r\nimport com.brainwellnessspa.DashboardModule.Models.SucessModel;\r\nimport com.brainwellnessspa.DashboardModule.Models.SuggestedModel;\r\nimport com.brainwellnessspa.R;\r\nimport com.brainwellnessspa.Utility.APIClient;\r\nimport com.brainwellnessspa.Utility.CONSTANTS;\r\nimport com.brainwellnessspa.Utility.MeasureRatio;\r\nimport com.brainwellnessspa.databinding.ActivityAddAudioBinding;\r\nimport com.brainwellnessspa.databinding.DownloadsLayoutBinding;\r\nimport com.brainwellnessspa.databinding.GlobalSearchLayoutBinding;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\n\r\nimport java.lang.reflect.Type;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\nimport static com.brainwellnessspa.DashboardModule.Activities.DashboardActivity.player;\r\nimport static com.brainwellnessspa.DashboardModule.Search.SearchFragment.comefrom_search;\r\nimport static com.brainwellnessspa.DashboardModule.TransparentPlayer.Fragments.TransparentPlayerFragment.isDisclaimer;\r\nimport static com.brainwellnessspa.DownloadModule.Adapters.AudioDownlaodsAdapter.comefromDownload;\r\nimport static com.brainwellnessspa.Utility.MusicService.isCompleteStop;\r\nimport static com.brainwellnessspa.Utility.MusicService.isMediaStart;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPause;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPrepare;\r\n\r\npublic class AddAudioActivity extends AppCompatActivity {\r\n    ActivityAddAudioBinding binding;\r\n    Context ctx;\r\n    String UserID, PlaylistID, AudioFlag;\r\n    SerachListAdpater adpater;\r\n    EditText searchEditText;\r\n    Activity activity;\r\n    public static boolean addToSearch = false;\r\n    public static String MyPlaylistIds = \"\";\r\n    public static String PlaylistIDMS = \"\";\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_audio);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_add_audio);\r\n        ctx = AddAudioActivity.this;\r\n        activity = AddAudioActivity.this;\r\n\r\n        if (getIntent().getExtras() != null) {\r\n            PlaylistID = getIntent().getStringExtra(CONSTANTS.PlaylistID);\r\n        }\r\n        SharedPreferences shared1 = getSharedPreferences(CONSTANTS.PREF_KEY_LOGIN, Context.MODE_PRIVATE);\r\n        UserID = (shared1.getString(CONSTANTS.PREF_KEY_UserID, \"\"));\r\n        binding.searchView.onActionViewExpanded();\r\n        searchEditText = binding.searchView.findViewById(androidx.appcompat.R.id.search_src_text);\r\n        searchEditText.setTextColor(getResources().getColor(R.color.gray));\r\n        searchEditText.setHintTextColor(getResources().getColor(R.color.gray));\r\n        ImageView closeButton = binding.searchView.findViewById(R.id.search_close_btn);\r\n        binding.searchView.clearFocus();\r\n        closeButton.setOnClickListener(view -> {\r\n            binding.searchView.clearFocus();\r\n            searchEditText.setText(\"\");\r\n            binding.rvSerachList.setAdapter(null);\r\n            binding.rvSerachList.setVisibility(View.GONE);\r\n            binding.llError.setVisibility(View.GONE);\r\n            binding.searchView.setQuery(\"\", false);\r\n        });\r\n\r\n        binding.searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String search) {\r\n                binding.searchView.clearFocus();\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String search) {\r\n                if (searchEditText.getText().toString().equalsIgnoreCase(\"\")) {\r\n\r\n                } else {\r\n                    prepareSearchData(search, searchEditText);\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n        binding.llBack.setOnClickListener(view -> {\r\n            callback();\r\n        });\r\n\r\n        RecyclerView.LayoutManager suggested = new LinearLayoutManager(ctx, LinearLayoutManager.VERTICAL, false);\r\n        binding.rvSuggestedList.setLayoutManager(suggested);\r\n        binding.rvSuggestedList.setItemAnimator(new DefaultItemAnimator());\r\n\r\n        RecyclerView.LayoutManager serachList = new LinearLayoutManager(ctx, LinearLayoutManager.VERTICAL, false);\r\n        binding.rvSerachList.setLayoutManager(serachList);\r\n        binding.rvSerachList.setItemAnimator(new DefaultItemAnimator());\r\n\r\n        RecyclerView.LayoutManager manager = new LinearLayoutManager(ctx, LinearLayoutManager.VERTICAL, false);\r\n        binding.rvPlayList.setItemAnimator(new DefaultItemAnimator());\r\n        binding.rvPlayList.setLayoutManager(manager);\r\n        prepareSuggestedData();\r\n\r\n        SharedPreferences shareddes = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n        AudioFlag = shareddes.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n        if (!AudioFlag.equalsIgnoreCase(\"0\")) {\r\n            comefromDownload = \"1\";\r\n            Fragment fragment = new TransparentPlayerFragment();\r\n            FragmentManager fragmentManager1 = getSupportFragmentManager();\r\n            fragmentManager1.beginTransaction()\r\n                    .add(R.id.flContainer, fragment)\r\n                    .commit();\r\n        }\r\n    }\r\n\r\n    private void callback() {\r\n        comefromDownload = \"0\";\r\n        finish();\r\n    }\r\n\r\n    private void prepareSearchData(String search, EditText searchEditText) {\r\n        if (BWSApplication.isNetworkConnected(ctx)) {\r\n            BWSApplication.showProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n            Call<SearchBothModel> listCall = APIClient.getClient().getSearchBoth(UserID, search);\r\n            listCall.enqueue(new Callback<SearchBothModel>() {\r\n                @Override\r\n                public void onResponse(Call<SearchBothModel> call, Response<SearchBothModel> response) {\r\n                    if (response.isSuccessful()) {\r\n                        BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                        SearchBothModel listModel = response.body();\r\n                        if (!searchEditText.getText().toString().equalsIgnoreCase(\"\")) {\r\n                            if (listModel.getResponseData().size() == 0) {\r\n                                binding.rvSerachList.setVisibility(View.GONE);\r\n                                binding.llError.setVisibility(View.VISIBLE);\r\n                                binding.tvFound.setText(\"Couldn't find '\" + search + \"'. Try searching again\");\r\n                            } else {\r\n                                binding.llError.setVisibility(View.GONE);\r\n                                binding.rvSerachList.setVisibility(View.VISIBLE);\r\n                                adpater = new SerachListAdpater(listModel.getResponseData(), activity, binding.rvSerachList, UserID);\r\n                                binding.rvSerachList.setAdapter(adpater);\r\n                            }\r\n                        } else if (searchEditText.getText().toString().equalsIgnoreCase(\"\")) {\r\n                            binding.rvSerachList.setAdapter(null);\r\n                            binding.rvSerachList.setVisibility(View.GONE);\r\n                            binding.llError.setVisibility(View.GONE);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call<SearchBothModel> call, Throwable t) {\r\n                    BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                }\r\n            });\r\n        } else {\r\n            BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n        }\r\n    }\r\n\r\n    private void prepareSuggestedData() {\r\n        if (BWSApplication.isNetworkConnected(ctx)) {\r\n            BWSApplication.showProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n            Call<SuggestedModel> listCall = APIClient.getClient().getSuggestedLists(UserID);\r\n            listCall.enqueue(new Callback<SuggestedModel>() {\r\n                @Override\r\n                public void onResponse(Call<SuggestedModel> call, Response<SuggestedModel> response) {\r\n                    if (response.isSuccessful()) {\r\n                        BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                        SuggestedModel listModel = response.body();\r\n                        binding.tvSuggestedAudios.setText(R.string.Recommended_Audios);\r\n                        binding.tvSAViewAll.setVisibility(View.VISIBLE);\r\n                        SuggestedAdpater suggestedAdpater = new SuggestedAdpater(listModel.getResponseData(), ctx);\r\n                        binding.rvSuggestedList.setAdapter(suggestedAdpater);\r\n\r\n                        binding.tvSAViewAll.setOnClickListener(view -> {\r\n                            Intent i = new Intent(ctx, ViewSuggestedActivity.class);\r\n                            i.putExtra(\"Name\", \"Recommended  Audios\");\r\n                            i.putExtra(\"PlaylistID\", PlaylistID);\r\n                            i.putParcelableArrayListExtra(\"AudiolistModel\", listModel.getResponseData());\r\n                            startActivity(i);\r\n                            finish();\r\n                        });\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call<SuggestedModel> call, Throwable t) {\r\n                    BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                }\r\n            });\r\n        } else {\r\n            BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n        }\r\n\r\n        if (BWSApplication.isNetworkConnected(ctx)) {\r\n            BWSApplication.showProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n            Call<SearchPlaylistModel> listCall = APIClient.getClient().getSuggestedPlayLists(UserID);\r\n            listCall.enqueue(new Callback<SearchPlaylistModel>() {\r\n                @Override\r\n                public void onResponse(Call<SearchPlaylistModel> call, Response<SearchPlaylistModel> response) {\r\n                    if (response.isSuccessful()) {\r\n                        BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                        SearchPlaylistModel listModel = response.body();\r\n                        binding.tvSuggestedPlaylist.setText(R.string.Recommendeds_Playlist);\r\n                        binding.tvSPViewAll.setVisibility(View.VISIBLE);\r\n\r\n                        SuggestedPlayListsAdpater suggestedAdpater = new SuggestedPlayListsAdpater(listModel.getResponseData());\r\n                        binding.rvPlayList.setAdapter(suggestedAdpater);\r\n\r\n                        binding.tvSPViewAll.setOnClickListener(view -> {\r\n                            Intent i = new Intent(ctx, ViewSuggestedActivity.class);\r\n                            i.putExtra(\"Name\", \"Recommended Playlist\");\r\n                            i.putExtra(\"PlaylistID\", PlaylistID);\r\n                            i.putParcelableArrayListExtra(\"PlaylistModel\", listModel.getResponseData());\r\n                            startActivity(i);\r\n                            finish();\r\n                        });\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call<SearchPlaylistModel> call, Throwable t) {\r\n                    BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                }\r\n            });\r\n        } else {\r\n            BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        callback();\r\n    }\r\n\r\n\r\n    public class SerachListAdpater extends RecyclerView.Adapter<SerachListAdpater.MyViewHolder> {\r\n        Context ctx;\r\n        String UserID;\r\n        RecyclerView rvSerachList;\r\n        private List<SearchBothModel.ResponseData> modelList;\r\n\r\n        public SerachListAdpater(List<SearchBothModel.ResponseData> modelList, Context ctx,\r\n                                 RecyclerView rvSerachList, String UserID) {\r\n            this.modelList = modelList;\r\n            this.ctx = ctx;\r\n            this.rvSerachList = rvSerachList;\r\n            this.UserID = UserID;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            GlobalSearchLayoutBinding v = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext())\r\n                    , R.layout.global_search_layout, parent, false);\r\n            return new MyViewHolder(v);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n            holder.binding.tvTitle.setText(modelList.get(position).getName());\r\n\r\n            if (modelList.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                if (modelList.get(position).getIsPlay().equalsIgnoreCase(\"1\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                    holder.binding.ivLock.setVisibility(View.GONE);\r\n                } else if (modelList.get(position).getIsPlay().equalsIgnoreCase(\"0\")\r\n                        || modelList.get(position).getIsPlay().equalsIgnoreCase(\"\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                    holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                }\r\n            } else if (modelList.get(position).getIsLock().equalsIgnoreCase(\"0\") || modelList.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                holder.binding.ivLock.setVisibility(View.GONE);\r\n            }\r\n\r\n            if (modelList.get(position).getIscategory().equalsIgnoreCase(\"1\")) {\r\n                holder.binding.tvPart.setText(R.string.Audio);\r\n                holder.binding.llRemoveAudio.setVisibility(View.VISIBLE);\r\n                holder.binding.llRemoveAudio.setOnClickListener(view -> {\r\n                    if (modelList.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                        if (modelList.get(position).getIsPlay().equalsIgnoreCase(\"1\")) {\r\n                            holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                            holder.binding.ivLock.setVisibility(View.GONE);\r\n                            String AudioID = modelList.get(position).getID();\r\n                            SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                            boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                            String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                            String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                            if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                                if (isDisclaimer == 1) {\r\n                                    BWSApplication.showToast(\"The audio shall add after playing the disclaimer\", ctx);\r\n                                } else {\r\n                                    callAddSearchAudio(AudioID, \"0\", \"\");\r\n                                }\r\n                            } else {\r\n                                callAddSearchAudio(AudioID, \"0\", \"\");\r\n                            }\r\n                        } else if (modelList.get(position).getIsPlay().equalsIgnoreCase(\"0\")\r\n                                || modelList.get(position).getIsPlay().equalsIgnoreCase(\"\")) {\r\n                            holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                            holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                            Intent i = new Intent(ctx, MembershipChangeActivity.class);\r\n                            i.putExtra(\"ComeFrom\", \"Plan\");\r\n                            startActivity(i);\r\n                        }\r\n                    } else if (modelList.get(position).getIsLock().equalsIgnoreCase(\"2\")) {\r\n                        if (modelList.get(position).getIsPlay().equalsIgnoreCase(\"1\")) {\r\n                            holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                            holder.binding.ivLock.setVisibility(View.GONE);\r\n                            String AudioID = modelList.get(position).getID();\r\n                            SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                            boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                            String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                            String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                            if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                                if (isDisclaimer == 1) {\r\n                                    BWSApplication.showToast(\"The audio shall add after playing the disclaimer\", ctx);\r\n                                } else {\r\n                                    callAddSearchAudio(AudioID, \"0\", \"\");\r\n                                }\r\n                            } else {\r\n                                callAddSearchAudio(AudioID, \"0\", \"\");\r\n                            }\r\n                        } else if (modelList.get(position).getIsPlay().equalsIgnoreCase(\"0\")\r\n                                || modelList.get(position).getIsPlay().equalsIgnoreCase(\"\")) {\r\n                            holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                            holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                            BWSApplication.showToast(\"Please re-activate your membership plan\", ctx);\r\n                        }\r\n                    } else if (modelList.get(position).getIsLock().equalsIgnoreCase(\"0\") || modelList.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                        holder.binding.ivLock.setVisibility(View.GONE);\r\n                        String AudioID = modelList.get(position).getID();\r\n                        SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                        boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                        String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                        String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                        if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                            if (isDisclaimer == 1) {\r\n                                BWSApplication.showToast(\"The audio shall add after playing the disclaimer\", ctx);\r\n                            } else {\r\n                                callAddSearchAudio(AudioID, \"0\", \"\");\r\n                            }\r\n                        } else {\r\n                            callAddSearchAudio(AudioID, \"0\", \"\");\r\n                        }\r\n                    }\r\n                });\r\n\r\n                holder.binding.llMainLayoutForPlayer.setOnClickListener(view -> {\r\n\r\n                    if (modelList.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                        holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                        Intent i = new Intent(ctx, MembershipChangeActivity.class);\r\n                        i.putExtra(\"ComeFrom\", \"Plan\");\r\n                        startActivity(i);\r\n                    } else if (modelList.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                        holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                        BWSApplication.showToast(\"Please re-activate your membership plan\", ctx);\r\n                    } else if (modelList.get(position).getIsLock().equalsIgnoreCase(\"0\") || modelList.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                        try {\r\n                            player = 1;\r\n                            if (isPrepare || isMediaStart || isPause) {\r\n                                MusicService.stopMedia();\r\n                            }\r\n                            isPause = false;\r\n                            isMediaStart = false;\r\n                            isPrepare = false;\r\n                            isCompleteStop = false;\r\n                            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n                            SharedPreferences.Editor editor = shared.edit();\r\n                            Gson gson = new Gson();\r\n                            ArrayList<SearchBothModel.ResponseData> listModelList2 = new ArrayList<>();\r\n                            SearchBothModel.ResponseData mainPlayModel = new SearchBothModel.ResponseData();\r\n                            mainPlayModel.setID(\"0\");\r\n                            mainPlayModel.setName(\"Disclaimer\");\r\n                            mainPlayModel.setAudioFile(\"\");\r\n                            mainPlayModel.setAudioDirection(\"The audio shall start playing after the disclaimer\");\r\n                            mainPlayModel.setAudiomastercat(\"\");\r\n                            mainPlayModel.setAudioSubCategory(\"\");\r\n                            mainPlayModel.setImageFile(\"\");\r\n                            mainPlayModel.setLike(\"\");\r\n                            mainPlayModel.setDownload(\"\");\r\n                            mainPlayModel.setAudioDuration(\"0:48\");\r\n                            listModelList2.add(mainPlayModel);\r\n\r\n                            listModelList2.add(modelList.get(position));\r\n                            String json = gson.toJson(listModelList2);\r\n                            editor.putString(CONSTANTS.PREF_KEY_modelList, json);\r\n                            editor.putInt(CONSTANTS.PREF_KEY_position, 0);\r\n                            editor.putBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n                            editor.putBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                            editor.putString(CONSTANTS.PREF_KEY_PlaylistId, \"\");\r\n                            editor.putString(CONSTANTS.PREF_KEY_myPlaylist, \"\");\r\n                            editor.putString(CONSTANTS.PREF_KEY_AudioFlag, \"SearchModelAudio\");\r\n                            editor.commit();\r\n                            Fragment fragment = new TransparentPlayerFragment();\r\n                            FragmentManager fragmentManager1 = getSupportFragmentManager();\r\n                            fragmentManager1.beginTransaction()\r\n                                    .add(R.id.flContainer, fragment)\r\n                                    .commit();\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                });\r\n\r\n            } else if (modelList.get(position).getIscategory().equalsIgnoreCase(\"0\")) {\r\n                holder.binding.tvPart.setText(R.string.Playlist);\r\n                holder.binding.llRemoveAudio.setVisibility(View.VISIBLE);\r\n                holder.binding.llRemoveAudio.setOnClickListener(view -> {\r\n                    if (modelList.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                        holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                        Intent i = new Intent(ctx, MembershipChangeActivity.class);\r\n                        i.putExtra(\"ComeFrom\", \"Plan\");\r\n                        startActivity(i);\r\n                    } else if (modelList.get(position).getIsLock().equalsIgnoreCase(\"2\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                        holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                        BWSApplication.showToast(\"Please re-activate your membership plan\", ctx);\r\n                    } else if (modelList.get(position).getIsLock().equalsIgnoreCase(\"0\") || modelList.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                        holder.binding.ivLock.setVisibility(View.GONE);\r\n                        SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                        boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                        String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                        String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                        if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                            if (isDisclaimer == 1) {\r\n                                BWSApplication.showToast(\"The audio shall add after playing the disclaimer\", ctx);\r\n                            } else {\r\n                                callAddSearchAudio(\"\", \"1\", modelList.get(position).getID());\r\n                            }\r\n                        } else {\r\n                            callAddSearchAudio(\"\", \"1\", modelList.get(position).getID());\r\n                        }\r\n                    }\r\n                });\r\n                holder.binding.llMainLayout.setOnClickListener(view -> {\r\n                    if (modelList.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                        holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                        Intent i = new Intent(ctx, MembershipChangeActivity.class);\r\n                        i.putExtra(\"ComeFrom\", \"Plan\");\r\n                        startActivity(i);\r\n                    } else if (modelList.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                        holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                        BWSApplication.showToast(\"Please re-activate your membership plan\", ctx);\r\n                    } else if (modelList.get(position).getIsLock().equalsIgnoreCase(\"0\") || modelList.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                        holder.binding.ivLock.setVisibility(View.GONE);\r\n                        addToSearch = true;\r\n                        MyPlaylistIds = modelList.get(position).getID();\r\n                        PlaylistIDMS = PlaylistID;\r\n                        finish();\r\n                    /*Fragment myPlaylistsFragment = new MyPlaylistsFragment();\r\n                    Bundle bundle = new Bundle();\r\n                    bundle.putString(\"New\", \"0\");\r\n                    bundle.putString(\"PlaylistID\", PlaylistModel.get(position).getID());\r\n                    bundle.putString(\"PlaylistName\", PlaylistModel.get(position).getName());\r\n                    bundle.putString(\"MyDownloads\", \"0\");\r\n                    myPlaylistsFragment.setArguments(bundle);\r\n                    FragmentManager fragmentManager1 = getSupportFragmentManager();\r\n                    fragmentManager1.beginTransaction()\r\n                            .replace(R.id.flContainer, myPlaylistsFragment)\r\n                            .commit();*/\r\n                    }\r\n                });\r\n            }\r\n            MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                    1, 1, 0.12f, 0);\r\n            holder.binding.cvImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n            holder.binding.cvImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n            Glide.with(ctx).load(modelList.get(position).getImageFile()).thumbnail(0.05f)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(holder.binding.ivRestaurantImage);\r\n            holder.binding.ivIcon.setImageResource(R.drawable.add_icon);\r\n            holder.binding.ivBackgroundImage.setImageResource(R.drawable.ic_image_bg);\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return modelList.size();\r\n        }\r\n\r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            GlobalSearchLayoutBinding binding;\r\n\r\n            public MyViewHolder(GlobalSearchLayoutBinding binding) {\r\n                super(binding.getRoot());\r\n                this.binding = binding;\r\n            }\r\n        }\r\n    }\r\n\r\n    private void callAddSearchAudio(String AudioID, String s, String FromPlaylistId) {\r\n        if (BWSApplication.isNetworkConnected(ctx)) {\r\n            BWSApplication.showProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n            Call<AddToPlaylist> listCall = APIClient.getClient().getAddSearchAudioFromPlaylist(UserID, AudioID, PlaylistID, FromPlaylistId);\r\n            listCall.enqueue(new Callback<AddToPlaylist>() {\r\n                @Override\r\n                public void onResponse(Call<AddToPlaylist> call, Response<AddToPlaylist> response) {\r\n                    try {\r\n                        if (response.isSuccessful()) {\r\n                            BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                            AddToPlaylist listModels = response.body();\r\n                            if (listModels.getResponseCode().equalsIgnoreCase(getString(R.string.ResponseCodesuccess))) {\r\n                                BWSApplication.showToast(listModels.getResponseMessage(), ctx);\r\n                                SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                                boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                                String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                                int pos = shared.getInt(CONSTANTS.PREF_KEY_position, 0);\r\n                                Gson gsonx = new Gson();\r\n                                String json = shared.getString(CONSTANTS.PREF_KEY_audioList, String.valueOf(gsonx));\r\n                                Type type = new TypeToken<ArrayList<MainPlayModel>>() {\r\n                                }.getType();\r\n                                ArrayList<MainPlayModel> mainPlayModelListold = new ArrayList<>();\r\n                                mainPlayModelListold = gsonx.fromJson(json, type);\r\n                                String id = mainPlayModelListold.get(pos).getID();\r\n                                ArrayList<MainPlayModel> mainPlayModelList = new ArrayList<>();\r\n                                ArrayList<SubPlayListModel.ResponseData.PlaylistSong> playlistSongs = new ArrayList<>();\r\n                                if (audioPlay) {\r\n                                    if (AudioFlag.equalsIgnoreCase(\"SubPlayList\")) {\r\n                                        for (int i = 0; i < listModels.getResponseData().size(); i++) {\r\n                                            MainPlayModel mainPlayModel = new MainPlayModel();\r\n                                            mainPlayModel.setID(listModels.getResponseData().get(i).getID());\r\n                                            mainPlayModel.setName(listModels.getResponseData().get(i).getName());\r\n                                            mainPlayModel.setAudioFile(listModels.getResponseData().get(i).getAudioFile());\r\n                                            mainPlayModel.setPlaylistID(listModels.getResponseData().get(i).getPlaylistID());\r\n                                            mainPlayModel.setAudioDirection(listModels.getResponseData().get(i).getAudioDirection());\r\n                                            mainPlayModel.setAudiomastercat(listModels.getResponseData().get(i).getAudiomastercat());\r\n                                            mainPlayModel.setAudioSubCategory(listModels.getResponseData().get(i).getAudioSubCategory());\r\n                                            mainPlayModel.setImageFile(listModels.getResponseData().get(i).getImageFile());\r\n                                            mainPlayModel.setLike(listModels.getResponseData().get(i).getLike());\r\n                                            mainPlayModel.setDownload(listModels.getResponseData().get(i).getDownload());\r\n                                            mainPlayModel.setAudioDuration(listModels.getResponseData().get(i).getAudioDuration());\r\n                                            mainPlayModelList.add(mainPlayModel);\r\n                                        }\r\n                                        for (int i = 0; i < listModels.getResponseData().size(); i++) {\r\n                                            SubPlayListModel.ResponseData.PlaylistSong mainPlayModel = new SubPlayListModel.ResponseData.PlaylistSong();\r\n                                            mainPlayModel.setID(listModels.getResponseData().get(i).getID());\r\n                                            mainPlayModel.setName(listModels.getResponseData().get(i).getName());\r\n                                            mainPlayModel.setAudioFile(listModels.getResponseData().get(i).getAudioFile());\r\n                                            mainPlayModel.setPlaylistID(listModels.getResponseData().get(i).getPlaylistID());\r\n                                            mainPlayModel.setAudioDirection(listModels.getResponseData().get(i).getAudioDirection());\r\n                                            mainPlayModel.setAudiomastercat(listModels.getResponseData().get(i).getAudiomastercat());\r\n                                            mainPlayModel.setAudioSubCategory(listModels.getResponseData().get(i).getAudioSubCategory());\r\n                                            mainPlayModel.setImageFile(listModels.getResponseData().get(i).getImageFile());\r\n                                            mainPlayModel.setLike(listModels.getResponseData().get(i).getLike());\r\n                                            mainPlayModel.setDownload(listModels.getResponseData().get(i).getDownload());\r\n                                            mainPlayModel.setAudioDuration(listModels.getResponseData().get(i).getAudioDuration());\r\n                                            playlistSongs.add(mainPlayModel);\r\n                                        }\r\n\r\n                                        for (int i = 0; i < mainPlayModelList.size(); i++) {\r\n                                            if (mainPlayModelList.get(i).getID().equalsIgnoreCase(id)) {\r\n                                                pos = i;\r\n                                                break;\r\n                                            }\r\n                                        }\r\n                                        SharedPreferences sharedd = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n                                        SharedPreferences.Editor editor = sharedd.edit();\r\n                                        Gson gson = new Gson();\r\n                                        String jsonx = gson.toJson(mainPlayModelList);\r\n                                        String json1 = gson.toJson(playlistSongs);\r\n                                        editor.putString(CONSTANTS.PREF_KEY_modelList, json1);\r\n                                        editor.putString(CONSTANTS.PREF_KEY_audioList, jsonx);\r\n                                        editor.putInt(CONSTANTS.PREF_KEY_position, pos);\r\n                                        editor.putBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n                                        editor.putBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                                        editor.putString(CONSTANTS.PREF_KEY_PlaylistId, PlaylistID);\r\n                                        editor.putString(CONSTANTS.PREF_KEY_myPlaylist, \"myPlaylist\");\r\n                                        editor.putString(CONSTANTS.PREF_KEY_AudioFlag, \"SubPlayList\");\r\n                                        editor.commit();\r\n                                    }\r\n                                }\r\n                                if (s.equalsIgnoreCase(\"1\")) {\r\n                                    finish();\r\n                                }\r\n                            } else if (listModels.getResponseCode().equalsIgnoreCase(getString(R.string.ResponseCodefail))) {\r\n                                BWSApplication.showToast(listModels.getResponseMessage(), ctx);\r\n                            }\r\n\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call<AddToPlaylist> call, Throwable t) {\r\n                    BWSApplication.hideProgressBar(binding.progressBar, binding.progressBarHolder, activity);\r\n                }\r\n            });\r\n        } else {\r\n            BWSApplication.showToast(ctx.getString(R.string.no_server_found), ctx);\r\n        }\r\n    }\r\n\r\n    public class SuggestedAdpater extends RecyclerView.Adapter<SuggestedAdpater.MyViewHolder> {\r\n        private List<SuggestedModel.ResponseData> listModel;\r\n        Context ctx;\r\n\r\n        public SuggestedAdpater(List<SuggestedModel.ResponseData> listModel, Context ctx) {\r\n            this.listModel = listModel;\r\n            this.ctx = ctx;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            DownloadsLayoutBinding v = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext())\r\n                    , R.layout.downloads_layout, parent, false);\r\n            return new MyViewHolder(v);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n            holder.binding.tvTitle.setText(listModel.get(position).getName());\r\n            holder.binding.tvTime.setText(listModel.get(position).getAudioDuration());\r\n\r\n            MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                    1, 1, 0.12f, 0);\r\n            holder.binding.ivRestaurantImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n            holder.binding.ivRestaurantImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n            holder.binding.ivRestaurantImage.setScaleType(ImageView.ScaleType.FIT_XY);\r\n            Glide.with(ctx).load(listModel.get(position).getImageFile()).thumbnail(0.05f)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(holder.binding.ivRestaurantImage);\r\n            holder.binding.ivIcon.setImageResource(R.drawable.add_icon);\r\n\r\n            if (listModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                if (listModel.get(position).getIsPlay().equalsIgnoreCase(\"1\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                    holder.binding.ivLock.setVisibility(View.GONE);\r\n                } else if (listModel.get(position).getIsPlay().equalsIgnoreCase(\"0\")\r\n                        || listModel.get(position).getIsPlay().equalsIgnoreCase(\"\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                    holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                }\r\n            } else if (listModel.get(position).getIsLock().equalsIgnoreCase(\"0\")\r\n                    || listModel.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                holder.binding.ivLock.setVisibility(View.GONE);\r\n            }\r\n            holder.binding.llMainLayoutForPlayer.setOnClickListener(view -> {\r\n                if (listModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                    if (listModel.get(position).getIsPlay().equalsIgnoreCase(\"1\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                        holder.binding.ivLock.setVisibility(View.GONE);\r\n                        try {\r\n                            player = 1;\r\n                            if (isPrepare || isMediaStart || isPause) {\r\n                                MusicService.stopMedia();\r\n                            }\r\n                            isPause = false;\r\n                            isMediaStart = false;\r\n                            isPrepare = false;\r\n                            isCompleteStop = false;\r\n                            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n                            SharedPreferences.Editor editor = shared.edit();\r\n                            Gson gson = new Gson();\r\n                            ArrayList<SuggestedModel.ResponseData> listModelList2 = new ArrayList<>();\r\n                            SuggestedModel.ResponseData mainPlayModel = new SuggestedModel.ResponseData();\r\n                            mainPlayModel.setID(\"0\");\r\n                            mainPlayModel.setName(\"Disclaimer\");\r\n                            mainPlayModel.setAudioFile(\"\");\r\n                            mainPlayModel.setAudioDirection(\"The audio shall start playing after the disclaimer\");\r\n                            mainPlayModel.setAudiomastercat(\"\");\r\n                            mainPlayModel.setAudioSubCategory(\"\");\r\n                            mainPlayModel.setImageFile(\"\");\r\n                            mainPlayModel.setLike(\"\");\r\n                            mainPlayModel.setDownload(\"\");\r\n                            mainPlayModel.setAudioDuration(\"0:48\");\r\n                            listModelList2.add(mainPlayModel);\r\n\r\n                            listModelList2.add(listModel.get(position));\r\n                            String json = gson.toJson(listModelList2);\r\n                            editor.putString(CONSTANTS.PREF_KEY_modelList, json);\r\n                            editor.putInt(CONSTANTS.PREF_KEY_position, 0);\r\n                            editor.putBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n                            editor.putBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                            editor.putString(CONSTANTS.PREF_KEY_PlaylistId, \"\");\r\n                            editor.putString(CONSTANTS.PREF_KEY_myPlaylist, \"\");\r\n                            editor.putString(CONSTANTS.PREF_KEY_AudioFlag, \"SearchAudio\");\r\n                            editor.commit();\r\n                            Fragment fragment = new TransparentPlayerFragment();\r\n                            FragmentManager fragmentManager1 = getSupportFragmentManager();\r\n                            fragmentManager1.beginTransaction()\r\n                                    .add(R.id.flContainer, fragment)\r\n                                    .commit();\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    } else if (listModel.get(position).getIsPlay().equalsIgnoreCase(\"0\")\r\n                            || listModel.get(position).getIsPlay().equalsIgnoreCase(\"\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                        holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                    }\r\n                } else if (listModel.get(position).getIsLock().equalsIgnoreCase(\"0\")\r\n                        || listModel.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                    holder.binding.ivLock.setVisibility(View.GONE);\r\n                    try {\r\n                        player = 1;\r\n                        if (isPrepare || isMediaStart || isPause) {\r\n                            MusicService.stopMedia();\r\n                        }\r\n                        isPause = false;\r\n                        isMediaStart = false;\r\n                        isPrepare = false;\r\n                        isCompleteStop = false;\r\n                        SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n                        SharedPreferences.Editor editor = shared.edit();\r\n                        Gson gson = new Gson();\r\n                        ArrayList<SuggestedModel.ResponseData> listModelList2 = new ArrayList<>();\r\n                        SuggestedModel.ResponseData mainPlayModel = new SuggestedModel.ResponseData();\r\n                        mainPlayModel.setID(\"0\");\r\n                        mainPlayModel.setName(\"Disclaimer\");\r\n                        mainPlayModel.setAudioFile(\"\");\r\n                        mainPlayModel.setAudioDirection(\"The audio shall start playing after the disclaimer\");\r\n                        mainPlayModel.setAudiomastercat(\"\");\r\n                        mainPlayModel.setAudioSubCategory(\"\");\r\n                        mainPlayModel.setImageFile(\"\");\r\n                        mainPlayModel.setLike(\"\");\r\n                        mainPlayModel.setDownload(\"\");\r\n                        mainPlayModel.setAudioDuration(\"0:48\");\r\n                        listModelList2.add(mainPlayModel);\r\n\r\n                        listModelList2.add(listModel.get(position));\r\n                        String json = gson.toJson(listModelList2);\r\n                        editor.putString(CONSTANTS.PREF_KEY_modelList, json);\r\n                        editor.putInt(CONSTANTS.PREF_KEY_position, 0);\r\n                        editor.putBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n                        editor.putBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                        editor.putString(CONSTANTS.PREF_KEY_PlaylistId, \"\");\r\n                        editor.putString(CONSTANTS.PREF_KEY_myPlaylist, \"\");\r\n                        editor.putString(CONSTANTS.PREF_KEY_AudioFlag, \"SearchAudio\");\r\n                        editor.commit();\r\n                        Fragment fragment = new TransparentPlayerFragment();\r\n                        FragmentManager fragmentManager1 = getSupportFragmentManager();\r\n                        fragmentManager1.beginTransaction()\r\n                                .add(R.id.flContainer, fragment)\r\n                                .commit();\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n\r\n            holder.binding.llRemoveAudio.setOnClickListener(view -> {\r\n                if (listModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                    if (listModel.get(position).getIsPlay().equalsIgnoreCase(\"1\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                        holder.binding.ivLock.setVisibility(View.GONE);\r\n                        String AudioID = listModel.get(position).getID();\r\n                        SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                        boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                        String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                        String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                        if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                            if (isDisclaimer == 1) {\r\n                                BWSApplication.showToast(\"The audio shall add after playing the disclaimer\", ctx);\r\n                            } else {\r\n                                callAddSearchAudio(AudioID, \"0\", \"\");\r\n                            }\r\n                        } else {\r\n                            callAddSearchAudio(AudioID, \"0\", \"\");\r\n                        }\r\n                    } else if (listModel.get(position).getIsPlay().equalsIgnoreCase(\"0\")\r\n                            || listModel.get(position).getIsPlay().equalsIgnoreCase(\"\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                        holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                        Intent i = new Intent(ctx, MembershipChangeActivity.class);\r\n                        i.putExtra(\"ComeFrom\", \"Plan\");\r\n                        startActivity(i);\r\n                    }\r\n                } else if (listModel.get(position).getIsLock().equalsIgnoreCase(\"2\")) {\r\n                    if (listModel.get(position).getIsPlay().equalsIgnoreCase(\"1\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                        holder.binding.ivLock.setVisibility(View.GONE);\r\n                        String AudioID = listModel.get(position).getID();\r\n                        SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                        boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                        String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                        String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                        if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                            if (isDisclaimer == 1) {\r\n                                BWSApplication.showToast(\"The audio shall add after playing the disclaimer\", ctx);\r\n                            } else {\r\n                                callAddSearchAudio(AudioID, \"0\", \"\");\r\n                            }\r\n                        } else {\r\n                            callAddSearchAudio(AudioID, \"0\", \"\");\r\n                        }\r\n                    } else if (listModel.get(position).getIsPlay().equalsIgnoreCase(\"0\")\r\n                            || listModel.get(position).getIsPlay().equalsIgnoreCase(\"\")) {\r\n                        holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                        holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                        BWSApplication.showToast(\"Please re-activate your membership plan\", ctx);\r\n                    }\r\n                } else if (listModel.get(position).getIsLock().equalsIgnoreCase(\"0\") || listModel.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                    String AudioID = listModel.get(position).getID();\r\n                    SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                    boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                    String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                    String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                    if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                        if (isDisclaimer == 1) {\r\n                            BWSApplication.showToast(\"The audio shall add after playing the disclaimer\", ctx);\r\n                        } else {\r\n                            callAddSearchAudio(AudioID, \"0\", \"\");\r\n                        }\r\n                    } else {\r\n                        callAddSearchAudio(AudioID, \"0\", \"\");\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            if (10 > listModel.size()) {\r\n                return listModel.size();\r\n            } else {\r\n                return 10;\r\n            }\r\n        }\r\n\r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            DownloadsLayoutBinding binding;\r\n\r\n            public MyViewHolder(DownloadsLayoutBinding binding) {\r\n                super(binding.getRoot());\r\n                this.binding = binding;\r\n            }\r\n        }\r\n    }\r\n\r\n    public class SuggestedPlayListsAdpater extends RecyclerView.Adapter<SuggestedPlayListsAdpater.MyViewHolder> {\r\n        private List<SearchPlaylistModel.ResponseData> PlaylistModel;\r\n\r\n        public SuggestedPlayListsAdpater(List<SearchPlaylistModel.ResponseData> PlaylistModel) {\r\n            this.PlaylistModel = PlaylistModel;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            DownloadsLayoutBinding v = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext())\r\n                    , R.layout.downloads_layout, parent, false);\r\n            return new MyViewHolder(v);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n            holder.binding.tvTitle.setText(PlaylistModel.get(position).getName());\r\n            holder.binding.pbProgress.setVisibility(View.GONE);\r\n\r\n            if (PlaylistModel.get(position).getTotalAudio().equalsIgnoreCase(\"\") ||\r\n                    PlaylistModel.get(position).getTotalAudio().equalsIgnoreCase(\"0\") &&\r\n                            PlaylistModel.get(position).getTotalhour().equalsIgnoreCase(\"\")\r\n                            && PlaylistModel.get(position).getTotalminute().equalsIgnoreCase(\"\")) {\r\n                holder.binding.tvTime.setText(\"0 Audio | 0h 0m\");\r\n            } else {\r\n                if (PlaylistModel.get(position).getTotalminute().equalsIgnoreCase(\"\")) {\r\n                    holder.binding.tvTime.setText(PlaylistModel.get(position).getTotalAudio() + \" Audio | \"\r\n                            + PlaylistModel.get(position).getTotalhour() + \"h 0m\");\r\n                } else {\r\n                    holder.binding.tvTime.setText(PlaylistModel.get(position).getTotalAudio() +\r\n                            \" Audios | \" + PlaylistModel.get(position).getTotalhour() + \"h \" + PlaylistModel.get(position).getTotalminute() + \"m\");\r\n                }\r\n            }\r\n\r\n            MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                    1, 1, 0.12f, 0);\r\n            holder.binding.cvImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n            holder.binding.cvImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n            Glide.with(ctx).load(PlaylistModel.get(position).getImage()).thumbnail(0.05f)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(holder.binding.ivRestaurantImage);\r\n            holder.binding.ivIcon.setImageResource(R.drawable.add_icon);\r\n            holder.binding.ivBackgroundImage.setImageResource(R.drawable.ic_image_bg);\r\n            if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n            } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"2\")) {\r\n                holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n            } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"0\") || PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                holder.binding.ivLock.setVisibility(View.GONE);\r\n            }\r\n\r\n            holder.binding.llMainLayout.setOnClickListener(view -> {\r\n                if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                    holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                    Intent i = new Intent(ctx, MembershipChangeActivity.class);\r\n                    i.putExtra(\"ComeFrom\", \"Plan\");\r\n                    startActivity(i);\r\n                } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                    holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                    BWSApplication.showToast(\"Please re-activate your membership plan\", ctx);\r\n                } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"0\") || PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                    holder.binding.ivLock.setVisibility(View.GONE);\r\n                    addToSearch = true;\r\n                    MyPlaylistIds = PlaylistModel.get(position).getID();\r\n                    PlaylistIDMS = PlaylistID;\r\n                    finish();\r\n                    /*Fragment myPlaylistsFragment = new MyPlaylistsFragment();\r\n                    Bundle bundle = new Bundle();\r\n                    bundle.putString(\"New\", \"0\");\r\n                    bundle.putString(\"PlaylistID\", PlaylistModel.get(position).getID());\r\n                    bundle.putString(\"PlaylistName\", PlaylistModel.get(position).getName());\r\n                    bundle.putString(\"MyDownloads\", \"0\");\r\n                    myPlaylistsFragment.setArguments(bundle);\r\n                    FragmentManager fragmentManager1 = getSupportFragmentManager();\r\n                    fragmentManager1.beginTransaction()\r\n                            .replace(R.id.flContainer, myPlaylistsFragment)\r\n                            .commit();*/\r\n                }\r\n            });\r\n\r\n            holder.binding.llRemoveAudio.setOnClickListener(view -> {\r\n                if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"1\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                    holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                    Intent i = new Intent(ctx, MembershipChangeActivity.class);\r\n                    i.putExtra(\"ComeFrom\", \"Plan\");\r\n                    startActivity(i);\r\n                } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"2\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.VISIBLE);\r\n                    holder.binding.ivLock.setVisibility(View.VISIBLE);\r\n                    BWSApplication.showToast(\"Please re-activate your membership plan\", ctx);\r\n                } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"0\") || PlaylistModel.get(position).getIsLock().equalsIgnoreCase(\"\")) {\r\n                    holder.binding.ivBackgroundImage.setVisibility(View.GONE);\r\n                    holder.binding.ivLock.setVisibility(View.GONE);\r\n                    SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, MODE_PRIVATE);\r\n                    boolean audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n                    String AudioFlag = shared.getString(CONSTANTS.PREF_KEY_AudioFlag, \"0\");\r\n                    String pID = shared.getString(CONSTANTS.PREF_KEY_PlaylistId, \"0\");\r\n                    if (audioPlay && AudioFlag.equalsIgnoreCase(\"SubPlayList\") && pID.equalsIgnoreCase(PlaylistID)) {\r\n                        if (isDisclaimer == 1) {\r\n                            BWSApplication.showToast(\"The audio shall add after playing the disclaimer\", ctx);\r\n                        } else {\r\n                            callAddSearchAudio(\"\", \"1\", PlaylistModel.get(position).getID());\r\n                        }\r\n                    } else {\r\n                        callAddSearchAudio(\"\", \"1\", PlaylistModel.get(position).getID());\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            if (10 > PlaylistModel.size()) {\r\n                return PlaylistModel.size();\r\n            } else {\r\n                return 10;\r\n            }\r\n        }\r\n\r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            DownloadsLayoutBinding binding;\r\n\r\n            public MyViewHolder(DownloadsLayoutBinding binding) {\r\n                super(binding.getRoot());\r\n                this.binding = binding;\r\n            }\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/AddAudioActivity.java	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
+++ app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/AddAudioActivity.java	(date 1603256100148)
@@ -490,6 +490,7 @@
                     } else if (modelList.get(position).getIsLock().equalsIgnoreCase("0") || modelList.get(position).getIsLock().equalsIgnoreCase("")) {
                         holder.binding.ivBackgroundImage.setVisibility(View.GONE);
                         holder.binding.ivLock.setVisibility(View.GONE);
+                        comefromDownload = "0";
                         addToSearch = true;
                         MyPlaylistIds = modelList.get(position).getID();
                         PlaylistIDMS = PlaylistID;
@@ -945,6 +946,7 @@
                 } else if (PlaylistModel.get(position).getIsLock().equalsIgnoreCase("0") || PlaylistModel.get(position).getIsLock().equalsIgnoreCase("")) {
                     holder.binding.ivBackgroundImage.setVisibility(View.GONE);
                     holder.binding.ivLock.setVisibility(View.GONE);
+                    comefromDownload = "0";
                     addToSearch = true;
                     MyPlaylistIds = PlaylistModel.get(position).getID();
                     PlaylistIDMS = PlaylistID;
Index: .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_15_30__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_15_30__Default_Changelist_.xml	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_15_30__Default_Changelist_.xml	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_13-10-2020_15_30_[Default_Changelist]" date="1602583279390" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_15_30_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 13-10-2020 15:30 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_26_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_26_[Default_Changelist]/shelved.patch	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_26_[Default_Changelist]/shelved.patch	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
@@ -1,229 +0,0 @@
-Index: app/src/main/res/layout/activity_view_queue.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout>\r\n\r\n    <RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@color/dark_blue_gray\">\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/llFirst\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n            android:layout_marginTop=\"@dimen/_16sdp\"\r\n            android:weightSum=\"1\">\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/llBack\"\r\n                android:layout_width=\"@dimen/_0sdp\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"0.18\">\r\n\r\n                <ImageView\r\n                    android:layout_width=\"@dimen/_20sdp\"\r\n                    android:layout_height=\"@dimen/_20sdp\"\r\n                    android:layout_marginTop=\"@dimen/_10sdp\"\r\n                    android:contentDescription=\"@string/close_queue\"\r\n                    android:src=\"@drawable/ic_close_white_icon\"\r\n                    app:tint=\"@color/white\" />\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"@dimen/_0sdp\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"0.64\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tvCategory\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"@dimen/_6sdp\"\r\n                    android:ellipsize=\"end\"\r\n                    android:fontFamily=\"@font/montserrat_medium\"\r\n                    android:gravity=\"center\"\r\n                    android:maxLines=\"1\"\r\n                    android:textColor=\"@color/white\"\r\n                    android:textSize=\"@dimen/_13sdp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tvTitle\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"@dimen/_6sdp\"\r\n                    android:fontFamily=\"@font/montserrat_regular\"\r\n                    android:gravity=\"center\"\r\n                    android:textColor=\"@color/white\"\r\n                    android:textSize=\"@dimen/_16sdp\" />\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"@dimen/_0sdp\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"0.18\"\r\n                android:gravity=\"right\"\r\n                android:orientation=\"horizontal\" />\r\n\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_above=\"@id/rlThired\"\r\n            android:layout_below=\"@id/llFirst\"\r\n            android:layout_marginVertical=\"@dimen/_10sdp\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <androidx.core.widget.NestedScrollView\r\n                android:id=\"@+id/nestedScroll\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:overScrollMode=\"never\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"vertical\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                        android:layout_marginTop=\"@dimen/_6sdp\"\r\n                        android:fontFamily=\"@font/montserrat_bold\"\r\n                        android:gravity=\"start\"\r\n                        android:text=\"@string/Now_Playing\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"@dimen/_15sdp\" />\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/llNowPlaying\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"@dimen/_60sdp\"\r\n                        android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                        android:layout_marginVertical=\"@dimen/_12sdp\"\r\n                        android:orientation=\"horizontal\"\r\n                        android:weightSum=\"1\">\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"@dimen/_0sdp\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_gravity=\"center\"\r\n                            android:layout_weight=\"0.2\"\r\n                            android:gravity=\"center|start\">\r\n\r\n                            <androidx.cardview.widget.CardView\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:layout_marginHorizontal=\"@dimen/_10sdp\"\r\n                                android:layout_marginVertical=\"@dimen/_2sdp\"\r\n                                app:cardCornerRadius=\"@dimen/_10sdp\">\r\n\r\n                                <androidx.constraintlayout.widget.ConstraintLayout\r\n                                    android:id=\"@+id/title_layout\"\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"match_parent\">\r\n\r\n                                    <ImageView\r\n                                        android:id=\"@+id/ivRestaurantImage\"\r\n                                        android:layout_width=\"match_parent\"\r\n                                        android:layout_height=\"match_parent\"\r\n                                        android:layout_marginLeft=\"-4dp\"\r\n                                        android:layout_marginRight=\"-16dp\"\r\n                                        android:scaleType=\"fitXY\" />\r\n                                </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n                            </androidx.cardview.widget.CardView>\r\n                        </LinearLayout>\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"@dimen/_0sdp\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginLeft=\"@dimen/_10sdp\"\r\n                            android:layout_weight=\"0.80\"\r\n                            android:orientation=\"vertical\">\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvName\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"@dimen/_6sdp\"\r\n                                android:ellipsize=\"end\"\r\n                                android:fontFamily=\"@font/montserrat_bold\"\r\n                                android:gravity=\"start\"\r\n                                android:maxLines=\"1\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"@dimen/_17sdp\" />\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvTime\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"@dimen/_6sdp\"\r\n                                android:ellipsize=\"end\"\r\n                                android:fontFamily=\"@font/montserrat_medium\"\r\n                                android:gravity=\"start\"\r\n                                android:maxLines=\"1\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"@dimen/_13sdp\" />\r\n\r\n\r\n                        </LinearLayout>\r\n\r\n                    </LinearLayout>\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                        android:layout_marginTop=\"@dimen/_6sdp\"\r\n                        android:fontFamily=\"@font/montserrat_bold\"\r\n                        android:gravity=\"start\"\r\n                        android:text=\"@string/Next_in_queue\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"@dimen/_15sdp\" />\r\n\r\n                    <androidx.recyclerview.widget.RecyclerView\r\n                        android:id=\"@+id/rvQueueList\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:layout_marginHorizontal=\"@dimen/_12sdp\"\r\n                        android:nestedScrollingEnabled=\"true\"\r\n                        android:overScrollMode=\"never\"\r\n                        android:paddingTop=\"@dimen/_8sdp\"\r\n                        android:paddingBottom=\"@dimen/_8sdp\" />\r\n\r\n                </LinearLayout>\r\n            </androidx.core.widget.NestedScrollView>\r\n        </LinearLayout>\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/rlThired\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentBottom=\"true\"\r\n            android:layout_marginBottom=\"@dimen/_26sdp\">\r\n\r\n            <SeekBar\r\n                android:id=\"@+id/simpleSeekbar\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginHorizontal=\"@dimen/_4sdp\"\r\n                android:progressDrawable=\"@drawable/seek_bar_white\"\r\n                android:thumb=\"@drawable/ic_white_dot_icon\" />\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                android:layout_marginTop=\"@dimen/_30sdp\"\r\n                android:weightSum=\"1\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center\" />\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llprev\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivprev\"\r\n                        android:layout_width=\"@dimen/_28sdp\"\r\n                        android:layout_height=\"@dimen/_28sdp\"\r\n                        android:src=\"@drawable/ic_backword_icon\"\r\n                        app:tint=\"@color/white\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llPlay\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center_horizontal\"\r\n                    android:visibility=\"gone\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivPlay\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:src=\"@drawable/ic_play_white_icon\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llProgressBar\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.24\"\r\n                    android:gravity=\"center_horizontal\"\r\n                    android:padding=\"@dimen/_2sdp\"\r\n                    android:visibility=\"gone\">\r\n\r\n                    <ProgressBar\r\n                        android:id=\"@+id/progressBar\"\r\n                        android:layout_width=\"0.00dp\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:layout_marginLeft=\"@dimen/_13sdp\"\r\n                        android:layout_marginTop=\"@dimen/_8sdp\"\r\n                        android:layout_marginBottom=\"@dimen/_8sdp\"\r\n                        android:layout_weight=\"0.13\"\r\n                        android:indeterminateTint=\"@color/white\"\r\n                        android:scaleType=\"fitXY\"\r\n                        android:visibility=\"gone\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llPause\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center_horizontal\"\r\n                    android:visibility=\"gone\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivPause\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:src=\"@drawable/ic_pause_white_icon\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llnext\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivnext\"\r\n                        android:layout_width=\"@dimen/_28sdp\"\r\n                        android:layout_height=\"@dimen/_28sdp\"\r\n                        android:src=\"@drawable/ic_forward_icon\"\r\n                        app:tint=\"@color/white\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center\" />\r\n\r\n            </LinearLayout>\r\n        </RelativeLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:gravity=\"center\"\r\n            android:padding=\"@dimen/_60sdp\">\r\n\r\n            <ProgressBar\r\n                android:id=\"@+id/pbProgressBar\"\r\n                android:layout_width=\"@dimen/_50sdp\"\r\n                android:layout_height=\"@dimen/_50sdp\"\r\n                android:indeterminateTint=\"@color/blue\"\r\n                android:scaleType=\"centerInside\"\r\n                android:visibility=\"gone\" />\r\n\r\n        </LinearLayout>\r\n\r\n        <FrameLayout\r\n            android:id=\"@+id/progressBarHolder\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:alpha=\"0.4\"\r\n            android:animateLayoutChanges=\"true\"\r\n            android:background=\"#C0000000\"\r\n            android:visibility=\"gone\" />\r\n    </RelativeLayout>\r\n</layout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_view_queue.xml	(revision 24cc6b7c98097f57d45b181632141026d2a2695c)
-+++ app/src/main/res/layout/activity_view_queue.xml	(date 1602584305115)
-@@ -77,11 +77,11 @@
-             android:layout_marginVertical="@dimen/_10sdp"
-             android:orientation="vertical">
- 
--            <androidx.core.widget.NestedScrollView
-+           <!-- <androidx.core.widget.NestedScrollView
-                 android:id="@+id/nestedScroll"
-                 android:layout_width="match_parent"
-                 android:layout_height="match_parent"
--                android:overScrollMode="never">
-+                android:overScrollMode="never">-->
- 
-                 <LinearLayout
-                     android:layout_width="match_parent"
-@@ -197,7 +197,7 @@
-                         android:paddingBottom="@dimen/_8sdp" />
- 
-                 </LinearLayout>
--            </androidx.core.widget.NestedScrollView>
-+<!--            </androidx.core.widget.NestedScrollView>-->
-         </LinearLayout>
- 
-         <RelativeLayout
-Index: app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/ViewQueueActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.brainwellnessspa.DashboardModule.Activities;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.media.AudioAttributes;\r\nimport android.media.MediaPlayer;\r\nimport android.os.AsyncTask;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.SystemClock;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.SeekBar;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.ItemTouchHelper;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\nimport com.brainwellnessspa.BWSApplication;\r\nimport com.brainwellnessspa.DashboardModule.Models.AddToQueueModel;\r\nimport com.brainwellnessspa.DashboardModule.Models.SucessModel;\r\nimport com.brainwellnessspa.DashboardModule.TransparentPlayer.Models.MainPlayModel;\r\nimport com.brainwellnessspa.EncryptDecryptUtils.DownloadMedia;\r\nimport com.brainwellnessspa.EncryptDecryptUtils.FileUtils;\r\nimport com.brainwellnessspa.R;\r\nimport com.brainwellnessspa.RoomDataBase.DatabaseClient;\r\nimport com.brainwellnessspa.RoomDataBase.DownloadAudioDetails;\r\nimport com.brainwellnessspa.Utility.APIClient;\r\nimport com.brainwellnessspa.Utility.CONSTANTS;\r\nimport com.brainwellnessspa.Utility.ItemMoveCallback;\r\nimport com.brainwellnessspa.Utility.MeasureRatio;\r\nimport com.brainwellnessspa.Utility.StartDragListener;\r\nimport com.brainwellnessspa.databinding.ActivityViewQueueBinding;\r\nimport com.brainwellnessspa.databinding.QueueListLayoutBinding;\r\n\r\nimport java.io.FileDescriptor;\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Type;\r\nimport java.sql.Time;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\nimport static com.brainwellnessspa.Utility.MusicService.SeekTo;\r\nimport static com.brainwellnessspa.Utility.MusicService.getEndTime;\r\nimport static com.brainwellnessspa.Utility.MusicService.getProgressPercentage;\r\nimport static com.brainwellnessspa.Utility.MusicService.getStartTime;\r\nimport static com.brainwellnessspa.Utility.MusicService.isMediaStart;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPause;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPlaying;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPrepare;\r\nimport static com.brainwellnessspa.Utility.MusicService.isStop;\r\nimport static com.brainwellnessspa.Utility.MusicService.mediaPlayer;\r\nimport static com.brainwellnessspa.Utility.MusicService.oTime;\r\nimport static com.brainwellnessspa.Utility.MusicService.pauseMedia;\r\nimport static com.brainwellnessspa.Utility.MusicService.progressToTimer;\r\nimport static com.brainwellnessspa.Utility.MusicService.resumeMedia;\r\nimport static com.brainwellnessspa.Utility.MusicService.savePrefQueue;\r\nimport static com.brainwellnessspa.Utility.MusicService.stopMedia;\r\n\r\npublic class ViewQueueActivity extends AppCompatActivity implements SeekBar.OnSeekBarChangeListener,/* AudioManager.OnAudioFocusChangeListener,*/ StartDragListener {\r\n    ActivityViewQueueBinding binding;\r\n    int position, listSize, startTime = 0;\r\n    String IsRepeat, IsShuffle, id, AudioId = \"\", ComeFromQueue = \"\", play = \"\", url, name;\r\n    Context ctx;\r\n    Activity activity;\r\n    ArrayList<MainPlayModel> mainPlayModelList;\r\n    ArrayList<AddToQueueModel> addToQueueModelList, addToQueueModelList2;\r\n    ArrayList<AddToQueueModel> addToQueueModeNowPlaying;\r\n    SharedPreferences shared;\r\n    Boolean queuePlay, audioPlay;\r\n    QueueAdapter adapter;\r\n    List<DownloadAudioDetails> downloadAudioDetailsList;\r\n    ItemTouchHelper touchHelper;\r\n    int mypos = 0;\r\n    long totalDuration;\r\n    private long mLastClickTime = 0;\r\n    private Handler handler;\r\n    //    private AudioManager mAudioManager;\r\n    private Runnable UpdateSongTime = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            startTime = getStartTime();\r\n            Time t = Time.valueOf(\"00:00:00\");\r\n            if (queuePlay) {\r\n                if (listSize != 0) {\r\n                    if (!BWSApplication.isNetworkConnected(ctx)) {\r\n                        if (mediaPlayer != null) {\r\n                            totalDuration = mediaPlayer.getDuration();\r\n                        } else {\r\n                            t = Time.valueOf(\"00:\" + downloadAudioDetailsList.get(0).getAudioDuration());\r\n                        }\r\n                    } else {\r\n                        if (mediaPlayer != null) {\r\n                            totalDuration = mediaPlayer.getDuration();\r\n                        } else {\r\n                            t = Time.valueOf(\"00:\" + addToQueueModelList.get(position).getAudioDuration());\r\n                        }\r\n                    }\r\n                } else {\r\n                    stopMedia();\r\n                }\r\n            } else if (audioPlay) {\r\n                if (!BWSApplication.isNetworkConnected(ctx)) {\r\n                    if (mediaPlayer != null) {\r\n                        totalDuration = mediaPlayer.getDuration();\r\n                    } else {\r\n                        t = Time.valueOf(\"00:\" + downloadAudioDetailsList.get(0).getAudioDuration());\r\n                    }\r\n                } else {\r\n                    if (mediaPlayer != null) {\r\n                        totalDuration = mediaPlayer.getDuration();\r\n                    } else {\r\n                        t = Time.valueOf(\"00:\" + mainPlayModelList.get(position).getAudioDuration());\r\n                    }\r\n                }\r\n            }\r\n            if (!BWSApplication.isNetworkConnected(ctx)) {\r\n                totalDuration = mediaPlayer.getDuration();\r\n            } else {\r\n                if (mediaPlayer != null) {\r\n                    totalDuration = mediaPlayer.getDuration();\r\n                } else {\r\n                    totalDuration = t.getTime();\r\n                }\r\n            }\r\n            long currentDuration = getStartTime();\r\n\r\n            int progress = getProgressPercentage(currentDuration, totalDuration);\r\n            long diff = totalDuration - currentDuration;\r\n\r\n            if (currentDuration == totalDuration && currentDuration != 0&& !isStop) {\r\n                callComplete();\r\n            } else if (isPause) {\r\n                binding.simpleSeekbar.setProgress(oTime);\r\n            } else {\r\n                binding.simpleSeekbar.setProgress(progress);\r\n            }\r\n            binding.simpleSeekbar.setMax(100);\r\n            handler.postDelayed(this, 500);\r\n        }\r\n    };\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_view_queue);\r\n        ctx = ViewQueueActivity.this;\r\n        activity = ViewQueueActivity.this;\r\n\r\n        downloadAudioDetailsList = new ArrayList<>();\r\n        if (getIntent().getExtras() != null) {\r\n            AudioId = getIntent().getStringExtra(CONSTANTS.ID);\r\n        }\r\n\r\n        if (getIntent().getExtras() != null) {\r\n            ComeFromQueue = getIntent().getStringExtra(\"ComeFromQueue\");\r\n        }\r\n        if (getIntent().getExtras() != null) {\r\n            play = getIntent().getStringExtra(\"play\");\r\n        }\r\n        handler = new Handler();\r\n        addToQueueModelList = new ArrayList<>();\r\n        addToQueueModelList2 = new ArrayList<>();\r\n\r\n        mainPlayModelList = new ArrayList<>();\r\n        shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        Gson gson = new Gson();\r\n        String json = shared.getString(CONSTANTS.PREF_KEY_queueList, String.valueOf(gson));\r\n        position = shared.getInt(CONSTANTS.PREF_KEY_position, 0);\r\n\r\n        if (!json.equalsIgnoreCase(String.valueOf(gson))) {\r\n            Type type = new TypeToken<ArrayList<AddToQueueModel>>() {\r\n            }.getType();\r\n            addToQueueModelList = gson.fromJson(json, type);\r\n            addToQueueModelList2 = gson.fromJson(json, type);\r\n        }\r\n        String json2 = shared.getString(CONSTANTS.PREF_KEY_audioList, String.valueOf(gson));\r\n        position = shared.getInt(CONSTANTS.PREF_KEY_position, 0);\r\n        Type type2 = new TypeToken<ArrayList<MainPlayModel>>() {\r\n        }.getType();\r\n        mainPlayModelList = gson.fromJson(json2, type2);\r\n        SharedPreferences Status = getSharedPreferences(CONSTANTS.PREF_KEY_Status, Context.MODE_PRIVATE);\r\n        IsRepeat = Status.getString(CONSTANTS.PREF_KEY_IsRepeat, \"\");\r\n        IsShuffle = Status.getString(CONSTANTS.PREF_KEY_IsShuffle, \"\");\r\n/*        mAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n        mAudioManager.requestAudioFocus(this, AudioManager.STREAM_MUSIC,\r\n                AudioManager.AUDIOFOCUS_GAIN);*/\r\n        binding.rvQueueList.setFocusable(false);\r\n        binding.nestedScroll.requestFocus();\r\n\r\n        queuePlay = shared.getBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n        audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n\r\n        binding.llBack.setOnClickListener(view -> {\r\n            if (SystemClock.elapsedRealtime() - mLastClickTime < 1000) {\r\n                return;\r\n            }\r\n            mLastClickTime = SystemClock.elapsedRealtime();\r\n            callBack();\r\n        });\r\n        MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                1, 1, 0.14f, 0);\r\n        binding.ivRestaurantImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n        binding.ivRestaurantImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n        binding.ivRestaurantImage.setScaleType(ImageView.ScaleType.FIT_XY);\r\n        getPrepareShowData(position);\r\n        binding.simpleSeekbar.setOnSeekBarChangeListener(this);\r\n        callAdapterMethod();\r\n        binding.llNowPlaying.setOnClickListener(view -> {\r\n            if (binding.llPause.getVisibility() == View.VISIBLE) {\r\n                isPause = false;\r\n            }\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson2 = new Gson();\r\n            String json22 = gson2.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json22);\r\n            editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n            editor.commit();\r\n            Intent i = new Intent(ctx, PlayWellnessActivity.class);\r\n            i.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n            startActivity(i);\r\n            finish();\r\n        });\r\n\r\n        binding.llPause.setOnClickListener(view -> {\r\n            handler.removeCallbacks(UpdateSongTime);\r\n            binding.simpleSeekbar.setProgress(binding.simpleSeekbar.getProgress());\r\n            pauseMedia();\r\n            binding.llPlay.setVisibility(View.VISIBLE);\r\n            binding.llPause.setVisibility(View.GONE);\r\n            binding.llProgressBar.setVisibility(View.GONE);\r\n            binding.progressBar.setVisibility(View.GONE);\r\n            oTime = binding.simpleSeekbar.getProgress();\r\n        });\r\n\r\n        binding.llPlay.setOnClickListener(view -> {\r\n            binding.llPlay.setVisibility(View.GONE);\r\n            binding.llPause.setVisibility(View.VISIBLE);\r\n            binding.llProgressBar.setVisibility(View.GONE);\r\n            binding.progressBar.setVisibility(View.GONE);\r\n            resumeMedia();\r\n            isPause = false;\r\n            handler.postDelayed(UpdateSongTime, 500);\r\n        });\r\n\r\n        binding.llnext.setOnClickListener(view -> {\r\n\r\n            if (BWSApplication.isNetworkConnected(ctx)) {\r\n                stopMedia();\r\n                isMediaStart = false;\r\n                isPrepare = false;\r\n                isPause = false;\r\n                if (IsRepeat.equalsIgnoreCase(\"1\")||IsRepeat.equalsIgnoreCase(\"0\")) {\r\n                    // repeat is on play same song again\r\n                    if (position < listSize - 1) {\r\n                        position = position + 1;\r\n                    } else {\r\n                        position = 0;\r\n                    }\r\n                    getPrepareShowData(position);\r\n                } /*else if (IsRepeat.equalsIgnoreCase(\"0\")) {\r\n                    getPrepareShowData(position);\r\n                } */else if (IsShuffle.equalsIgnoreCase(\"1\")) {\r\n                    // shuffle is on - play a random song\r\n                    if (queuePlay) {\r\n                        adapter.callRemoveList(position,\"1\");\r\n                        listSize = addToQueueModelList.size();\r\n                        if (listSize == 0) {\r\n                            stopMedia();\r\n                        } else if (listSize == 1) {\r\n                            stopMedia();\r\n                        } else {\r\n                            Random random = new Random();\r\n                            position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                            getPrepareShowData(position);\r\n                        }\r\n                    } else {\r\n                        Random random = new Random();\r\n                        position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                        getPrepareShowData(position);\r\n                    }\r\n                } else {\r\n                    if (queuePlay) {\r\n                        adapter.callRemoveList(position,\"1\");\r\n                        listSize = addToQueueModelList.size();\r\n                        if (position < listSize - 1) {\r\n                            getPrepareShowData(position);\r\n                        } else {\r\n                            if (listSize == 0) {\r\n                                savePrefQueue(0, false, true, addToQueueModelList, ctx);\r\n                                stopMedia();\r\n                            } else {\r\n                                position = 0;\r\n                                getPrepareShowData(position);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (position < listSize - 1) {\r\n                            position = position + 1;\r\n                            getPrepareShowData(position);\r\n                        } else if (listSize != 1) {\r\n                            position = 0;\r\n                            getPrepareShowData(position);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n            }\r\n        });\r\n\r\n        binding.llprev.setOnClickListener(view -> {\r\n            if (BWSApplication.isNetworkConnected(ctx)) {\r\n                stopMedia();\r\n                isMediaStart = false;\r\n                isPrepare = false;\r\n                isPause = false;\r\n                if (IsRepeat.equalsIgnoreCase(\"1\") || IsRepeat.equalsIgnoreCase(\"0\")) {\r\n                    // repeat is on play same song again\r\n                    if (position > 0) {\r\n                        position = position - 1;\r\n                        getPrepareShowData(position);\r\n                    } else if (listSize != 1) {\r\n                        position = listSize - 1;\r\n                        getPrepareShowData(position);\r\n                    }\r\n                }/* else if (IsRepeat.equalsIgnoreCase(\"0\")) {\r\n                    getPrepareShowData(position);\r\n                } */else if (IsShuffle.equalsIgnoreCase(\"1\")) {\r\n                    // shuffle is on - play a random song\r\n                    if (queuePlay) {\r\n                        adapter.callRemoveList(position,\"1\");\r\n                        listSize = addToQueueModelList.size();\r\n                        if (listSize == 0) {\r\n                            stopMedia();\r\n                        } else if (listSize == 1) {\r\n                            stopMedia();\r\n                        } else {\r\n                            Random random = new Random();\r\n                            position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                            getPrepareShowData(position);\r\n                        }\r\n                    } else {\r\n                        Random random = new Random();\r\n                        position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                        getPrepareShowData(position);\r\n                    }\r\n                } else {\r\n                    if (queuePlay) {\r\n                        adapter.callRemoveList(position,\"1\");\r\n                        listSize = addToQueueModelList.size();\r\n                        if (position > 0) {\r\n                            getPrepareShowData(position - 1);\r\n                        } else {\r\n                            if (listSize == 0) {\r\n                                savePrefQueue(0, false, true, addToQueueModelList, ctx);\r\n                                stopMedia();\r\n                            } else {\r\n                                position = 0;\r\n                                getPrepareShowData(position);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (position > 0) {\r\n                            position = position - 1;\r\n\r\n                            getPrepareShowData(position);\r\n                        } else if (listSize != 1) {\r\n                            position = listSize - 1;\r\n                            getPrepareShowData(position);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void callAdapterMethod() {\r\n        if (addToQueueModelList.size() != 0) {\r\n            if (queuePlay) {\r\n                if (addToQueueModelList.get(position).getName().equalsIgnoreCase(binding.tvName.getText().toString())) {\r\n                    mypos = position;\r\n                    addToQueueModelList2.remove(position);\r\n                }\r\n            }\r\n            adapter = new QueueAdapter(addToQueueModelList2, ctx, this);\r\n            RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(ctx);\r\n            binding.rvQueueList.setLayoutManager(mLayoutManager);\r\n            binding.rvQueueList.setItemAnimator(new DefaultItemAnimator());\r\n            ItemTouchHelper.Callback callback =\r\n                    new ItemMoveCallback(adapter);\r\n            touchHelper = new ItemTouchHelper(callback);\r\n            touchHelper.attachToRecyclerView(binding.rvQueueList);\r\n            binding.rvQueueList.setAdapter(adapter);\r\n        }\r\n    }\r\n\r\n    public void GetMedia(String url, Context ctx, String PlaylistId) {\r\n\r\n        downloadAudioDetailsList = new ArrayList<>();\r\n        class GetMedia extends AsyncTask<Void, Void, Void> {\r\n\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n\r\n                downloadAudioDetailsList = DatabaseClient\r\n                        .getInstance(ctx)\r\n                        .getaudioDatabase()\r\n                        .taskDao()\r\n                        .getaudioByPlaylist(url, PlaylistId);\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                if (isPause) {\r\n                    binding.llPlay.setVisibility(View.VISIBLE);\r\n                    binding.llPause.setVisibility(View.GONE);\r\n                    binding.llProgressBar.setVisibility(View.GONE);\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                    binding.simpleSeekbar.setProgress(oTime);\r\n//                    resumeMedia();\r\n                } else if ((isMediaStart || isPlaying()) && !isPause) {\r\n                    binding.llPause.setVisibility(View.VISIBLE);\r\n                    binding.llPlay.setVisibility(View.GONE);\r\n                    binding.llProgressBar.setVisibility(View.GONE);\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                } else {\r\n                    callMedia();\r\n                }\r\n                super.onPostExecute(aVoid);\r\n\r\n            }\r\n        }\r\n\r\n        GetMedia st = new GetMedia();\r\n        st.execute();\r\n    }\r\n\r\n    private void getPrepareShowData(int position) {\r\n        queuePlay = shared.getBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n        audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n        if (audioPlay) {\r\n            listSize = mainPlayModelList.size();\r\n        } else if (queuePlay) {\r\n            listSize = addToQueueModelList.size();\r\n        }\r\n\r\n        if (listSize == 1) {\r\n            binding.llnext.setEnabled(false);\r\n            binding.llnext.setEnabled(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            position = 0;\r\n        }/* else if (position == listSize - 1 && IsRepeat.equalsIgnoreCase(\"1\")) {\r\n            binding.llnext.setEnabled(false);\r\n            binding.llnext.setClickable(false);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n        } else if (position == 0 && IsRepeat.equalsIgnoreCase(\"1\")) {\r\n            binding.llprev.setEnabled(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n        } */ else {\r\n            binding.llnext.setEnabled(true);\r\n            binding.llnext.setEnabled(true);\r\n            binding.llprev.setClickable(true);\r\n            binding.llprev.setClickable(true);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n        }\r\n        BWSApplication.showProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n        if (audioPlay) {\r\n            id = mainPlayModelList.get(position).getID();\r\n            url = mainPlayModelList.get(position).getAudioFile();\r\n            name = mainPlayModelList.get(position).getName();\r\n            setInIt(mainPlayModelList.get(position).getName(), mainPlayModelList.get(position).getAudiomastercat(),\r\n                    mainPlayModelList.get(position).getImageFile(), mainPlayModelList.get(position).getAudioDuration());\r\n            GetMedia(url, ctx, mainPlayModelList.get(position).getPlaylistID());\r\n        } else if (queuePlay) {\r\n            if (listSize == 1) {\r\n                position = 0;\r\n            }\r\n            id = addToQueueModelList.get(position).getID();\r\n            url = addToQueueModelList.get(position).getAudioFile();\r\n            name = addToQueueModelList.get(position).getName();\r\n            setInIt(addToQueueModelList.get(position).getName(), addToQueueModelList.get(position).getAudiomastercat(),\r\n                    addToQueueModelList.get(position).getImageFile(), addToQueueModelList.get(position).getAudioDuration());\r\n            GetMedia(url, ctx, addToQueueModelList.get(position).getPlaylistID());\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson2 = new Gson();\r\n            String json3 = gson2.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json3);\r\n            editor.commit();\r\n            startTime = getStartTime();\r\n        }\r\n        addToRecentPlay();\r\n        binding.simpleSeekbar.setClickable(true);\r\n        handler.postDelayed(UpdateSongTime, 500);\r\n        if (isMediaStart) {\r\n            mediaPlayer.setOnCompletionListener(mediaPlayer -> {\r\n                callComplete();\r\n            });\r\n        }\r\n        SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = shared.edit();\r\n        editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n        editor.commit();\r\n        BWSApplication.hideProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n    }\r\n\r\n    private void setMediaPlayer(String download, FileDescriptor fileDescriptor) {\r\n        if (null == mediaPlayer) {\r\n            mediaPlayer = new MediaPlayer();\r\n            Log.e(\"Playinggggg\", \"Playinggggg\");\r\n        }\r\n        try {\r\n            if (mediaPlayer == null)\r\n                mediaPlayer = new MediaPlayer();\r\n            if (mediaPlayer.isPlaying()) {\r\n                Log.e(\"Playinggggg\", \"stoppppp\");\r\n                mediaPlayer.stop();\r\n                isMediaStart = false;\r\n                isPrepare = false;\r\n            }\r\n            mediaPlayer = new MediaPlayer();\r\n            if (download.equalsIgnoreCase(\"1\")) {\r\n                mediaPlayer.setDataSource(fileDescriptor);\r\n            } else {\r\n                mediaPlayer.setDataSource(url);\r\n            }\r\n            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n                mediaPlayer.setAudioAttributes(\r\n                        new AudioAttributes\r\n                                .Builder()\r\n                                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                                .build());\r\n            }\r\n            mediaPlayer.prepareAsync();\r\n            isPrepare = true;\r\n        } catch (IllegalStateException | IOException e) {\r\n            FileDescriptor fileDescriptor1 = null;\r\n            setMediaPlayer(\"0\", fileDescriptor1);\r\n            e.printStackTrace();\r\n        }\r\n        if (!mediaPlayer.isPlaying()) {\r\n            mediaPlayer.setOnPreparedListener(mp -> {\r\n                Log.e(\"Playinggggg\", \"Startinggg\");\r\n                mediaPlayer.start();\r\n                isMediaStart = true;\r\n                binding.llProgressBar.setVisibility(View.GONE);\r\n                binding.progressBar.setVisibility(View.GONE);\r\n                binding.llPlay.setVisibility(View.GONE);\r\n                binding.llPause.setVisibility(View.VISIBLE);\r\n            });\r\n        }\r\n    }\r\n\r\n    private void callMedia() {\r\n        FileDescriptor fileDescriptor = null;\r\n        if (downloadAudioDetailsList.size() != 0) {\r\n            binding.llProgressBar.setVisibility(View.VISIBLE);\r\n            binding.progressBar.setVisibility(View.VISIBLE);\r\n            binding.llPlay.setVisibility(View.GONE);\r\n            binding.llPause.setVisibility(View.GONE);\r\n            DownloadMedia downloadMedia = new DownloadMedia(getApplicationContext());\r\n\r\n            try {\r\n                byte[] decrypt = null;\r\n                decrypt = downloadMedia.decrypt(name);\r\n                if (decrypt != null) {\r\n                    binding.llProgressBar.setVisibility(View.GONE);\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                    binding.llPause.setVisibility(View.VISIBLE);\r\n                    binding.llPlay.setVisibility(View.GONE);\r\n                    fileDescriptor = FileUtils.getTempFileDescriptor(getApplicationContext(), decrypt);\r\n                    setMediaPlayer(\"1\", fileDescriptor);\r\n                } else {\r\n                    if (BWSApplication.isNetworkConnected(ctx)) {\r\n                        setMediaPlayer(\"0\", fileDescriptor);\r\n                    } else {\r\n                        binding.progressBar.setVisibility(View.GONE);\r\n                        binding.llProgressBar.setVisibility(View.GONE);\r\n                        binding.llPlay.setVisibility(View.VISIBLE);\r\n                        binding.llPause.setVisibility(View.GONE);\r\n                        BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            if (BWSApplication.isNetworkConnected(ctx)) {\r\n                binding.llProgressBar.setVisibility(View.VISIBLE);\r\n                binding.progressBar.setVisibility(View.VISIBLE);\r\n                binding.llPlay.setVisibility(View.GONE);\r\n                binding.llPause.setVisibility(View.GONE);\r\n                setMediaPlayer(\"0\", fileDescriptor);\r\n            } else {\r\n                binding.progressBar.setVisibility(View.GONE);\r\n                binding.llProgressBar.setVisibility(View.GONE);\r\n                binding.llPlay.setVisibility(View.VISIBLE);\r\n                binding.llPause.setVisibility(View.GONE);\r\n                BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void callComplete() {\r\n        handler.removeCallbacks(UpdateSongTime);\r\n        isPrepare = false;\r\n        isMediaStart = false;\r\n        isPause = false;\r\n        if (IsRepeat.equalsIgnoreCase(\"1\")) {\r\n            if (position < (listSize - 1)) {\r\n                position = position + 1;\r\n            } else {\r\n                position = 0;\r\n            }\r\n            getPrepareShowData(position);\r\n        } else if (IsRepeat.equalsIgnoreCase(\"0\")) {\r\n            getPrepareShowData(position);\r\n        } else if (IsShuffle.equalsIgnoreCase(\"1\")) {\r\n            // shuffle is on - play a random song\r\n            if (queuePlay) {\r\n                adapter.callRemoveList(position,\"1\");\r\n                listSize = addToQueueModelList.size();\r\n                if (listSize == 0) {\r\n                    stopMedia();\r\n                } else if (listSize == 1) {\r\n                    position = 0;\r\n                    getPrepareShowData(position);\r\n                } else {\r\n                    Random random = new Random();\r\n                    position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                    getPrepareShowData(position);\r\n                }\r\n            } else {\r\n                if (listSize == 1) {\r\n\r\n                } else {\r\n                    Random random = new Random();\r\n                    position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                    getPrepareShowData(position);\r\n                }\r\n            }\r\n        } else {\r\n            if (queuePlay) {\r\n                adapter.callRemoveList(position,\"1\");\r\n                listSize = addToQueueModelList.size();\r\n                if (position < listSize - 1) {\r\n                    getPrepareShowData(position);\r\n                } else {\r\n                    if (listSize == 0) {\r\n                        stopMedia();\r\n                    } else {\r\n                        position = 0;\r\n                        getPrepareShowData(position);\r\n                    }\r\n                }\r\n            } else {\r\n                if (position < (listSize - 1)) {\r\n                    position = position + 1;\r\n                    getPrepareShowData(position);\r\n                } else {\r\n                    if (listSize == 1) {\r\n                        binding.llPlay.setVisibility(View.VISIBLE);\r\n                        binding.llPause.setVisibility(View.GONE);\r\n                        stopMedia();\r\n                    } else {\r\n                        binding.llPlay.setVisibility(View.VISIBLE);\r\n                        binding.llPause.setVisibility(View.GONE);\r\n                        stopMedia();\r\n//                        position = 0;\r\n//                        getPrepareShowData(position);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (listSize == 1) {\r\n            binding.llnext.setEnabled(false);\r\n            binding.llnext.setEnabled(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            position = 0;\r\n        } /*else if (position == listSize - 1 && IsRepeat.equalsIgnoreCase(\"1\")) {\r\n                binding.llnext.setEnabled(false);\r\n                binding.llnext.setClickable(false);\r\n                binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            } else if (position == 0 && IsRepeat.equalsIgnoreCase(\"1\")) {\r\n                binding.llprev.setEnabled(false);\r\n                binding.llprev.setClickable(false);\r\n                binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            }*/ else {\r\n            binding.llnext.setEnabled(true);\r\n            binding.llnext.setEnabled(true);\r\n            binding.llprev.setClickable(true);\r\n            binding.llprev.setClickable(true);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n        }\r\n        SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = shared.edit();\r\n        editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n        editor.commit();\r\n    }\r\n\r\n    private void setInIt(String name, String audiomastercat, String imageFile, String audioDuration) {\r\n        binding.tvTitle.setText(name);\r\n        binding.tvName.setText(name);\r\n        binding.tvCategory.setText(audiomastercat);\r\n        Glide.with(ctx).load(imageFile).thumbnail(0.05f)\r\n                .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(binding.ivRestaurantImage);\r\n        binding.tvTime.setText(audioDuration);\r\n    }\r\n\r\n    private void addToRecentPlay() {\r\n        SharedPreferences shared1 = getSharedPreferences(CONSTANTS.PREF_KEY_LOGIN, Context.MODE_PRIVATE);\r\n        String UserID = (shared1.getString(CONSTANTS.PREF_KEY_UserID, \"\"));\r\n\r\n        if (BWSApplication.isNetworkConnected(ctx)) {\r\n            BWSApplication.showProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n            Call<SucessModel> listCall = APIClient.getClient().getRecentlyplayed(id, UserID);\r\n            listCall.enqueue(new Callback<SucessModel>() {\r\n                @Override\r\n                public void onResponse(Call<SucessModel> call, Response<SucessModel> response) {\r\n                    if (response.isSuccessful()) {\r\n                        BWSApplication.hideProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n                        SucessModel model = response.body();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call<SucessModel> call, Throwable t) {\r\n                    BWSApplication.hideProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n                }\r\n            });\r\n        } else {\r\n//            BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n        }\r\n    }\r\n\r\n    private void callBack() {\r\n        handler.removeCallbacks(UpdateSongTime);\r\n        if (ComeFromQueue.equalsIgnoreCase(\"1\")) {\r\n            Intent i = new Intent(ctx, AddQueueActivity.class);\r\n            i.putExtra(\"ID\", AudioId);\r\n            i.putExtra(\"play\", play);\r\n            startActivity(i);\r\n            finish();\r\n        } else if (ComeFromQueue.equalsIgnoreCase(\"0\") ||\r\n                ComeFromQueue.equalsIgnoreCase(\"\")) {\r\n            if (binding.llPause.getVisibility() == View.VISIBLE) {\r\n                isPause = false;\r\n            }\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson = new Gson();\r\n            String json = gson.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json);\r\n            editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n            editor.commit();\r\n            Intent i = new Intent(ctx, PlayWellnessActivity.class);\r\n            i.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n            startActivity(i);\r\n            finish();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n   /*     if (isPrepare && !isMediaStart) {\r\n            callMedia();\r\n        } else if ((isMediaStart || isPlaying()) && !isPause) {\r\n            binding.llPlay.setVisibility(View.GONE);\r\n            binding.llPause.setVisibility(View.VISIBLE);\r\n            binding.llProgressBar.setVisibility(View.GONE);\r\n            binding.progressBar.setVisibility(View.GONE);\r\n        } else {\r\n            binding.llPlay.setVisibility(View.VISIBLE);\r\n            binding.llPause.setVisibility(View.GONE);\r\n            binding.llProgressBar.setVisibility(View.GONE);\r\n            binding.progressBar.setVisibility(View.GONE);\r\n        }*/\r\n        super.onResume();\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        callBack();\r\n        super.onBackPressed();\r\n    }\r\n\r\n    public void updateProgressBar() {\r\n        handler.postDelayed(UpdateSongTime, 500);\r\n    }\r\n\r\n    @Override\r\n    public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n     /*   handler.removeCallbacks(UpdateSongTime);\r\n        if (isMediaStart) {\r\n            int totalDuration = getEndTime();\r\n            int currentPosition = progressToTimer(seekBar.getProgress(), totalDuration);\r\n\r\n            // forward or backward to certain seconds\r\n            SeekTo(currentPosition);\r\n        }\r\n        // update timer progress again\r\n        updateProgressBar();*/\r\n    }\r\n\r\n    @Override\r\n    public void onStartTrackingTouch(SeekBar seekBar) {\r\n        handler.removeCallbacks(UpdateSongTime);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStopTrackingTouch(SeekBar seekBar) {\r\n        handler.removeCallbacks(UpdateSongTime);\r\n        int totalDuration = getEndTime();\r\n\r\n        int currentPosition = progressToTimer(seekBar.getProgress(), totalDuration);\r\n\r\n        oTime = binding.simpleSeekbar.getProgress();\r\n        // forward or backward to certain seconds\r\n        SeekTo(currentPosition);\r\n\r\n        // update timer progress again\r\n        updateProgressBar();\r\n    }\r\n\r\n    @Override\r\n    public void requestDrag(RecyclerView.ViewHolder viewHolder) {\r\n        touchHelper.startDrag(viewHolder);\r\n    }\r\n\r\n /*   @Override\r\n    public void onAudioFocusChange(int i) {\r\n        switch (i) {\r\n            case AudioManager.AUDIOFOCUS_GAIN:\r\n            case AudioManager.AUDIOFOCUS_LOSS_TRANSIENT_CAN_DUCK:\r\n                // Resume your media player here\r\n                resumeMedia();\r\n                binding.llPlay.setVisibility(View.GONE);\r\n                binding.llPause.setVisibility(View.VISIBLE);\r\n                break;\r\n            case AudioManager.AUDIOFOCUS_LOSS:\r\n            case AudioManager.AUDIOFOCUS_LOSS_TRANSIENT:\r\n                if (isMediaStart) {\r\n                    pauseMedia();\r\n                    binding.llPlay.setVisibility(View.VISIBLE);\r\n                    binding.llPause.setVisibility(View.GONE);\r\n                }\r\n//                MusicService.pauseMedia();// Pause your media player here\r\n                break;\r\n        }\r\n    }*/\r\n\r\n    public class QueueAdapter extends RecyclerView.Adapter<QueueAdapter.MyViewHolder> implements ItemMoveCallback.ItemTouchHelperContract {\r\n        ArrayList<AddToQueueModel> listModelList;\r\n        Context ctx;\r\n        StartDragListener startDragListener;\r\n\r\n        public QueueAdapter(ArrayList<AddToQueueModel> listModelList, Context ctx, StartDragListener startDragListener) {\r\n            this.listModelList = listModelList;\r\n            this.ctx = ctx;\r\n            this.startDragListener = startDragListener;\r\n\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            QueueListLayoutBinding v = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext())\r\n                    , R.layout.queue_list_layout, parent, false);\r\n            return new MyViewHolder(v);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position1) {\r\n            AddToQueueModel listModel = listModelList.get(position1);\r\n\r\n            holder.binding.tvTitle.setText(listModel.getName());\r\n            holder.binding.tvTime.setText(listModel.getAudioDuration());\r\n            binding.tvCategory.setText(listModel.getAudiomastercat());\r\n\r\n            MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                    1, 1, 0, 0);\r\n            holder.binding.ivRestaurantImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n            holder.binding.ivRestaurantImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n            holder.binding.ivRestaurantImage.setScaleType(ImageView.ScaleType.FIT_XY);\r\n            Glide.with(ctx).load(listModel.getImageFile()).thumbnail(0.05f)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(holder.binding.ivRestaurantImage);\r\n\r\n            holder.binding.llRemove.setOnClickListener(view -> callRemoveList(position1,\"0\"));\r\n            holder.binding.llSort.setOnTouchListener((v, event) -> {\r\n                if (event.getAction() ==\r\n                        MotionEvent.ACTION_DOWN) {\r\n                    startDragListener.requestDrag(holder);\r\n                }\r\n                if (event.getAction() ==\r\n                        MotionEvent.ACTION_UP) {\r\n                    startDragListener.requestDrag(holder);\r\n                }\r\n                return false;\r\n            });\r\n            holder.binding.llMainLayout.setOnClickListener(view -> {\r\n                if (BWSApplication.isNetworkConnected(ctx)) {\r\n                    if (isPrepare || isMediaStart || isPause) {\r\n                        stopMedia();\r\n                    }\r\n                    isPause = false;\r\n                    isPrepare = false;\r\n                    isMediaStart = false;\r\n\r\n                    setInIt(listModel.getName(), listModel.getAudiomastercat(),\r\n                            listModel.getImageFile(), listModel.getAudioDuration());\r\n                    if (queuePlay)\r\n                        addToQueueModelList.remove(mypos);\r\n                    savePrefQueue(position1, true, false, addToQueueModelList, ctx);\r\n                    position = position1;\r\n                    getPrepareShowData(position);\r\n                    callRemoveList1(position1);\r\n                } else {\r\n                    BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n                }\r\n            });\r\n        }\r\n\r\n        public void callRemoveList1(int position) {\r\n            listModelList.remove(position);\r\n            notifyDataSetChanged();\r\n        }\r\n\r\n        public void callRemoveList(int position1,String s) {\r\n            for (int i = 0; i < addToQueueModelList.size(); i++) {\r\n                if (addToQueueModelList.get(i).getName().equalsIgnoreCase(binding.tvName.getText().toString()))\r\n                    addToQueueModelList.remove(i);\r\n            }\r\n            setInIt(listModelList.get(position).getName(), listModelList.get(position).getAudiomastercat(),\r\n                    listModelList.get(position).getImageFile(), listModelList.get(position).getAudioDuration());\r\n            String Name = listModelList.get(position1).getName();\r\n            listModelList.remove(position1);\r\n       /*     for (int i = 0; i < addToQueueModelList.size(); i++) {\r\n                if (addToQueueModelList.get(i).getName().equalsIgnoreCase(Name))\r\n                    addToQueueModelList.remove(i);\r\n            }*/\r\n            notifyDataSetChanged();\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson = new Gson();\r\n            String json = gson.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json);\r\n            editor.commit();\r\n            if(s.equalsIgnoreCase(\"0\")){\r\n            BWSApplication.showToast(\"The audio has been removed from the queue\", ctx);\r\n            }\r\n            addToQueueModelList2 = listModelList;\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return listModelList.size();\r\n        }\r\n\r\n        @Override\r\n        public void onRowMoved(int fromPosition, int toPosition) {\r\n            if (fromPosition < toPosition) {\r\n                for (int i = fromPosition; i < toPosition; i++) {\r\n                    Collections.swap(listModelList, i, i + 1);\r\n                }\r\n            } else {\r\n                for (int i = fromPosition; i > toPosition; i--) {\r\n                    Collections.swap(listModelList, i, i - 1);\r\n                }\r\n            }\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson = new Gson();\r\n            String json = \"\";\r\n            if (queuePlay) {\r\n                ArrayList<AddToQueueModel> listModelList1 = new ArrayList<>();\r\n                listModelList1.clear();\r\n                listModelList1 = listModelList;\r\n                listModelList1.add(addToQueueModelList.get(mypos));\r\n                json = gson.toJson(listModelList1);\r\n            } else {\r\n                json = gson.toJson(listModelList);\r\n            }\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json);\r\n            editor.commit();\r\n            addToQueueModelList2 = listModelList;\r\n            notifyItemMoved(fromPosition, toPosition);\r\n\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onRowSelected(RecyclerView.ViewHolder myViewHolder) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onRowClear(RecyclerView.ViewHolder myViewHolder) {\r\n\r\n        }\r\n\r\n\r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            QueueListLayoutBinding binding;\r\n\r\n            public MyViewHolder(QueueListLayoutBinding binding) {\r\n                super(binding.getRoot());\r\n                this.binding = binding;\r\n            }\r\n        }\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/ViewQueueActivity.java	(revision 24cc6b7c98097f57d45b181632141026d2a2695c)
-+++ app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/ViewQueueActivity.java	(date 1602584305126)
-@@ -209,7 +209,7 @@
-         mAudioManager.requestAudioFocus(this, AudioManager.STREAM_MUSIC,
-                 AudioManager.AUDIOFOCUS_GAIN);*/
-         binding.rvQueueList.setFocusable(false);
--        binding.nestedScroll.requestFocus();
-+//        binding.nestedScroll.requestFocus();
- 
-         queuePlay = shared.getBoolean(CONSTANTS.PREF_KEY_queuePlay, false);
-         audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);
-Index: app/src/main/res/layout/fragment_my_playlists.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout>\r\n\r\n    <FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n        android:id=\"@+id/flContainer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@color/white\">\r\n\r\n        <RelativeLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\">\r\n\r\n            <androidx.core.widget.NestedScrollView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:overScrollMode=\"never\">\r\n\r\n                <RelativeLayout\r\n                    android:id=\"@+id/rlMainLayout\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_marginBottom=\"@dimen/_18sdp\">\r\n\r\n                    <RelativeLayout\r\n                        android:id=\"@+id/llMainLayout\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"@dimen/_210sdp\">\r\n\r\n                        <ImageView\r\n                            android:id=\"@+id/ivBanner\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:layout_centerInParent=\"true\" />\r\n\r\n                        <RelativeLayout\r\n                            android:id=\"@+id/rlLayout\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"@dimen/_56sdp\"\r\n                            android:background=\"@drawable/top_transparent_gradient\">\r\n\r\n                            <LinearLayout\r\n                                android:id=\"@+id/llBack\"\r\n                                android:layout_width=\"42dp\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:layout_centerVertical=\"true\"\r\n                                android:gravity=\"center\">\r\n\r\n                                <ImageView\r\n                                    android:layout_width=\"wrap_content\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:src=\"@drawable/ic_left_arrow_icon\"\r\n                                    app:tint=\"@color/white\" />\r\n\r\n                            </LinearLayout>\r\n\r\n                            <LinearLayout\r\n                                android:id=\"@+id/llOptions\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:layout_alignParentRight=\"true\"\r\n                                android:layout_marginRight=\"@dimen/_10sdp\"\r\n                                android:layout_toRightOf=\"@id/llBack\"\r\n                                android:gravity=\"end\">\r\n\r\n                                <LinearLayout\r\n                                    android:id=\"@+id/llReminder\"\r\n                                    android:layout_width=\"42dp\"\r\n                                    android:layout_height=\"match_parent\"\r\n                                    android:layout_centerVertical=\"true\"\r\n                                    android:gravity=\"center\"\r\n                                    android:visibility=\"gone\">\r\n\r\n                                    <ImageView\r\n                                        android:id=\"@+id/ivReminder\"\r\n                                        android:layout_width=\"wrap_content\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:src=\"@drawable/ic_clock_icon\"\r\n                                        app:tint=\"@color/white\" />\r\n\r\n                                </LinearLayout>\r\n\r\n                                <RelativeLayout\r\n                                    android:id=\"@+id/llDownloads\"\r\n                                    android:layout_width=\"42dp\"\r\n                                    android:layout_height=\"match_parent\"\r\n                                    android:layout_centerVertical=\"true\"\r\n                                    android:gravity=\"center\">\r\n\r\n                                    <ProgressBar\r\n                                        android:id=\"@+id/pbProgress\"\r\n                                        style=\"?android:attr/progressBarStyleHorizontal\"\r\n                                        android:layout_width=\"match_parent\"\r\n                                        android:layout_height=\"match_parent\"\r\n                                        android:layout_centerInParent=\"true\"\r\n                                        android:background=\"@drawable/circular_shapem\"\r\n                                        android:indeterminate=\"false\"\r\n                                        android:indeterminateTint=\"@color/dark_yellow\"\r\n                                        android:max=\"100\"\r\n                                        android:progressDrawable=\"@drawable/circular_progress_barm\"\r\n                                        android:visibility=\"gone\" />\r\n\r\n                                    <ImageView\r\n                                        android:id=\"@+id/ivDownloads\"\r\n                                        android:layout_width=\"wrap_content\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_centerInParent=\"true\" />\r\n\r\n                                </RelativeLayout>\r\n\r\n                                <LinearLayout\r\n                                    android:id=\"@+id/llMore\"\r\n                                    android:layout_width=\"42dp\"\r\n                                    android:layout_height=\"match_parent\"\r\n                                    android:layout_centerVertical=\"true\"\r\n                                    android:gravity=\"center\"\r\n                                    android:visibility=\"gone\">\r\n\r\n                                    <ImageView\r\n                                        android:id=\"@+id/ivMore\"\r\n                                        android:layout_width=\"wrap_content\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:src=\"@drawable/ic_menu_icon\"\r\n                                        app:tint=\"@color/white\" />\r\n\r\n                                </LinearLayout>\r\n                            </LinearLayout>\r\n                        </RelativeLayout>\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_alignParentBottom=\"true\"\r\n                            android:background=\"@drawable/transparent_gradient\"\r\n                            android:orientation=\"vertical\"\r\n                            android:paddingBottom=\"@dimen/_16sdp\">\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvPlaylist\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                                android:fontFamily=\"@font/montserrat_semi_bold\"\r\n                                android:gravity=\"start\"\r\n                                android:text=\"Playlist\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"@dimen/_15sdp\"\r\n                                android:visibility=\"gone\" />\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvLibraryName\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                                android:layout_marginTop=\"@dimen/_6sdp\"\r\n                                android:ellipsize=\"end\"\r\n                                android:fontFamily=\"@font/montserrat_bold\"\r\n                                android:gravity=\"start\"\r\n                                android:maxLines=\"1\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"@dimen/_22sdp\" />\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvLibraryDetail\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                                android:layout_marginTop=\"@dimen/_6sdp\"\r\n                                android:fontFamily=\"@font/montserrat_medium\"\r\n                                android:gravity=\"start\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"@dimen/_15sdp\" />\r\n\r\n                        </LinearLayout>\r\n                    </RelativeLayout>\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivPlaylistStatus\"\r\n                        android:layout_width=\"@dimen/_60sdp\"\r\n                        android:layout_height=\"@dimen/_60sdp\"\r\n                        android:layout_below=\"@id/llMainLayout\"\r\n                        android:layout_alignParentRight=\"true\"\r\n                        android:layout_marginTop=\"-33dp\"\r\n                        android:layout_marginRight=\"@dimen/_20sdp\"\r\n                        android:scaleType=\"fitXY\"\r\n                        android:src=\"@drawable/ic_blue_play_icon\"\r\n                        android:visibility=\"gone\" />\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/llAddAudio\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"310dp\"\r\n                        android:layout_below=\"@id/llMainLayout\"\r\n                        android:layout_marginTop=\"@dimen/_51sdp\"\r\n                        android:gravity=\"center\"\r\n                        android:orientation=\"vertical\"\r\n                        android:visibility=\"gone\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                            android:layout_marginTop=\"@dimen/_20sdp\"\r\n                            android:fontFamily=\"@font/montserrat_medium\"\r\n                            android:gravity=\"center\"\r\n                            android:text=\"Let's find some Audios for your playlist.\"\r\n                            android:textColor=\"@color/dark_blue_gray\"\r\n                            android:textSize=\"@dimen/_15sdp\" />\r\n\r\n                        <Button\r\n                            android:id=\"@+id/btnAddAudio\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginHorizontal=\"@dimen/_55sdp\"\r\n                            android:layout_marginTop=\"@dimen/_30sdp\"\r\n                            android:layout_marginBottom=\"@dimen/_25sdp\"\r\n                            android:background=\"@drawable/extra_round_cornor\"\r\n                            android:fontFamily=\"@font/montserrat_bold\"\r\n                            android:paddingVertical=\"@dimen/_2sdp\"\r\n                            android:text=\"@string/Add_Audio\"\r\n                            android:textColor=\"@color/white\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/llListing\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:layout_below=\"@id/ivPlaylistStatus\"\r\n                        android:orientation=\"vertical\"\r\n                        android:visibility=\"visible\">\r\n\r\n                        <RelativeLayout\r\n                            android:id=\"@+id/rlSearch\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"@dimen/_48sdp\"\r\n                            android:layout_gravity=\"center_vertical\"\r\n                            android:layout_marginLeft=\"@dimen/_16sdp\"\r\n                            android:layout_marginTop=\"@dimen/_16sdp\"\r\n                            android:layout_marginRight=\"@dimen/_16sdp\"\r\n                            android:layout_weight=\"2\"\r\n                            android:background=\"@drawable/rounded_extra_gray_corner\"\r\n                            android:visibility=\"gone\">\r\n\r\n                            <ImageView\r\n                                android:id=\"@+id/button1\"\r\n                                android:layout_width=\"@dimen/_16sdp\"\r\n                                android:layout_height=\"@dimen/_16sdp\"\r\n                                android:layout_centerVertical=\"true\"\r\n                                android:layout_marginLeft=\"@dimen/_14sdp\"\r\n                                android:src=\"@drawable/ic_search_icon\"\r\n                                app:tint=\"@color/dark_blue_gray\" />\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvSearch\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_centerVertical=\"true\"\r\n                                android:layout_marginLeft=\"@dimen/_16sdp\"\r\n                                android:layout_marginTop=\"@dimen/_20sdp\"\r\n                                android:layout_marginRight=\"@dimen/_16sdp\"\r\n                                android:layout_toRightOf=\"@id/button1\"\r\n                                android:fontFamily=\"@font/montserrat_bold\"\r\n                                android:gravity=\"start\"\r\n                                android:text=\"\"\r\n                                android:textColor=\"@color/light_gray\"\r\n                                android:textSize=\"@dimen/_14sdp\"\r\n                                android:visibility=\"gone\" />\r\n\r\n                            <androidx.appcompat.widget.SearchView\r\n                                android:id=\"@+id/searchView\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:layout_centerVertical=\"true\"\r\n                                android:layout_toRightOf=\"@id/button1\"\r\n                                android:iconifiedByDefault=\"false\"\r\n                                android:singleLine=\"true\"\r\n                                android:theme=\"@style/WallSearchView\"\r\n                                android:visibility=\"gone\"\r\n                                app:queryBackground=\"@null\"\r\n                                app:queryHint=\"\"\r\n                                app:searchHintIcon=\"@null\"\r\n                                app:searchIcon=\"@null\" />\r\n\r\n\r\n                        </RelativeLayout>\r\n\r\n                        <androidx.recyclerview.widget.RecyclerView\r\n                            android:id=\"@+id/rvSuggestedList\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginLeft=\"@dimen/_10sdp\"\r\n                            android:layout_marginRight=\"@dimen/_10sdp\"\r\n                            android:overScrollMode=\"never\"\r\n                            android:paddingTop=\"@dimen/_8sdp\"\r\n                            android:visibility=\"gone\" />\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/tvTag\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginLeft=\"@dimen/_16sdp\"\r\n                            android:layout_marginTop=\"@dimen/_20sdp\"\r\n                            android:layout_marginRight=\"@dimen/_16sdp\"\r\n                            android:fontFamily=\"@font/montserrat_bold\"\r\n                            android:gravity=\"start\"\r\n                            android:text=\"@string/Audios_in_Playlist\"\r\n                            android:textColor=\"@color/black\"\r\n                            android:textSize=\"@dimen/_16sdp\"\r\n                            android:visibility=\"gone\" />\r\n\r\n                        <LinearLayout\r\n                            android:id=\"@+id/llSpace\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\">\r\n\r\n                            <androidx.recyclerview.widget.RecyclerView\r\n                                android:id=\"@+id/rvPlayLists\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:overScrollMode=\"never\"\r\n                                android:paddingBottom=\"@dimen/_30sdp\"\r\n                                android:visibility=\"visible\" />\r\n                        </LinearLayout>\r\n\r\n                        <LinearLayout\r\n                            android:id=\"@+id/llError\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginHorizontal=\"@dimen/_22sdp\"\r\n                            android:layout_marginTop=\"@dimen/_20sdp\"\r\n                            android:gravity=\"center\"\r\n                            android:orientation=\"vertical\"\r\n                            android:visibility=\"gone\">\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvFound\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:fontFamily=\"@font/montserrat_regular\"\r\n                                android:gravity=\"center\"\r\n                                android:textColor=\"@color/dark_blue_gray\"\r\n                                android:textSize=\"@dimen/_15sdp\" />\r\n\r\n                            <TextView\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"@dimen/_4sdp\"\r\n                                android:fontFamily=\"@font/montserrat_regular\"\r\n                                android:gravity=\"center\"\r\n                                android:text=\"@string/no_data_found\"\r\n                                android:textColor=\"@color/dark_blue_gray\"\r\n                                android:textSize=\"@dimen/_11sdp\"\r\n                                android:visibility=\"gone\" />\r\n\r\n                        </LinearLayout>\r\n                    </LinearLayout>\r\n                </RelativeLayout>\r\n\r\n\r\n            </androidx.core.widget.NestedScrollView>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/llExtra\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"@dimen/_70sdp\"\r\n                android:layout_alignParentBottom=\"true\"\r\n                android:background=\"@color/white\"\r\n                android:orientation=\"horizontal\"\r\n                android:visibility=\"gone\"></LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:gravity=\"center\"\r\n                android:padding=\"@dimen/_60sdp\">\r\n\r\n                <ProgressBar\r\n                    android:id=\"@+id/progressBar\"\r\n                    android:layout_width=\"@dimen/_50sdp\"\r\n                    android:layout_height=\"@dimen/_50sdp\"\r\n                    android:indeterminateTint=\"@color/blue\"\r\n                    android:scaleType=\"centerInside\"\r\n                    android:visibility=\"gone\" />\r\n\r\n            </LinearLayout>\r\n\r\n            <FrameLayout\r\n                android:id=\"@+id/progressBarHolder\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:alpha=\"0.4\"\r\n                android:animateLayoutChanges=\"true\"\r\n                android:background=\"#C0000000\"\r\n                android:visibility=\"gone\" />\r\n        </RelativeLayout>\r\n    </FrameLayout>\r\n</layout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/fragment_my_playlists.xml	(revision 24cc6b7c98097f57d45b181632141026d2a2695c)
-+++ app/src/main/res/layout/fragment_my_playlists.xml	(date 1602585854557)
-@@ -12,11 +12,6 @@
-             android:layout_width="match_parent"
-             android:layout_height="match_parent">
- 
--            <androidx.core.widget.NestedScrollView
--                android:layout_width="match_parent"
--                android:layout_height="match_parent"
--                android:overScrollMode="never">
--
-                 <RelativeLayout
-                     android:id="@+id/rlMainLayout"
-                     android:layout_width="match_parent"
-@@ -231,65 +226,69 @@
-                         android:orientation="vertical"
-                         android:visibility="visible">
- 
--                        <RelativeLayout
--                            android:id="@+id/rlSearch"
--                            android:layout_width="match_parent"
--                            android:layout_height="@dimen/_48sdp"
--                            android:layout_gravity="center_vertical"
--                            android:layout_marginLeft="@dimen/_16sdp"
--                            android:layout_marginTop="@dimen/_16sdp"
--                            android:layout_marginRight="@dimen/_16sdp"
--                            android:layout_weight="2"
--                            android:background="@drawable/rounded_extra_gray_corner"
--                            android:visibility="gone">
-+                        <LinearLayout
-+                            android:layout_width="match_parent"
-+                            android:layout_height="@dimen/_84sdp">
-+
-+                            <RelativeLayout
-+                                android:id="@+id/rlSearch"
-+                                android:layout_width="match_parent"
-+                                android:layout_height="@dimen/_48sdp"
-+                                android:layout_gravity="center_vertical"
-+                                android:layout_marginLeft="@dimen/_16sdp"
-+                                android:layout_marginTop="@dimen/_15sdp"
-+                                android:layout_marginRight="@dimen/_16sdp"
-+                                android:layout_weight="2"
-+                                android:background="@drawable/rounded_extra_gray_corner"
-+                                android:visibility="visible">
- 
--                            <ImageView
--                                android:id="@+id/button1"
--                                android:layout_width="@dimen/_16sdp"
--                                android:layout_height="@dimen/_16sdp"
--                                android:layout_centerVertical="true"
--                                android:layout_marginLeft="@dimen/_14sdp"
--                                android:src="@drawable/ic_search_icon"
--                                app:tint="@color/dark_blue_gray" />
-+                                <ImageView
-+                                    android:id="@+id/button1"
-+                                    android:layout_width="@dimen/_16sdp"
-+                                    android:layout_height="@dimen/_16sdp"
-+                                    android:layout_centerVertical="true"
-+                                    android:layout_marginLeft="@dimen/_14sdp"
-+                                    android:src="@drawable/ic_search_icon"
-+                                    app:tint="@color/dark_blue_gray" />
- 
--                            <TextView
--                                android:id="@+id/tvSearch"
--                                android:layout_width="match_parent"
--                                android:layout_height="wrap_content"
--                                android:layout_centerVertical="true"
--                                android:layout_marginLeft="@dimen/_16sdp"
--                                android:layout_marginTop="@dimen/_20sdp"
--                                android:layout_marginRight="@dimen/_16sdp"
--                                android:layout_toRightOf="@id/button1"
--                                android:fontFamily="@font/montserrat_bold"
--                                android:gravity="start"
--                                android:text=""
--                                android:textColor="@color/light_gray"
--                                android:textSize="@dimen/_14sdp"
--                                android:visibility="gone" />
-+                                <TextView
-+                                    android:id="@+id/tvSearch"
-+                                    android:layout_width="match_parent"
-+                                    android:layout_height="wrap_content"
-+                                    android:layout_centerVertical="true"
-+                                    android:layout_marginLeft="@dimen/_16sdp"
-+                                    android:layout_marginTop="@dimen/_20sdp"
-+                                    android:layout_marginRight="@dimen/_16sdp"
-+                                    android:layout_toRightOf="@id/button1"
-+                                    android:fontFamily="@font/montserrat_bold"
-+                                    android:gravity="start"
-+                                    android:text=""
-+                                    android:textColor="@color/light_gray"
-+                                    android:textSize="@dimen/_14sdp"
-+                                    android:visibility="gone" />
- 
--                            <androidx.appcompat.widget.SearchView
--                                android:id="@+id/searchView"
--                                android:layout_width="match_parent"
--                                android:layout_height="match_parent"
--                                android:layout_centerVertical="true"
--                                android:layout_toRightOf="@id/button1"
--                                android:iconifiedByDefault="false"
--                                android:singleLine="true"
--                                android:theme="@style/WallSearchView"
--                                android:visibility="gone"
--                                app:queryBackground="@null"
--                                app:queryHint=""
--                                app:searchHintIcon="@null"
--                                app:searchIcon="@null" />
--
--
--                        </RelativeLayout>
-+                                <androidx.appcompat.widget.SearchView
-+                                    android:id="@+id/searchView"
-+                                    android:layout_width="match_parent"
-+                                    android:layout_height="match_parent"
-+                                    android:layout_centerVertical="true"
-+                                    android:layout_toRightOf="@id/button1"
-+                                    android:iconifiedByDefault="false"
-+                                    android:singleLine="true"
-+                                    android:theme="@style/WallSearchView"
-+                                    android:visibility="gone"
-+                                    app:queryBackground="@null"
-+                                    app:queryHint=""
-+                                    app:searchHintIcon="@null"
-+                                    app:searchIcon="@null" />
-+                            </RelativeLayout>
-+                        </LinearLayout>
-+
- 
-                         <androidx.recyclerview.widget.RecyclerView
-                             android:id="@+id/rvSuggestedList"
-                             android:layout_width="match_parent"
--                            android:layout_height="wrap_content"
-+                            android:layout_height="match_parent"
-                             android:layout_marginLeft="@dimen/_10sdp"
-                             android:layout_marginRight="@dimen/_10sdp"
-                             android:overScrollMode="never"
-@@ -313,7 +312,7 @@
-                         <LinearLayout
-                             android:id="@+id/llSpace"
-                             android:layout_width="match_parent"
--                            android:layout_height="wrap_content">
-+                            android:layout_height="match_parent">
- 
-                             <androidx.recyclerview.widget.RecyclerView
-                                 android:id="@+id/rvPlayLists"
-@@ -358,9 +357,6 @@
-                     </LinearLayout>
-                 </RelativeLayout>
- 
--
--            </androidx.core.widget.NestedScrollView>
--
-             <LinearLayout
-                 android:id="@+id/llExtra"
-                 android:layout_width="match_parent"
-Index: .idea/gradle.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"GradleMigrationSettings\" migrationVersion=\"1\" />\r\n  <component name=\"GradleSettings\">\r\n    <option name=\"linkedExternalProjectsSettings\">\r\n      <GradleProjectSettings>\r\n        <option name=\"testRunner\" value=\"PLATFORM\" />\r\n        <option name=\"distributionType\" value=\"DEFAULT_WRAPPED\" />\r\n        <option name=\"externalProjectPath\" value=\"$PROJECT_DIR$\" />\r\n        <option name=\"gradleJvm\" value=\"1.8\" />\r\n        <option name=\"modules\">\r\n          <set>\r\n            <option value=\"$PROJECT_DIR$\" />\r\n            <option value=\"$PROJECT_DIR$/app\" />\r\n          </set>\r\n        </option>\r\n        <option name=\"resolveModulePerSourceSet\" value=\"false\" />\r\n      </GradleProjectSettings>\r\n    </option>\r\n  </component>\r\n</project>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- .idea/gradle.xml	(revision 24cc6b7c98097f57d45b181632141026d2a2695c)
-+++ .idea/gradle.xml	(date 1602583305973)
-@@ -15,6 +15,7 @@
-           </set>
-         </option>
-         <option name="resolveModulePerSourceSet" value="false" />
-+        <option name="useQualifiedModuleNames" value="true" />
-       </GradleProjectSettings>
-     </option>
-   </component>
Index: .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_26__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_26__Default_Changelist_.xml	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_26__Default_Changelist_.xml	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_13-10-2020_16_26_[Default_Changelist]" date="1602586607664" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_26_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 13-10-2020 16:26 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_41_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_41_[Default_Changelist]/shelved.patch	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_41_[Default_Changelist]/shelved.patch	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
@@ -1,229 +0,0 @@
-Index: app/src/main/res/layout/activity_view_queue.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout>\r\n\r\n    <RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@color/dark_blue_gray\">\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/llFirst\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n            android:layout_marginTop=\"@dimen/_16sdp\"\r\n            android:weightSum=\"1\">\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/llBack\"\r\n                android:layout_width=\"@dimen/_0sdp\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"0.18\">\r\n\r\n                <ImageView\r\n                    android:layout_width=\"@dimen/_20sdp\"\r\n                    android:layout_height=\"@dimen/_20sdp\"\r\n                    android:layout_marginTop=\"@dimen/_10sdp\"\r\n                    android:contentDescription=\"@string/close_queue\"\r\n                    android:src=\"@drawable/ic_close_white_icon\"\r\n                    app:tint=\"@color/white\" />\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"@dimen/_0sdp\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"0.64\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tvCategory\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"@dimen/_6sdp\"\r\n                    android:ellipsize=\"end\"\r\n                    android:fontFamily=\"@font/montserrat_medium\"\r\n                    android:gravity=\"center\"\r\n                    android:maxLines=\"1\"\r\n                    android:textColor=\"@color/white\"\r\n                    android:textSize=\"@dimen/_13sdp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tvTitle\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"@dimen/_6sdp\"\r\n                    android:fontFamily=\"@font/montserrat_regular\"\r\n                    android:gravity=\"center\"\r\n                    android:textColor=\"@color/white\"\r\n                    android:textSize=\"@dimen/_16sdp\" />\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"@dimen/_0sdp\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"0.18\"\r\n                android:gravity=\"right\"\r\n                android:orientation=\"horizontal\" />\r\n\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_above=\"@id/rlThired\"\r\n            android:layout_below=\"@id/llFirst\"\r\n            android:layout_marginVertical=\"@dimen/_10sdp\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <androidx.core.widget.NestedScrollView\r\n                android:id=\"@+id/nestedScroll\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:overScrollMode=\"never\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"vertical\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                        android:layout_marginTop=\"@dimen/_6sdp\"\r\n                        android:fontFamily=\"@font/montserrat_bold\"\r\n                        android:gravity=\"start\"\r\n                        android:text=\"@string/Now_Playing\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"@dimen/_15sdp\" />\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/llNowPlaying\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"@dimen/_60sdp\"\r\n                        android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                        android:layout_marginVertical=\"@dimen/_12sdp\"\r\n                        android:orientation=\"horizontal\"\r\n                        android:weightSum=\"1\">\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"@dimen/_0sdp\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_gravity=\"center\"\r\n                            android:layout_weight=\"0.2\"\r\n                            android:gravity=\"center|start\">\r\n\r\n                            <androidx.cardview.widget.CardView\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:layout_marginHorizontal=\"@dimen/_10sdp\"\r\n                                android:layout_marginVertical=\"@dimen/_2sdp\"\r\n                                app:cardCornerRadius=\"@dimen/_10sdp\">\r\n\r\n                                <androidx.constraintlayout.widget.ConstraintLayout\r\n                                    android:id=\"@+id/title_layout\"\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"match_parent\">\r\n\r\n                                    <ImageView\r\n                                        android:id=\"@+id/ivRestaurantImage\"\r\n                                        android:layout_width=\"match_parent\"\r\n                                        android:layout_height=\"match_parent\"\r\n                                        android:layout_marginLeft=\"-4dp\"\r\n                                        android:layout_marginRight=\"-16dp\"\r\n                                        android:scaleType=\"fitXY\" />\r\n                                </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n                            </androidx.cardview.widget.CardView>\r\n                        </LinearLayout>\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"@dimen/_0sdp\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginLeft=\"@dimen/_10sdp\"\r\n                            android:layout_weight=\"0.80\"\r\n                            android:orientation=\"vertical\">\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvName\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"@dimen/_6sdp\"\r\n                                android:ellipsize=\"end\"\r\n                                android:fontFamily=\"@font/montserrat_bold\"\r\n                                android:gravity=\"start\"\r\n                                android:maxLines=\"1\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"@dimen/_17sdp\" />\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvTime\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"@dimen/_6sdp\"\r\n                                android:ellipsize=\"end\"\r\n                                android:fontFamily=\"@font/montserrat_medium\"\r\n                                android:gravity=\"start\"\r\n                                android:maxLines=\"1\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"@dimen/_13sdp\" />\r\n\r\n\r\n                        </LinearLayout>\r\n\r\n                    </LinearLayout>\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                        android:layout_marginTop=\"@dimen/_6sdp\"\r\n                        android:fontFamily=\"@font/montserrat_bold\"\r\n                        android:gravity=\"start\"\r\n                        android:text=\"@string/Next_in_queue\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"@dimen/_15sdp\" />\r\n\r\n                    <androidx.recyclerview.widget.RecyclerView\r\n                        android:id=\"@+id/rvQueueList\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:layout_marginHorizontal=\"@dimen/_12sdp\"\r\n                        android:nestedScrollingEnabled=\"true\"\r\n                        android:overScrollMode=\"never\"\r\n                        android:paddingTop=\"@dimen/_8sdp\"\r\n                        android:paddingBottom=\"@dimen/_8sdp\" />\r\n\r\n                </LinearLayout>\r\n            </androidx.core.widget.NestedScrollView>\r\n        </LinearLayout>\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/rlThired\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentBottom=\"true\"\r\n            android:layout_marginBottom=\"@dimen/_26sdp\">\r\n\r\n            <SeekBar\r\n                android:id=\"@+id/simpleSeekbar\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginHorizontal=\"@dimen/_4sdp\"\r\n                android:progressDrawable=\"@drawable/seek_bar_white\"\r\n                android:thumb=\"@drawable/ic_white_dot_icon\" />\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                android:layout_marginTop=\"@dimen/_30sdp\"\r\n                android:weightSum=\"1\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center\" />\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llprev\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivprev\"\r\n                        android:layout_width=\"@dimen/_28sdp\"\r\n                        android:layout_height=\"@dimen/_28sdp\"\r\n                        android:src=\"@drawable/ic_backword_icon\"\r\n                        app:tint=\"@color/white\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llPlay\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center_horizontal\"\r\n                    android:visibility=\"gone\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivPlay\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:src=\"@drawable/ic_play_white_icon\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llProgressBar\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.24\"\r\n                    android:gravity=\"center_horizontal\"\r\n                    android:padding=\"@dimen/_2sdp\"\r\n                    android:visibility=\"gone\">\r\n\r\n                    <ProgressBar\r\n                        android:id=\"@+id/progressBar\"\r\n                        android:layout_width=\"0.00dp\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:layout_marginLeft=\"@dimen/_13sdp\"\r\n                        android:layout_marginTop=\"@dimen/_8sdp\"\r\n                        android:layout_marginBottom=\"@dimen/_8sdp\"\r\n                        android:layout_weight=\"0.13\"\r\n                        android:indeterminateTint=\"@color/white\"\r\n                        android:scaleType=\"fitXY\"\r\n                        android:visibility=\"gone\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llPause\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center_horizontal\"\r\n                    android:visibility=\"gone\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivPause\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:src=\"@drawable/ic_pause_white_icon\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llnext\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivnext\"\r\n                        android:layout_width=\"@dimen/_28sdp\"\r\n                        android:layout_height=\"@dimen/_28sdp\"\r\n                        android:src=\"@drawable/ic_forward_icon\"\r\n                        app:tint=\"@color/white\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center\" />\r\n\r\n            </LinearLayout>\r\n        </RelativeLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:gravity=\"center\"\r\n            android:padding=\"@dimen/_60sdp\">\r\n\r\n            <ProgressBar\r\n                android:id=\"@+id/pbProgressBar\"\r\n                android:layout_width=\"@dimen/_50sdp\"\r\n                android:layout_height=\"@dimen/_50sdp\"\r\n                android:indeterminateTint=\"@color/blue\"\r\n                android:scaleType=\"centerInside\"\r\n                android:visibility=\"gone\" />\r\n\r\n        </LinearLayout>\r\n\r\n        <FrameLayout\r\n            android:id=\"@+id/progressBarHolder\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:alpha=\"0.4\"\r\n            android:animateLayoutChanges=\"true\"\r\n            android:background=\"#C0000000\"\r\n            android:visibility=\"gone\" />\r\n    </RelativeLayout>\r\n</layout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_view_queue.xml	(revision c6b9f9d4dda861025bfa843abae99e76d19994bd)
-+++ app/src/main/res/layout/activity_view_queue.xml	(date 1602586607577)
-@@ -77,11 +77,11 @@
-             android:layout_marginVertical="@dimen/_10sdp"
-             android:orientation="vertical">
- 
--            <androidx.core.widget.NestedScrollView
-+           <!-- <androidx.core.widget.NestedScrollView
-                 android:id="@+id/nestedScroll"
-                 android:layout_width="match_parent"
-                 android:layout_height="match_parent"
--                android:overScrollMode="never">
-+                android:overScrollMode="never">-->
- 
-                 <LinearLayout
-                     android:layout_width="match_parent"
-@@ -197,7 +197,7 @@
-                         android:paddingBottom="@dimen/_8sdp" />
- 
-                 </LinearLayout>
--            </androidx.core.widget.NestedScrollView>
-+<!--            </androidx.core.widget.NestedScrollView>-->
-         </LinearLayout>
- 
-         <RelativeLayout
-Index: app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/ViewQueueActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.brainwellnessspa.DashboardModule.Activities;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.media.AudioAttributes;\r\nimport android.media.MediaPlayer;\r\nimport android.os.AsyncTask;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.SystemClock;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.SeekBar;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.ItemTouchHelper;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\nimport com.brainwellnessspa.BWSApplication;\r\nimport com.brainwellnessspa.DashboardModule.Models.AddToQueueModel;\r\nimport com.brainwellnessspa.DashboardModule.Models.SucessModel;\r\nimport com.brainwellnessspa.DashboardModule.TransparentPlayer.Models.MainPlayModel;\r\nimport com.brainwellnessspa.EncryptDecryptUtils.DownloadMedia;\r\nimport com.brainwellnessspa.EncryptDecryptUtils.FileUtils;\r\nimport com.brainwellnessspa.R;\r\nimport com.brainwellnessspa.RoomDataBase.DatabaseClient;\r\nimport com.brainwellnessspa.RoomDataBase.DownloadAudioDetails;\r\nimport com.brainwellnessspa.Utility.APIClient;\r\nimport com.brainwellnessspa.Utility.CONSTANTS;\r\nimport com.brainwellnessspa.Utility.ItemMoveCallback;\r\nimport com.brainwellnessspa.Utility.MeasureRatio;\r\nimport com.brainwellnessspa.Utility.StartDragListener;\r\nimport com.brainwellnessspa.databinding.ActivityViewQueueBinding;\r\nimport com.brainwellnessspa.databinding.QueueListLayoutBinding;\r\n\r\nimport java.io.FileDescriptor;\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Type;\r\nimport java.sql.Time;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\nimport static com.brainwellnessspa.Utility.MusicService.SeekTo;\r\nimport static com.brainwellnessspa.Utility.MusicService.getEndTime;\r\nimport static com.brainwellnessspa.Utility.MusicService.getProgressPercentage;\r\nimport static com.brainwellnessspa.Utility.MusicService.getStartTime;\r\nimport static com.brainwellnessspa.Utility.MusicService.isMediaStart;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPause;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPlaying;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPrepare;\r\nimport static com.brainwellnessspa.Utility.MusicService.isStop;\r\nimport static com.brainwellnessspa.Utility.MusicService.mediaPlayer;\r\nimport static com.brainwellnessspa.Utility.MusicService.oTime;\r\nimport static com.brainwellnessspa.Utility.MusicService.pauseMedia;\r\nimport static com.brainwellnessspa.Utility.MusicService.progressToTimer;\r\nimport static com.brainwellnessspa.Utility.MusicService.resumeMedia;\r\nimport static com.brainwellnessspa.Utility.MusicService.savePrefQueue;\r\nimport static com.brainwellnessspa.Utility.MusicService.stopMedia;\r\n\r\npublic class ViewQueueActivity extends AppCompatActivity implements SeekBar.OnSeekBarChangeListener,/* AudioManager.OnAudioFocusChangeListener,*/ StartDragListener {\r\n    ActivityViewQueueBinding binding;\r\n    int position, listSize, startTime = 0;\r\n    String IsRepeat, IsShuffle, id, AudioId = \"\", ComeFromQueue = \"\", play = \"\", url, name;\r\n    Context ctx;\r\n    Activity activity;\r\n    ArrayList<MainPlayModel> mainPlayModelList;\r\n    ArrayList<AddToQueueModel> addToQueueModelList, addToQueueModelList2;\r\n    ArrayList<AddToQueueModel> addToQueueModeNowPlaying;\r\n    SharedPreferences shared;\r\n    Boolean queuePlay, audioPlay;\r\n    QueueAdapter adapter;\r\n    List<DownloadAudioDetails> downloadAudioDetailsList;\r\n    ItemTouchHelper touchHelper;\r\n    int mypos = 0,myCount;\r\n    long totalDuration,currentDuration,myProgress;\r\n    private long mLastClickTime = 0;\r\n    private Handler handler;\r\n    //    private AudioManager mAudioManager;\r\n    private Runnable UpdateSongTime = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            startTime = getStartTime();\r\n            Time t = Time.valueOf(\"00:00:00\");\r\n            if (queuePlay) {\r\n                if (listSize != 0) {\r\n                    if (!BWSApplication.isNetworkConnected(ctx)) {\r\n                        if (mediaPlayer != null) {\r\n                            totalDuration = mediaPlayer.getDuration();\r\n                        } else {\r\n                            t = Time.valueOf(\"00:\" + downloadAudioDetailsList.get(0).getAudioDuration());\r\n                        }\r\n                    } else {\r\n                        if (mediaPlayer != null) {\r\n                            totalDuration = mediaPlayer.getDuration();\r\n                        } else {\r\n                            t = Time.valueOf(\"00:\" + addToQueueModelList.get(position).getAudioDuration());\r\n                        }\r\n                    }\r\n                } else {\r\n                    stopMedia();\r\n                }\r\n            } else if (audioPlay) {\r\n                if (!BWSApplication.isNetworkConnected(ctx)) {\r\n                    if (mediaPlayer != null) {\r\n                        totalDuration = mediaPlayer.getDuration();\r\n                    } else {\r\n                        t = Time.valueOf(\"00:\" + downloadAudioDetailsList.get(0).getAudioDuration());\r\n                    }\r\n                } else {\r\n                    if (mediaPlayer != null) {\r\n                        totalDuration = mediaPlayer.getDuration();\r\n                    } else {\r\n                        t = Time.valueOf(\"00:\" + mainPlayModelList.get(position).getAudioDuration());\r\n                    }\r\n                }\r\n            }\r\n            if (!BWSApplication.isNetworkConnected(ctx)) {\r\n                totalDuration = mediaPlayer.getDuration();\r\n            } else {\r\n                if (mediaPlayer != null) {\r\n                    totalDuration = mediaPlayer.getDuration();\r\n                } else {\r\n                    totalDuration = t.getTime();\r\n                }\r\n            }\r\n            myProgress = currentDuration;\r\n            currentDuration = getStartTime();\r\n\r\n            Log.e(\"myProgress old!!!\",String.valueOf(myProgress));\r\n            if(myProgress == currentDuration && myProgress!=0){\r\n                Log.e(\"myProgress\",String.valueOf(myProgress));\r\n                myCount++;\r\n                Log.e(\"myCount\",String.valueOf(myCount));\r\n\r\n                if(myCount == 500){\r\n                    Log.e(\"myCount complete\",String.valueOf(myCount));\r\n                    callComplete();\r\n                    myCount = 0;\r\n                }\r\n            }\r\n            int progress = getProgressPercentage(currentDuration, totalDuration);\r\n            long diff = totalDuration - currentDuration;\r\n\r\n            if (currentDuration == totalDuration && currentDuration != 0&& !isStop) {\r\n                callComplete();\r\n            } else if (isPause) {\r\n                binding.simpleSeekbar.setProgress(oTime);\r\n            } else {\r\n                binding.simpleSeekbar.setProgress(progress);\r\n            }\r\n            binding.simpleSeekbar.setMax(100);\r\n            handler.postDelayed(this, 500);\r\n        }\r\n    };\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_view_queue);\r\n        ctx = ViewQueueActivity.this;\r\n        activity = ViewQueueActivity.this;\r\n\r\n        downloadAudioDetailsList = new ArrayList<>();\r\n        if (getIntent().getExtras() != null) {\r\n            AudioId = getIntent().getStringExtra(CONSTANTS.ID);\r\n        }\r\n\r\n        if (getIntent().getExtras() != null) {\r\n            ComeFromQueue = getIntent().getStringExtra(\"ComeFromQueue\");\r\n        }\r\n        if (getIntent().getExtras() != null) {\r\n            play = getIntent().getStringExtra(\"play\");\r\n        }\r\n        handler = new Handler();\r\n        addToQueueModelList = new ArrayList<>();\r\n        addToQueueModelList2 = new ArrayList<>();\r\n\r\n        mainPlayModelList = new ArrayList<>();\r\n        shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        Gson gson = new Gson();\r\n        String json = shared.getString(CONSTANTS.PREF_KEY_queueList, String.valueOf(gson));\r\n        position = shared.getInt(CONSTANTS.PREF_KEY_position, 0);\r\n\r\n        if (!json.equalsIgnoreCase(String.valueOf(gson))) {\r\n            Type type = new TypeToken<ArrayList<AddToQueueModel>>() {\r\n            }.getType();\r\n            addToQueueModelList = gson.fromJson(json, type);\r\n            addToQueueModelList2 = gson.fromJson(json, type);\r\n        }\r\n        String json2 = shared.getString(CONSTANTS.PREF_KEY_audioList, String.valueOf(gson));\r\n        position = shared.getInt(CONSTANTS.PREF_KEY_position, 0);\r\n        Type type2 = new TypeToken<ArrayList<MainPlayModel>>() {\r\n        }.getType();\r\n        mainPlayModelList = gson.fromJson(json2, type2);\r\n        SharedPreferences Status = getSharedPreferences(CONSTANTS.PREF_KEY_Status, Context.MODE_PRIVATE);\r\n        IsRepeat = Status.getString(CONSTANTS.PREF_KEY_IsRepeat, \"\");\r\n        IsShuffle = Status.getString(CONSTANTS.PREF_KEY_IsShuffle, \"\");\r\n/*        mAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n        mAudioManager.requestAudioFocus(this, AudioManager.STREAM_MUSIC,\r\n                AudioManager.AUDIOFOCUS_GAIN);*/\r\n        binding.rvQueueList.setFocusable(false);\r\n        binding.nestedScroll.requestFocus();\r\n\r\n        queuePlay = shared.getBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n        audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n\r\n        binding.llBack.setOnClickListener(view -> {\r\n            if (SystemClock.elapsedRealtime() - mLastClickTime < 1000) {\r\n                return;\r\n            }\r\n            mLastClickTime = SystemClock.elapsedRealtime();\r\n            callBack();\r\n        });\r\n        MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                1, 1, 0.14f, 0);\r\n        binding.ivRestaurantImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n        binding.ivRestaurantImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n        binding.ivRestaurantImage.setScaleType(ImageView.ScaleType.FIT_XY);\r\n        getPrepareShowData(position);\r\n        binding.simpleSeekbar.setOnSeekBarChangeListener(this);\r\n        callAdapterMethod();\r\n        binding.llNowPlaying.setOnClickListener(view -> {\r\n            if (binding.llPause.getVisibility() == View.VISIBLE) {\r\n                isPause = false;\r\n            }\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson2 = new Gson();\r\n            String json22 = gson2.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json22);\r\n            editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n            editor.commit();\r\n            Intent i = new Intent(ctx, PlayWellnessActivity.class);\r\n            i.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n            startActivity(i);\r\n            finish();\r\n        });\r\n\r\n        binding.llPause.setOnClickListener(view -> {\r\n            handler.removeCallbacks(UpdateSongTime);\r\n            binding.simpleSeekbar.setProgress(binding.simpleSeekbar.getProgress());\r\n            pauseMedia();\r\n            binding.llPlay.setVisibility(View.VISIBLE);\r\n            binding.llPause.setVisibility(View.GONE);\r\n            binding.llProgressBar.setVisibility(View.GONE);\r\n            binding.progressBar.setVisibility(View.GONE);\r\n            oTime = binding.simpleSeekbar.getProgress();\r\n        });\r\n\r\n        binding.llPlay.setOnClickListener(view -> {\r\n            binding.llPlay.setVisibility(View.GONE);\r\n            binding.llPause.setVisibility(View.VISIBLE);\r\n            binding.llProgressBar.setVisibility(View.GONE);\r\n            binding.progressBar.setVisibility(View.GONE);\r\n            resumeMedia();\r\n            isPause = false;\r\n            handler.postDelayed(UpdateSongTime, 500);\r\n        });\r\n\r\n        binding.llnext.setOnClickListener(view -> {\r\n\r\n            if (BWSApplication.isNetworkConnected(ctx)) {\r\n                stopMedia();\r\n                isMediaStart = false;\r\n                isPrepare = false;\r\n                isPause = false;\r\n                if (IsRepeat.equalsIgnoreCase(\"1\")||IsRepeat.equalsIgnoreCase(\"0\")) {\r\n                    // repeat is on play same song again\r\n                    if (position < listSize - 1) {\r\n                        position = position + 1;\r\n                    } else {\r\n                        position = 0;\r\n                    }\r\n                    getPrepareShowData(position);\r\n                } /*else if (IsRepeat.equalsIgnoreCase(\"0\")) {\r\n                    getPrepareShowData(position);\r\n                } */else if (IsShuffle.equalsIgnoreCase(\"1\")) {\r\n                    // shuffle is on - play a random song\r\n                    if (queuePlay) {\r\n                        adapter.callRemoveList(position,\"1\");\r\n                        listSize = addToQueueModelList.size();\r\n                        if (listSize == 0) {\r\n                            stopMedia();\r\n                        } else if (listSize == 1) {\r\n                            stopMedia();\r\n                        } else {\r\n                            Random random = new Random();\r\n                            position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                            getPrepareShowData(position);\r\n                        }\r\n                    } else {\r\n                        Random random = new Random();\r\n                        position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                        getPrepareShowData(position);\r\n                    }\r\n                } else {\r\n                    if (queuePlay) {\r\n                        adapter.callRemoveList(position,\"1\");\r\n                        listSize = addToQueueModelList.size();\r\n                        if (position < listSize - 1) {\r\n                            getPrepareShowData(position);\r\n                        } else {\r\n                            if (listSize == 0) {\r\n                                savePrefQueue(0, false, true, addToQueueModelList, ctx);\r\n                                stopMedia();\r\n                            } else {\r\n                                position = 0;\r\n                                getPrepareShowData(position);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (position < listSize - 1) {\r\n                            position = position + 1;\r\n                            getPrepareShowData(position);\r\n                        } else if (listSize != 1) {\r\n                            position = 0;\r\n                            getPrepareShowData(position);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n            }\r\n        });\r\n\r\n        binding.llprev.setOnClickListener(view -> {\r\n            if (BWSApplication.isNetworkConnected(ctx)) {\r\n                stopMedia();\r\n                isMediaStart = false;\r\n                isPrepare = false;\r\n                isPause = false;\r\n                if (IsRepeat.equalsIgnoreCase(\"1\") || IsRepeat.equalsIgnoreCase(\"0\")) {\r\n                    // repeat is on play same song again\r\n                    if (position > 0) {\r\n                        position = position - 1;\r\n                        getPrepareShowData(position);\r\n                    } else if (listSize != 1) {\r\n                        position = listSize - 1;\r\n                        getPrepareShowData(position);\r\n                    }\r\n                }/* else if (IsRepeat.equalsIgnoreCase(\"0\")) {\r\n                    getPrepareShowData(position);\r\n                } */else if (IsShuffle.equalsIgnoreCase(\"1\")) {\r\n                    // shuffle is on - play a random song\r\n                    if (queuePlay) {\r\n                        adapter.callRemoveList(position,\"1\");\r\n                        listSize = addToQueueModelList.size();\r\n                        if (listSize == 0) {\r\n                            stopMedia();\r\n                        } else if (listSize == 1) {\r\n                            stopMedia();\r\n                        } else {\r\n                            Random random = new Random();\r\n                            position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                            getPrepareShowData(position);\r\n                        }\r\n                    } else {\r\n                        Random random = new Random();\r\n                        position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                        getPrepareShowData(position);\r\n                    }\r\n                } else {\r\n                    if (queuePlay) {\r\n                        adapter.callRemoveList(position,\"1\");\r\n                        listSize = addToQueueModelList.size();\r\n                        if (position > 0) {\r\n                            getPrepareShowData(position - 1);\r\n                        } else {\r\n                            if (listSize == 0) {\r\n                                savePrefQueue(0, false, true, addToQueueModelList, ctx);\r\n                                stopMedia();\r\n                            } else {\r\n                                position = 0;\r\n                                getPrepareShowData(position);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (position > 0) {\r\n                            position = position - 1;\r\n\r\n                            getPrepareShowData(position);\r\n                        } else if (listSize != 1) {\r\n                            position = listSize - 1;\r\n                            getPrepareShowData(position);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void callAdapterMethod() {\r\n        if (addToQueueModelList.size() != 0) {\r\n            if (queuePlay) {\r\n                if (addToQueueModelList.get(position).getName().equalsIgnoreCase(binding.tvName.getText().toString())) {\r\n                    mypos = position;\r\n                    addToQueueModelList2.remove(position);\r\n                }\r\n            }\r\n            adapter = new QueueAdapter(addToQueueModelList2, ctx, this);\r\n            RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(ctx);\r\n            binding.rvQueueList.setLayoutManager(mLayoutManager);\r\n            binding.rvQueueList.setItemAnimator(new DefaultItemAnimator());\r\n            ItemTouchHelper.Callback callback =\r\n                    new ItemMoveCallback(adapter);\r\n            touchHelper = new ItemTouchHelper(callback);\r\n            touchHelper.attachToRecyclerView(binding.rvQueueList);\r\n            binding.rvQueueList.setAdapter(adapter);\r\n        }\r\n    }\r\n\r\n    public void GetMedia(String url, Context ctx, String PlaylistId) {\r\n\r\n        downloadAudioDetailsList = new ArrayList<>();\r\n        class GetMedia extends AsyncTask<Void, Void, Void> {\r\n\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n\r\n                downloadAudioDetailsList = DatabaseClient\r\n                        .getInstance(ctx)\r\n                        .getaudioDatabase()\r\n                        .taskDao()\r\n                        .getaudioByPlaylist(url, PlaylistId);\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                if (isPause) {\r\n                    binding.llPlay.setVisibility(View.VISIBLE);\r\n                    binding.llPause.setVisibility(View.GONE);\r\n                    binding.llProgressBar.setVisibility(View.GONE);\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                    binding.simpleSeekbar.setProgress(oTime);\r\n//                    resumeMedia();\r\n                } else if ((isMediaStart || isPlaying()) && !isPause) {\r\n                    binding.llPause.setVisibility(View.VISIBLE);\r\n                    binding.llPlay.setVisibility(View.GONE);\r\n                    binding.llProgressBar.setVisibility(View.GONE);\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                } else {\r\n                    callMedia();\r\n                }\r\n                super.onPostExecute(aVoid);\r\n\r\n            }\r\n        }\r\n\r\n        GetMedia st = new GetMedia();\r\n        st.execute();\r\n    }\r\n\r\n    private void getPrepareShowData(int position) {\r\n        queuePlay = shared.getBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n        audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n        if (audioPlay) {\r\n            listSize = mainPlayModelList.size();\r\n        } else if (queuePlay) {\r\n            listSize = addToQueueModelList.size();\r\n        }\r\n\r\n        if (listSize == 1) {\r\n            binding.llnext.setEnabled(false);\r\n            binding.llnext.setEnabled(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            position = 0;\r\n        }/* else if (position == listSize - 1 && IsRepeat.equalsIgnoreCase(\"1\")) {\r\n            binding.llnext.setEnabled(false);\r\n            binding.llnext.setClickable(false);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n        } else if (position == 0 && IsRepeat.equalsIgnoreCase(\"1\")) {\r\n            binding.llprev.setEnabled(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n        } */ else {\r\n            binding.llnext.setEnabled(true);\r\n            binding.llnext.setEnabled(true);\r\n            binding.llprev.setClickable(true);\r\n            binding.llprev.setClickable(true);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n        }\r\n        BWSApplication.showProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n        if (audioPlay) {\r\n            id = mainPlayModelList.get(position).getID();\r\n            url = mainPlayModelList.get(position).getAudioFile();\r\n            name = mainPlayModelList.get(position).getName();\r\n            setInIt(mainPlayModelList.get(position).getName(), mainPlayModelList.get(position).getAudiomastercat(),\r\n                    mainPlayModelList.get(position).getImageFile(), mainPlayModelList.get(position).getAudioDuration());\r\n            GetMedia(url, ctx, mainPlayModelList.get(position).getPlaylistID());\r\n        } else if (queuePlay) {\r\n            if (listSize == 1) {\r\n                position = 0;\r\n            }\r\n            id = addToQueueModelList.get(position).getID();\r\n            url = addToQueueModelList.get(position).getAudioFile();\r\n            name = addToQueueModelList.get(position).getName();\r\n            setInIt(addToQueueModelList.get(position).getName(), addToQueueModelList.get(position).getAudiomastercat(),\r\n                    addToQueueModelList.get(position).getImageFile(), addToQueueModelList.get(position).getAudioDuration());\r\n            GetMedia(url, ctx, addToQueueModelList.get(position).getPlaylistID());\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson2 = new Gson();\r\n            String json3 = gson2.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json3);\r\n            editor.commit();\r\n            startTime = getStartTime();\r\n        }\r\n        addToRecentPlay();\r\n        binding.simpleSeekbar.setClickable(true);\r\n        handler.postDelayed(UpdateSongTime, 500);\r\n        if (isMediaStart) {\r\n            mediaPlayer.setOnCompletionListener(mediaPlayer -> {\r\n                callComplete();\r\n            });\r\n        }\r\n        SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = shared.edit();\r\n        editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n        editor.commit();\r\n        BWSApplication.hideProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n    }\r\n\r\n    private void setMediaPlayer(String download, FileDescriptor fileDescriptor) {\r\n        if (null == mediaPlayer) {\r\n            mediaPlayer = new MediaPlayer();\r\n            Log.e(\"Playinggggg\", \"Playinggggg\");\r\n        }\r\n        try {\r\n            if (mediaPlayer == null)\r\n                mediaPlayer = new MediaPlayer();\r\n            if (mediaPlayer.isPlaying()) {\r\n                Log.e(\"Playinggggg\", \"stoppppp\");\r\n                mediaPlayer.stop();\r\n                isMediaStart = false;\r\n                isPrepare = false;\r\n            }\r\n            mediaPlayer = new MediaPlayer();\r\n            if (download.equalsIgnoreCase(\"1\")) {\r\n                mediaPlayer.setDataSource(fileDescriptor);\r\n            } else {\r\n                mediaPlayer.setDataSource(url);\r\n            }\r\n            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n                mediaPlayer.setAudioAttributes(\r\n                        new AudioAttributes\r\n                                .Builder()\r\n                                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                                .build());\r\n            }\r\n            mediaPlayer.prepareAsync();\r\n            isPrepare = true;\r\n        } catch (IllegalStateException | IOException e) {\r\n            FileDescriptor fileDescriptor1 = null;\r\n            setMediaPlayer(\"0\", fileDescriptor1);\r\n            e.printStackTrace();\r\n        }\r\n        if (!mediaPlayer.isPlaying()) {\r\n            mediaPlayer.setOnPreparedListener(mp -> {\r\n                Log.e(\"Playinggggg\", \"Startinggg\");\r\n                mediaPlayer.start();\r\n                isMediaStart = true;\r\n                binding.llProgressBar.setVisibility(View.GONE);\r\n                binding.progressBar.setVisibility(View.GONE);\r\n                binding.llPlay.setVisibility(View.GONE);\r\n                binding.llPause.setVisibility(View.VISIBLE);\r\n            });\r\n        }\r\n    }\r\n\r\n    private void callMedia() {\r\n        FileDescriptor fileDescriptor = null;\r\n        if (downloadAudioDetailsList.size() != 0) {\r\n            binding.llProgressBar.setVisibility(View.VISIBLE);\r\n            binding.progressBar.setVisibility(View.VISIBLE);\r\n            binding.llPlay.setVisibility(View.GONE);\r\n            binding.llPause.setVisibility(View.GONE);\r\n            DownloadMedia downloadMedia = new DownloadMedia(getApplicationContext());\r\n\r\n            try {\r\n                byte[] decrypt = null;\r\n                decrypt = downloadMedia.decrypt(name);\r\n                if (decrypt != null) {\r\n                    binding.llProgressBar.setVisibility(View.GONE);\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                    binding.llPause.setVisibility(View.VISIBLE);\r\n                    binding.llPlay.setVisibility(View.GONE);\r\n                    fileDescriptor = FileUtils.getTempFileDescriptor(getApplicationContext(), decrypt);\r\n                    setMediaPlayer(\"1\", fileDescriptor);\r\n                } else {\r\n                    if (BWSApplication.isNetworkConnected(ctx)) {\r\n                        setMediaPlayer(\"0\", fileDescriptor);\r\n                    } else {\r\n                        binding.progressBar.setVisibility(View.GONE);\r\n                        binding.llProgressBar.setVisibility(View.GONE);\r\n                        binding.llPlay.setVisibility(View.VISIBLE);\r\n                        binding.llPause.setVisibility(View.GONE);\r\n                        BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            if (BWSApplication.isNetworkConnected(ctx)) {\r\n                binding.llProgressBar.setVisibility(View.VISIBLE);\r\n                binding.progressBar.setVisibility(View.VISIBLE);\r\n                binding.llPlay.setVisibility(View.GONE);\r\n                binding.llPause.setVisibility(View.GONE);\r\n                setMediaPlayer(\"0\", fileDescriptor);\r\n            } else {\r\n                binding.progressBar.setVisibility(View.GONE);\r\n                binding.llProgressBar.setVisibility(View.GONE);\r\n                binding.llPlay.setVisibility(View.VISIBLE);\r\n                binding.llPause.setVisibility(View.GONE);\r\n                BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void callComplete() {\r\n        handler.removeCallbacks(UpdateSongTime);\r\n        isPrepare = false;\r\n        isMediaStart = false;\r\n        isPause = false;\r\n        if (IsRepeat.equalsIgnoreCase(\"1\")) {\r\n            if (position < (listSize - 1)) {\r\n                position = position + 1;\r\n            } else {\r\n                position = 0;\r\n            }\r\n            getPrepareShowData(position);\r\n        } else if (IsRepeat.equalsIgnoreCase(\"0\")) {\r\n            getPrepareShowData(position);\r\n        } else if (IsShuffle.equalsIgnoreCase(\"1\")) {\r\n            // shuffle is on - play a random song\r\n            if (queuePlay) {\r\n                adapter.callRemoveList(position,\"1\");\r\n                listSize = addToQueueModelList.size();\r\n                if (listSize == 0) {\r\n                    stopMedia();\r\n                } else if (listSize == 1) {\r\n                    position = 0;\r\n                    getPrepareShowData(position);\r\n                } else {\r\n                    Random random = new Random();\r\n                    position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                    getPrepareShowData(position);\r\n                }\r\n            } else {\r\n                if (listSize == 1) {\r\n\r\n                } else {\r\n                    Random random = new Random();\r\n                    position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                    getPrepareShowData(position);\r\n                }\r\n            }\r\n        } else {\r\n            if (queuePlay) {\r\n                adapter.callRemoveList(position,\"1\");\r\n                listSize = addToQueueModelList.size();\r\n                if (position < listSize - 1) {\r\n                    getPrepareShowData(position);\r\n                } else {\r\n                    if (listSize == 0) {\r\n                        stopMedia();\r\n                    } else {\r\n                        position = 0;\r\n                        getPrepareShowData(position);\r\n                    }\r\n                }\r\n            } else {\r\n                if (position < (listSize - 1)) {\r\n                    position = position + 1;\r\n                    getPrepareShowData(position);\r\n                } else {\r\n                    if (listSize == 1) {\r\n                        binding.llPlay.setVisibility(View.VISIBLE);\r\n                        binding.llPause.setVisibility(View.GONE);\r\n                        stopMedia();\r\n                    } else {\r\n                        binding.llPlay.setVisibility(View.VISIBLE);\r\n                        binding.llPause.setVisibility(View.GONE);\r\n                        stopMedia();\r\n//                        position = 0;\r\n//                        getPrepareShowData(position);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (listSize == 1) {\r\n            binding.llnext.setEnabled(false);\r\n            binding.llnext.setEnabled(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            position = 0;\r\n        } /*else if (position == listSize - 1 && IsRepeat.equalsIgnoreCase(\"1\")) {\r\n                binding.llnext.setEnabled(false);\r\n                binding.llnext.setClickable(false);\r\n                binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            } else if (position == 0 && IsRepeat.equalsIgnoreCase(\"1\")) {\r\n                binding.llprev.setEnabled(false);\r\n                binding.llprev.setClickable(false);\r\n                binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            }*/ else {\r\n            binding.llnext.setEnabled(true);\r\n            binding.llnext.setEnabled(true);\r\n            binding.llprev.setClickable(true);\r\n            binding.llprev.setClickable(true);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n        }\r\n        SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = shared.edit();\r\n        editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n        editor.commit();\r\n    }\r\n\r\n    private void setInIt(String name, String audiomastercat, String imageFile, String audioDuration) {\r\n        binding.tvTitle.setText(name);\r\n        binding.tvName.setText(name);\r\n        binding.tvCategory.setText(audiomastercat);\r\n        Glide.with(ctx).load(imageFile).thumbnail(0.05f)\r\n                .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(binding.ivRestaurantImage);\r\n        binding.tvTime.setText(audioDuration);\r\n    }\r\n\r\n    private void addToRecentPlay() {\r\n        SharedPreferences shared1 = getSharedPreferences(CONSTANTS.PREF_KEY_LOGIN, Context.MODE_PRIVATE);\r\n        String UserID = (shared1.getString(CONSTANTS.PREF_KEY_UserID, \"\"));\r\n\r\n        if (BWSApplication.isNetworkConnected(ctx)) {\r\n            BWSApplication.showProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n            Call<SucessModel> listCall = APIClient.getClient().getRecentlyplayed(id, UserID);\r\n            listCall.enqueue(new Callback<SucessModel>() {\r\n                @Override\r\n                public void onResponse(Call<SucessModel> call, Response<SucessModel> response) {\r\n                    if (response.isSuccessful()) {\r\n                        BWSApplication.hideProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n                        SucessModel model = response.body();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call<SucessModel> call, Throwable t) {\r\n                    BWSApplication.hideProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n                }\r\n            });\r\n        } else {\r\n//            BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n        }\r\n    }\r\n\r\n    private void callBack() {\r\n        handler.removeCallbacks(UpdateSongTime);\r\n        if (ComeFromQueue.equalsIgnoreCase(\"1\")) {\r\n            Intent i = new Intent(ctx, AddQueueActivity.class);\r\n            i.putExtra(\"ID\", AudioId);\r\n            i.putExtra(\"play\", play);\r\n            startActivity(i);\r\n            finish();\r\n        } else if (ComeFromQueue.equalsIgnoreCase(\"0\") ||\r\n                ComeFromQueue.equalsIgnoreCase(\"\")) {\r\n            if (binding.llPause.getVisibility() == View.VISIBLE) {\r\n                isPause = false;\r\n            }\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson = new Gson();\r\n            String json = gson.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json);\r\n            editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n            editor.commit();\r\n            Intent i = new Intent(ctx, PlayWellnessActivity.class);\r\n            i.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n            startActivity(i);\r\n            finish();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n   /*     if (isPrepare && !isMediaStart) {\r\n            callMedia();\r\n        } else if ((isMediaStart || isPlaying()) && !isPause) {\r\n            binding.llPlay.setVisibility(View.GONE);\r\n            binding.llPause.setVisibility(View.VISIBLE);\r\n            binding.llProgressBar.setVisibility(View.GONE);\r\n            binding.progressBar.setVisibility(View.GONE);\r\n        } else {\r\n            binding.llPlay.setVisibility(View.VISIBLE);\r\n            binding.llPause.setVisibility(View.GONE);\r\n            binding.llProgressBar.setVisibility(View.GONE);\r\n            binding.progressBar.setVisibility(View.GONE);\r\n        }*/\r\n        super.onResume();\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        callBack();\r\n        super.onBackPressed();\r\n    }\r\n\r\n    public void updateProgressBar() {\r\n        handler.postDelayed(UpdateSongTime, 500);\r\n    }\r\n\r\n    @Override\r\n    public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n     /*   handler.removeCallbacks(UpdateSongTime);\r\n        if (isMediaStart) {\r\n            int totalDuration = getEndTime();\r\n            int currentPosition = progressToTimer(seekBar.getProgress(), totalDuration);\r\n\r\n            // forward or backward to certain seconds\r\n            SeekTo(currentPosition);\r\n        }\r\n        // update timer progress again\r\n        updateProgressBar();*/\r\n    }\r\n\r\n    @Override\r\n    public void onStartTrackingTouch(SeekBar seekBar) {\r\n        handler.removeCallbacks(UpdateSongTime);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStopTrackingTouch(SeekBar seekBar) {\r\n        handler.removeCallbacks(UpdateSongTime);\r\n        int totalDuration = getEndTime();\r\n\r\n        int currentPosition = progressToTimer(seekBar.getProgress(), totalDuration);\r\n\r\n        oTime = binding.simpleSeekbar.getProgress();\r\n        // forward or backward to certain seconds\r\n        SeekTo(currentPosition);\r\n\r\n        // update timer progress again\r\n        updateProgressBar();\r\n    }\r\n\r\n    @Override\r\n    public void requestDrag(RecyclerView.ViewHolder viewHolder) {\r\n        touchHelper.startDrag(viewHolder);\r\n    }\r\n\r\n /*   @Override\r\n    public void onAudioFocusChange(int i) {\r\n        switch (i) {\r\n            case AudioManager.AUDIOFOCUS_GAIN:\r\n            case AudioManager.AUDIOFOCUS_LOSS_TRANSIENT_CAN_DUCK:\r\n                // Resume your media player here\r\n                resumeMedia();\r\n                binding.llPlay.setVisibility(View.GONE);\r\n                binding.llPause.setVisibility(View.VISIBLE);\r\n                break;\r\n            case AudioManager.AUDIOFOCUS_LOSS:\r\n            case AudioManager.AUDIOFOCUS_LOSS_TRANSIENT:\r\n                if (isMediaStart) {\r\n                    pauseMedia();\r\n                    binding.llPlay.setVisibility(View.VISIBLE);\r\n                    binding.llPause.setVisibility(View.GONE);\r\n                }\r\n//                MusicService.pauseMedia();// Pause your media player here\r\n                break;\r\n        }\r\n    }*/\r\n\r\n    public class QueueAdapter extends RecyclerView.Adapter<QueueAdapter.MyViewHolder> implements ItemMoveCallback.ItemTouchHelperContract {\r\n        ArrayList<AddToQueueModel> listModelList;\r\n        Context ctx;\r\n        StartDragListener startDragListener;\r\n\r\n        public QueueAdapter(ArrayList<AddToQueueModel> listModelList, Context ctx, StartDragListener startDragListener) {\r\n            this.listModelList = listModelList;\r\n            this.ctx = ctx;\r\n            this.startDragListener = startDragListener;\r\n\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            QueueListLayoutBinding v = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext())\r\n                    , R.layout.queue_list_layout, parent, false);\r\n            return new MyViewHolder(v);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position1) {\r\n            AddToQueueModel listModel = listModelList.get(position1);\r\n\r\n            holder.binding.tvTitle.setText(listModel.getName());\r\n            holder.binding.tvTime.setText(listModel.getAudioDuration());\r\n            binding.tvCategory.setText(listModel.getAudiomastercat());\r\n\r\n            MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                    1, 1, 0, 0);\r\n            holder.binding.ivRestaurantImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n            holder.binding.ivRestaurantImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n            holder.binding.ivRestaurantImage.setScaleType(ImageView.ScaleType.FIT_XY);\r\n            Glide.with(ctx).load(listModel.getImageFile()).thumbnail(0.05f)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(holder.binding.ivRestaurantImage);\r\n\r\n            holder.binding.llRemove.setOnClickListener(view -> callRemoveList(position1,\"0\"));\r\n            holder.binding.llSort.setOnTouchListener((v, event) -> {\r\n                if (event.getAction() ==\r\n                        MotionEvent.ACTION_DOWN) {\r\n                    startDragListener.requestDrag(holder);\r\n                }\r\n                if (event.getAction() ==\r\n                        MotionEvent.ACTION_UP) {\r\n                    startDragListener.requestDrag(holder);\r\n                }\r\n                return false;\r\n            });\r\n            holder.binding.llMainLayout.setOnClickListener(view -> {\r\n                if (BWSApplication.isNetworkConnected(ctx)) {\r\n                    if (isPrepare || isMediaStart || isPause) {\r\n                        stopMedia();\r\n                    }\r\n                    isPause = false;\r\n                    isPrepare = false;\r\n                    isMediaStart = false;\r\n\r\n                    setInIt(listModel.getName(), listModel.getAudiomastercat(),\r\n                            listModel.getImageFile(), listModel.getAudioDuration());\r\n                    if (queuePlay)\r\n                        addToQueueModelList.remove(mypos);\r\n                    savePrefQueue(position1, true, false, addToQueueModelList, ctx);\r\n                    position = position1;\r\n                    getPrepareShowData(position);\r\n                    callRemoveList1(position1);\r\n                } else {\r\n                    BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n                }\r\n            });\r\n        }\r\n\r\n        public void callRemoveList1(int position) {\r\n            listModelList.remove(position);\r\n            notifyDataSetChanged();\r\n        }\r\n\r\n        public void callRemoveList(int position1,String s) {\r\n            for (int i = 0; i < addToQueueModelList.size(); i++) {\r\n                if (addToQueueModelList.get(i).getName().equalsIgnoreCase(binding.tvName.getText().toString()))\r\n                    addToQueueModelList.remove(i);\r\n            }\r\n            setInIt(listModelList.get(position).getName(), listModelList.get(position).getAudiomastercat(),\r\n                    listModelList.get(position).getImageFile(), listModelList.get(position).getAudioDuration());\r\n            String Name = listModelList.get(position1).getName();\r\n            listModelList.remove(position1);\r\n       /*     for (int i = 0; i < addToQueueModelList.size(); i++) {\r\n                if (addToQueueModelList.get(i).getName().equalsIgnoreCase(Name))\r\n                    addToQueueModelList.remove(i);\r\n            }*/\r\n            notifyDataSetChanged();\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson = new Gson();\r\n            String json = gson.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json);\r\n            editor.commit();\r\n            if(s.equalsIgnoreCase(\"0\")){\r\n            BWSApplication.showToast(\"The audio has been removed from the queue\", ctx);\r\n            }\r\n            addToQueueModelList2 = listModelList;\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return listModelList.size();\r\n        }\r\n\r\n        @Override\r\n        public void onRowMoved(int fromPosition, int toPosition) {\r\n            if (fromPosition < toPosition) {\r\n                for (int i = fromPosition; i < toPosition; i++) {\r\n                    Collections.swap(listModelList, i, i + 1);\r\n                }\r\n            } else {\r\n                for (int i = fromPosition; i > toPosition; i--) {\r\n                    Collections.swap(listModelList, i, i - 1);\r\n                }\r\n            }\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson = new Gson();\r\n            String json = \"\";\r\n            if (queuePlay) {\r\n                ArrayList<AddToQueueModel> listModelList1 = new ArrayList<>();\r\n                listModelList1.clear();\r\n                listModelList1 = listModelList;\r\n                listModelList1.add(addToQueueModelList.get(mypos));\r\n                json = gson.toJson(listModelList1);\r\n            } else {\r\n                json = gson.toJson(listModelList);\r\n            }\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json);\r\n            editor.commit();\r\n            addToQueueModelList2 = listModelList;\r\n            notifyItemMoved(fromPosition, toPosition);\r\n\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onRowSelected(RecyclerView.ViewHolder myViewHolder) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onRowClear(RecyclerView.ViewHolder myViewHolder) {\r\n\r\n        }\r\n\r\n\r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            QueueListLayoutBinding binding;\r\n\r\n            public MyViewHolder(QueueListLayoutBinding binding) {\r\n                super(binding.getRoot());\r\n                this.binding = binding;\r\n            }\r\n        }\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/ViewQueueActivity.java	(revision c6b9f9d4dda861025bfa843abae99e76d19994bd)
-+++ app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/ViewQueueActivity.java	(date 1602586607633)
-@@ -222,7 +222,7 @@
-         mAudioManager.requestAudioFocus(this, AudioManager.STREAM_MUSIC,
-                 AudioManager.AUDIOFOCUS_GAIN);*/
-         binding.rvQueueList.setFocusable(false);
--        binding.nestedScroll.requestFocus();
-+//        binding.nestedScroll.requestFocus();
- 
-         queuePlay = shared.getBoolean(CONSTANTS.PREF_KEY_queuePlay, false);
-         audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);
-Index: app/src/main/res/layout/fragment_my_playlists.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout>\r\n\r\n    <FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n        android:id=\"@+id/flContainer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@color/white\">\r\n\r\n        <RelativeLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\">\r\n\r\n            <androidx.core.widget.NestedScrollView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:overScrollMode=\"never\">\r\n\r\n                <RelativeLayout\r\n                    android:id=\"@+id/rlMainLayout\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_marginBottom=\"@dimen/_18sdp\">\r\n\r\n                    <RelativeLayout\r\n                        android:id=\"@+id/llMainLayout\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"@dimen/_210sdp\">\r\n\r\n                        <ImageView\r\n                            android:id=\"@+id/ivBanner\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:layout_centerInParent=\"true\" />\r\n\r\n                        <RelativeLayout\r\n                            android:id=\"@+id/rlLayout\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"@dimen/_56sdp\"\r\n                            android:background=\"@drawable/top_transparent_gradient\">\r\n\r\n                            <LinearLayout\r\n                                android:id=\"@+id/llBack\"\r\n                                android:layout_width=\"42dp\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:layout_centerVertical=\"true\"\r\n                                android:gravity=\"center\">\r\n\r\n                                <ImageView\r\n                                    android:layout_width=\"wrap_content\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:src=\"@drawable/ic_left_arrow_icon\"\r\n                                    app:tint=\"@color/white\" />\r\n\r\n                            </LinearLayout>\r\n\r\n                            <LinearLayout\r\n                                android:id=\"@+id/llOptions\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:layout_alignParentRight=\"true\"\r\n                                android:layout_marginRight=\"@dimen/_10sdp\"\r\n                                android:layout_toRightOf=\"@id/llBack\"\r\n                                android:gravity=\"end\">\r\n\r\n                                <LinearLayout\r\n                                    android:id=\"@+id/llReminder\"\r\n                                    android:layout_width=\"42dp\"\r\n                                    android:layout_height=\"match_parent\"\r\n                                    android:layout_centerVertical=\"true\"\r\n                                    android:gravity=\"center\"\r\n                                    android:visibility=\"gone\">\r\n\r\n                                    <ImageView\r\n                                        android:id=\"@+id/ivReminder\"\r\n                                        android:layout_width=\"wrap_content\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:src=\"@drawable/ic_clock_icon\"\r\n                                        app:tint=\"@color/white\" />\r\n\r\n                                </LinearLayout>\r\n\r\n                                <RelativeLayout\r\n                                    android:id=\"@+id/llDownloads\"\r\n                                    android:layout_width=\"42dp\"\r\n                                    android:layout_height=\"match_parent\"\r\n                                    android:layout_centerVertical=\"true\"\r\n                                    android:gravity=\"center\">\r\n\r\n                                    <ProgressBar\r\n                                        android:id=\"@+id/pbProgress\"\r\n                                        style=\"?android:attr/progressBarStyleHorizontal\"\r\n                                        android:layout_width=\"match_parent\"\r\n                                        android:layout_height=\"match_parent\"\r\n                                        android:layout_centerInParent=\"true\"\r\n                                        android:background=\"@drawable/circular_shapem\"\r\n                                        android:indeterminate=\"false\"\r\n                                        android:indeterminateTint=\"@color/dark_yellow\"\r\n                                        android:max=\"100\"\r\n                                        android:progressDrawable=\"@drawable/circular_progress_barm\"\r\n                                        android:visibility=\"gone\" />\r\n\r\n                                    <ImageView\r\n                                        android:id=\"@+id/ivDownloads\"\r\n                                        android:layout_width=\"wrap_content\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:layout_centerInParent=\"true\" />\r\n\r\n                                </RelativeLayout>\r\n\r\n                                <LinearLayout\r\n                                    android:id=\"@+id/llMore\"\r\n                                    android:layout_width=\"42dp\"\r\n                                    android:layout_height=\"match_parent\"\r\n                                    android:layout_centerVertical=\"true\"\r\n                                    android:gravity=\"center\"\r\n                                    android:visibility=\"gone\">\r\n\r\n                                    <ImageView\r\n                                        android:id=\"@+id/ivMore\"\r\n                                        android:layout_width=\"wrap_content\"\r\n                                        android:layout_height=\"wrap_content\"\r\n                                        android:src=\"@drawable/ic_menu_icon\"\r\n                                        app:tint=\"@color/white\" />\r\n\r\n                                </LinearLayout>\r\n                            </LinearLayout>\r\n                        </RelativeLayout>\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_alignParentBottom=\"true\"\r\n                            android:background=\"@drawable/transparent_gradient\"\r\n                            android:orientation=\"vertical\"\r\n                            android:paddingBottom=\"@dimen/_16sdp\">\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvPlaylist\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                                android:fontFamily=\"@font/montserrat_semi_bold\"\r\n                                android:gravity=\"start\"\r\n                                android:text=\"Playlist\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"@dimen/_15sdp\"\r\n                                android:visibility=\"gone\" />\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvLibraryName\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                                android:layout_marginTop=\"@dimen/_6sdp\"\r\n                                android:ellipsize=\"end\"\r\n                                android:fontFamily=\"@font/montserrat_bold\"\r\n                                android:gravity=\"start\"\r\n                                android:maxLines=\"1\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"@dimen/_22sdp\" />\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvLibraryDetail\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                                android:layout_marginTop=\"@dimen/_6sdp\"\r\n                                android:fontFamily=\"@font/montserrat_medium\"\r\n                                android:gravity=\"start\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"@dimen/_15sdp\" />\r\n\r\n                        </LinearLayout>\r\n                    </RelativeLayout>\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivPlaylistStatus\"\r\n                        android:layout_width=\"@dimen/_60sdp\"\r\n                        android:layout_height=\"@dimen/_60sdp\"\r\n                        android:layout_below=\"@id/llMainLayout\"\r\n                        android:layout_alignParentRight=\"true\"\r\n                        android:layout_marginTop=\"-33dp\"\r\n                        android:layout_marginRight=\"@dimen/_20sdp\"\r\n                        android:scaleType=\"fitXY\"\r\n                        android:src=\"@drawable/ic_blue_play_icon\"\r\n                        android:visibility=\"gone\" />\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/llAddAudio\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"310dp\"\r\n                        android:layout_below=\"@id/llMainLayout\"\r\n                        android:layout_marginTop=\"@dimen/_51sdp\"\r\n                        android:gravity=\"center\"\r\n                        android:orientation=\"vertical\"\r\n                        android:visibility=\"gone\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                            android:layout_marginTop=\"@dimen/_20sdp\"\r\n                            android:fontFamily=\"@font/montserrat_medium\"\r\n                            android:gravity=\"center\"\r\n                            android:text=\"Let's find some Audios for your playlist.\"\r\n                            android:textColor=\"@color/dark_blue_gray\"\r\n                            android:textSize=\"@dimen/_15sdp\" />\r\n\r\n                        <Button\r\n                            android:id=\"@+id/btnAddAudio\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginHorizontal=\"@dimen/_55sdp\"\r\n                            android:layout_marginTop=\"@dimen/_30sdp\"\r\n                            android:layout_marginBottom=\"@dimen/_25sdp\"\r\n                            android:background=\"@drawable/extra_round_cornor\"\r\n                            android:fontFamily=\"@font/montserrat_bold\"\r\n                            android:paddingVertical=\"@dimen/_2sdp\"\r\n                            android:text=\"@string/Add_Audio\"\r\n                            android:textColor=\"@color/white\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/llListing\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:layout_below=\"@id/ivPlaylistStatus\"\r\n                        android:orientation=\"vertical\"\r\n                        android:visibility=\"visible\">\r\n\r\n                        <RelativeLayout\r\n                            android:id=\"@+id/rlSearch\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"@dimen/_48sdp\"\r\n                            android:layout_gravity=\"center_vertical\"\r\n                            android:layout_marginLeft=\"@dimen/_16sdp\"\r\n                            android:layout_marginTop=\"@dimen/_16sdp\"\r\n                            android:layout_marginRight=\"@dimen/_16sdp\"\r\n                            android:layout_weight=\"2\"\r\n                            android:background=\"@drawable/rounded_extra_gray_corner\"\r\n                            android:visibility=\"gone\">\r\n\r\n                            <ImageView\r\n                                android:id=\"@+id/button1\"\r\n                                android:layout_width=\"@dimen/_16sdp\"\r\n                                android:layout_height=\"@dimen/_16sdp\"\r\n                                android:layout_centerVertical=\"true\"\r\n                                android:layout_marginLeft=\"@dimen/_14sdp\"\r\n                                android:src=\"@drawable/ic_search_icon\"\r\n                                app:tint=\"@color/dark_blue_gray\" />\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvSearch\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_centerVertical=\"true\"\r\n                                android:layout_marginLeft=\"@dimen/_16sdp\"\r\n                                android:layout_marginTop=\"@dimen/_20sdp\"\r\n                                android:layout_marginRight=\"@dimen/_16sdp\"\r\n                                android:layout_toRightOf=\"@id/button1\"\r\n                                android:fontFamily=\"@font/montserrat_bold\"\r\n                                android:gravity=\"start\"\r\n                                android:text=\"\"\r\n                                android:textColor=\"@color/light_gray\"\r\n                                android:textSize=\"@dimen/_14sdp\"\r\n                                android:visibility=\"gone\" />\r\n\r\n                            <androidx.appcompat.widget.SearchView\r\n                                android:id=\"@+id/searchView\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:layout_centerVertical=\"true\"\r\n                                android:layout_toRightOf=\"@id/button1\"\r\n                                android:iconifiedByDefault=\"false\"\r\n                                android:singleLine=\"true\"\r\n                                android:theme=\"@style/WallSearchView\"\r\n                                android:visibility=\"gone\"\r\n                                app:queryBackground=\"@null\"\r\n                                app:queryHint=\"\"\r\n                                app:searchHintIcon=\"@null\"\r\n                                app:searchIcon=\"@null\" />\r\n\r\n\r\n                        </RelativeLayout>\r\n\r\n                        <androidx.recyclerview.widget.RecyclerView\r\n                            android:id=\"@+id/rvSuggestedList\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginLeft=\"@dimen/_10sdp\"\r\n                            android:layout_marginRight=\"@dimen/_10sdp\"\r\n                            android:overScrollMode=\"never\"\r\n                            android:paddingTop=\"@dimen/_8sdp\"\r\n                            android:visibility=\"gone\" />\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/tvTag\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginLeft=\"@dimen/_16sdp\"\r\n                            android:layout_marginTop=\"@dimen/_20sdp\"\r\n                            android:layout_marginRight=\"@dimen/_16sdp\"\r\n                            android:fontFamily=\"@font/montserrat_bold\"\r\n                            android:gravity=\"start\"\r\n                            android:text=\"@string/Audios_in_Playlist\"\r\n                            android:textColor=\"@color/black\"\r\n                            android:textSize=\"@dimen/_16sdp\"\r\n                            android:visibility=\"gone\" />\r\n\r\n                        <LinearLayout\r\n                            android:id=\"@+id/llSpace\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\">\r\n\r\n                            <androidx.recyclerview.widget.RecyclerView\r\n                                android:id=\"@+id/rvPlayLists\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:overScrollMode=\"never\"\r\n                                android:paddingBottom=\"@dimen/_30sdp\"\r\n                                android:visibility=\"visible\" />\r\n                        </LinearLayout>\r\n\r\n                        <LinearLayout\r\n                            android:id=\"@+id/llError\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginHorizontal=\"@dimen/_22sdp\"\r\n                            android:layout_marginTop=\"@dimen/_20sdp\"\r\n                            android:gravity=\"center\"\r\n                            android:orientation=\"vertical\"\r\n                            android:visibility=\"gone\">\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvFound\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:fontFamily=\"@font/montserrat_regular\"\r\n                                android:gravity=\"center\"\r\n                                android:textColor=\"@color/dark_blue_gray\"\r\n                                android:textSize=\"@dimen/_15sdp\" />\r\n\r\n                            <TextView\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"@dimen/_4sdp\"\r\n                                android:fontFamily=\"@font/montserrat_regular\"\r\n                                android:gravity=\"center\"\r\n                                android:text=\"@string/no_data_found\"\r\n                                android:textColor=\"@color/dark_blue_gray\"\r\n                                android:textSize=\"@dimen/_11sdp\"\r\n                                android:visibility=\"gone\" />\r\n\r\n                        </LinearLayout>\r\n                    </LinearLayout>\r\n                </RelativeLayout>\r\n\r\n\r\n            </androidx.core.widget.NestedScrollView>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/llExtra\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"@dimen/_70sdp\"\r\n                android:layout_alignParentBottom=\"true\"\r\n                android:background=\"@color/white\"\r\n                android:orientation=\"horizontal\"\r\n                android:visibility=\"gone\"></LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:gravity=\"center\"\r\n                android:padding=\"@dimen/_60sdp\">\r\n\r\n                <ProgressBar\r\n                    android:id=\"@+id/progressBar\"\r\n                    android:layout_width=\"@dimen/_50sdp\"\r\n                    android:layout_height=\"@dimen/_50sdp\"\r\n                    android:indeterminateTint=\"@color/blue\"\r\n                    android:scaleType=\"centerInside\"\r\n                    android:visibility=\"gone\" />\r\n\r\n            </LinearLayout>\r\n\r\n            <FrameLayout\r\n                android:id=\"@+id/progressBarHolder\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:alpha=\"0.4\"\r\n                android:animateLayoutChanges=\"true\"\r\n                android:background=\"#C0000000\"\r\n                android:visibility=\"gone\" />\r\n        </RelativeLayout>\r\n    </FrameLayout>\r\n</layout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/fragment_my_playlists.xml	(revision c6b9f9d4dda861025bfa843abae99e76d19994bd)
-+++ app/src/main/res/layout/fragment_my_playlists.xml	(date 1602586607646)
-@@ -12,11 +12,6 @@
-             android:layout_width="match_parent"
-             android:layout_height="match_parent">
- 
--            <androidx.core.widget.NestedScrollView
--                android:layout_width="match_parent"
--                android:layout_height="match_parent"
--                android:overScrollMode="never">
--
-                 <RelativeLayout
-                     android:id="@+id/rlMainLayout"
-                     android:layout_width="match_parent"
-@@ -231,65 +226,69 @@
-                         android:orientation="vertical"
-                         android:visibility="visible">
- 
--                        <RelativeLayout
--                            android:id="@+id/rlSearch"
--                            android:layout_width="match_parent"
--                            android:layout_height="@dimen/_48sdp"
--                            android:layout_gravity="center_vertical"
--                            android:layout_marginLeft="@dimen/_16sdp"
--                            android:layout_marginTop="@dimen/_16sdp"
--                            android:layout_marginRight="@dimen/_16sdp"
--                            android:layout_weight="2"
--                            android:background="@drawable/rounded_extra_gray_corner"
--                            android:visibility="gone">
-+                        <LinearLayout
-+                            android:layout_width="match_parent"
-+                            android:layout_height="@dimen/_84sdp">
-+
-+                            <RelativeLayout
-+                                android:id="@+id/rlSearch"
-+                                android:layout_width="match_parent"
-+                                android:layout_height="@dimen/_48sdp"
-+                                android:layout_gravity="center_vertical"
-+                                android:layout_marginLeft="@dimen/_16sdp"
-+                                android:layout_marginTop="@dimen/_15sdp"
-+                                android:layout_marginRight="@dimen/_16sdp"
-+                                android:layout_weight="2"
-+                                android:background="@drawable/rounded_extra_gray_corner"
-+                                android:visibility="visible">
- 
--                            <ImageView
--                                android:id="@+id/button1"
--                                android:layout_width="@dimen/_16sdp"
--                                android:layout_height="@dimen/_16sdp"
--                                android:layout_centerVertical="true"
--                                android:layout_marginLeft="@dimen/_14sdp"
--                                android:src="@drawable/ic_search_icon"
--                                app:tint="@color/dark_blue_gray" />
-+                                <ImageView
-+                                    android:id="@+id/button1"
-+                                    android:layout_width="@dimen/_16sdp"
-+                                    android:layout_height="@dimen/_16sdp"
-+                                    android:layout_centerVertical="true"
-+                                    android:layout_marginLeft="@dimen/_14sdp"
-+                                    android:src="@drawable/ic_search_icon"
-+                                    app:tint="@color/dark_blue_gray" />
- 
--                            <TextView
--                                android:id="@+id/tvSearch"
--                                android:layout_width="match_parent"
--                                android:layout_height="wrap_content"
--                                android:layout_centerVertical="true"
--                                android:layout_marginLeft="@dimen/_16sdp"
--                                android:layout_marginTop="@dimen/_20sdp"
--                                android:layout_marginRight="@dimen/_16sdp"
--                                android:layout_toRightOf="@id/button1"
--                                android:fontFamily="@font/montserrat_bold"
--                                android:gravity="start"
--                                android:text=""
--                                android:textColor="@color/light_gray"
--                                android:textSize="@dimen/_14sdp"
--                                android:visibility="gone" />
-+                                <TextView
-+                                    android:id="@+id/tvSearch"
-+                                    android:layout_width="match_parent"
-+                                    android:layout_height="wrap_content"
-+                                    android:layout_centerVertical="true"
-+                                    android:layout_marginLeft="@dimen/_16sdp"
-+                                    android:layout_marginTop="@dimen/_20sdp"
-+                                    android:layout_marginRight="@dimen/_16sdp"
-+                                    android:layout_toRightOf="@id/button1"
-+                                    android:fontFamily="@font/montserrat_bold"
-+                                    android:gravity="start"
-+                                    android:text=""
-+                                    android:textColor="@color/light_gray"
-+                                    android:textSize="@dimen/_14sdp"
-+                                    android:visibility="gone" />
- 
--                            <androidx.appcompat.widget.SearchView
--                                android:id="@+id/searchView"
--                                android:layout_width="match_parent"
--                                android:layout_height="match_parent"
--                                android:layout_centerVertical="true"
--                                android:layout_toRightOf="@id/button1"
--                                android:iconifiedByDefault="false"
--                                android:singleLine="true"
--                                android:theme="@style/WallSearchView"
--                                android:visibility="gone"
--                                app:queryBackground="@null"
--                                app:queryHint=""
--                                app:searchHintIcon="@null"
--                                app:searchIcon="@null" />
--
--
--                        </RelativeLayout>
-+                                <androidx.appcompat.widget.SearchView
-+                                    android:id="@+id/searchView"
-+                                    android:layout_width="match_parent"
-+                                    android:layout_height="match_parent"
-+                                    android:layout_centerVertical="true"
-+                                    android:layout_toRightOf="@id/button1"
-+                                    android:iconifiedByDefault="false"
-+                                    android:singleLine="true"
-+                                    android:theme="@style/WallSearchView"
-+                                    android:visibility="gone"
-+                                    app:queryBackground="@null"
-+                                    app:queryHint=""
-+                                    app:searchHintIcon="@null"
-+                                    app:searchIcon="@null" />
-+                            </RelativeLayout>
-+                        </LinearLayout>
-+
- 
-                         <androidx.recyclerview.widget.RecyclerView
-                             android:id="@+id/rvSuggestedList"
-                             android:layout_width="match_parent"
--                            android:layout_height="wrap_content"
-+                            android:layout_height="match_parent"
-                             android:layout_marginLeft="@dimen/_10sdp"
-                             android:layout_marginRight="@dimen/_10sdp"
-                             android:overScrollMode="never"
-@@ -313,7 +312,7 @@
-                         <LinearLayout
-                             android:id="@+id/llSpace"
-                             android:layout_width="match_parent"
--                            android:layout_height="wrap_content">
-+                            android:layout_height="match_parent">
- 
-                             <androidx.recyclerview.widget.RecyclerView
-                                 android:id="@+id/rvPlayLists"
-@@ -358,9 +357,6 @@
-                     </LinearLayout>
-                 </RelativeLayout>
- 
--
--            </androidx.core.widget.NestedScrollView>
--
-             <LinearLayout
-                 android:id="@+id/llExtra"
-                 android:layout_width="match_parent"
-Index: .idea/gradle.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"GradleMigrationSettings\" migrationVersion=\"1\" />\r\n  <component name=\"GradleSettings\">\r\n    <option name=\"linkedExternalProjectsSettings\">\r\n      <GradleProjectSettings>\r\n        <option name=\"testRunner\" value=\"PLATFORM\" />\r\n        <option name=\"distributionType\" value=\"DEFAULT_WRAPPED\" />\r\n        <option name=\"externalProjectPath\" value=\"$PROJECT_DIR$\" />\r\n        <option name=\"gradleJvm\" value=\"1.8\" />\r\n        <option name=\"modules\">\r\n          <set>\r\n            <option value=\"$PROJECT_DIR$\" />\r\n            <option value=\"$PROJECT_DIR$/app\" />\r\n          </set>\r\n        </option>\r\n        <option name=\"resolveModulePerSourceSet\" value=\"false\" />\r\n      </GradleProjectSettings>\r\n    </option>\r\n  </component>\r\n</project>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- .idea/gradle.xml	(revision c6b9f9d4dda861025bfa843abae99e76d19994bd)
-+++ .idea/gradle.xml	(date 1602586607652)
-@@ -15,6 +15,7 @@
-           </set>
-         </option>
-         <option name="resolveModulePerSourceSet" value="false" />
-+        <option name="useQualifiedModuleNames" value="true" />
-       </GradleProjectSettings>
-     </option>
-   </component>
Index: .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_41__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_41__Default_Changelist_.xml	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_41__Default_Changelist_.xml	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_13-10-2020_16_41_[Default_Changelist]" date="1602587494748" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_16_41_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 13-10-2020 16:41 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_15_30_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_15_30_[Default_Changelist]/shelved.patch	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_13-10-2020_15_30_[Default_Changelist]/shelved.patch	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
@@ -1,625 +0,0 @@
-Index: app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/ViewQueueActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.brainwellnessspa.DashboardModule.Activities;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.media.AudioAttributes;\r\nimport android.media.MediaPlayer;\r\nimport android.os.AsyncTask;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.SystemClock;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.SeekBar;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.ItemTouchHelper;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\nimport com.brainwellnessspa.BWSApplication;\r\nimport com.brainwellnessspa.DashboardModule.Models.AddToQueueModel;\r\nimport com.brainwellnessspa.DashboardModule.Models.SucessModel;\r\nimport com.brainwellnessspa.DashboardModule.TransparentPlayer.Models.MainPlayModel;\r\nimport com.brainwellnessspa.EncryptDecryptUtils.DownloadMedia;\r\nimport com.brainwellnessspa.EncryptDecryptUtils.FileUtils;\r\nimport com.brainwellnessspa.R;\r\nimport com.brainwellnessspa.RoomDataBase.DatabaseClient;\r\nimport com.brainwellnessspa.RoomDataBase.DownloadAudioDetails;\r\nimport com.brainwellnessspa.Utility.APIClient;\r\nimport com.brainwellnessspa.Utility.CONSTANTS;\r\nimport com.brainwellnessspa.Utility.ItemMoveCallback;\r\nimport com.brainwellnessspa.Utility.MeasureRatio;\r\nimport com.brainwellnessspa.Utility.StartDragListener;\r\nimport com.brainwellnessspa.databinding.ActivityViewQueueBinding;\r\nimport com.brainwellnessspa.databinding.QueueListLayoutBinding;\r\n\r\nimport java.io.FileDescriptor;\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Type;\r\nimport java.sql.Time;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\nimport static com.brainwellnessspa.Utility.MusicService.SeekTo;\r\nimport static com.brainwellnessspa.Utility.MusicService.getEndTime;\r\nimport static com.brainwellnessspa.Utility.MusicService.getProgressPercentage;\r\nimport static com.brainwellnessspa.Utility.MusicService.getStartTime;\r\nimport static com.brainwellnessspa.Utility.MusicService.isMediaStart;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPause;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPlaying;\r\nimport static com.brainwellnessspa.Utility.MusicService.isPrepare;\r\nimport static com.brainwellnessspa.Utility.MusicService.isStop;\r\nimport static com.brainwellnessspa.Utility.MusicService.mediaPlayer;\r\nimport static com.brainwellnessspa.Utility.MusicService.oTime;\r\nimport static com.brainwellnessspa.Utility.MusicService.pauseMedia;\r\nimport static com.brainwellnessspa.Utility.MusicService.progressToTimer;\r\nimport static com.brainwellnessspa.Utility.MusicService.resumeMedia;\r\nimport static com.brainwellnessspa.Utility.MusicService.savePrefQueue;\r\nimport static com.brainwellnessspa.Utility.MusicService.stopMedia;\r\n\r\npublic class ViewQueueActivity extends AppCompatActivity implements SeekBar.OnSeekBarChangeListener,/* AudioManager.OnAudioFocusChangeListener,*/ StartDragListener {\r\n    ActivityViewQueueBinding binding;\r\n    int position, listSize, startTime = 0;\r\n    String IsRepeat, IsShuffle, id, AudioId = \"\", ComeFromQueue = \"\", play = \"\", url, name;\r\n    Context ctx;\r\n    Activity activity;\r\n    ArrayList<MainPlayModel> mainPlayModelList;\r\n    ArrayList<AddToQueueModel> addToQueueModelList, addToQueueModelList2;\r\n    ArrayList<AddToQueueModel> addToQueueModeNowPlaying;\r\n    SharedPreferences shared;\r\n    Boolean queuePlay, audioPlay;\r\n    QueueAdapter adapter;\r\n    List<DownloadAudioDetails> downloadAudioDetailsList;\r\n    ItemTouchHelper touchHelper;\r\n    int mypos = 0;\r\n    long totalDuration;\r\n    private long mLastClickTime = 0;\r\n    private Handler handler;\r\n    //    private AudioManager mAudioManager;\r\n    private Runnable UpdateSongTime = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            startTime = getStartTime();\r\n            Time t = Time.valueOf(\"00:00:00\");\r\n            if (queuePlay) {\r\n                if (listSize != 0) {\r\n                    if (!BWSApplication.isNetworkConnected(ctx)) {\r\n                        if (mediaPlayer != null) {\r\n                            totalDuration = mediaPlayer.getDuration();\r\n                        } else {\r\n                            t = Time.valueOf(\"00:\" + downloadAudioDetailsList.get(0).getAudioDuration());\r\n                        }\r\n                    } else {\r\n                        if (mediaPlayer != null) {\r\n                            totalDuration = mediaPlayer.getDuration();\r\n                        } else {\r\n                            t = Time.valueOf(\"00:\" + addToQueueModelList.get(position).getAudioDuration());\r\n                        }\r\n                    }\r\n                } else {\r\n                    stopMedia();\r\n                }\r\n            } else if (audioPlay) {\r\n                if (!BWSApplication.isNetworkConnected(ctx)) {\r\n                    if (mediaPlayer != null) {\r\n                        totalDuration = mediaPlayer.getDuration();\r\n                    } else {\r\n                        t = Time.valueOf(\"00:\" + downloadAudioDetailsList.get(0).getAudioDuration());\r\n                    }\r\n                } else {\r\n                    if (mediaPlayer != null) {\r\n                        totalDuration = mediaPlayer.getDuration();\r\n                    } else {\r\n                        t = Time.valueOf(\"00:\" + mainPlayModelList.get(position).getAudioDuration());\r\n                    }\r\n                }\r\n            }\r\n            if (!BWSApplication.isNetworkConnected(ctx)) {\r\n                totalDuration = mediaPlayer.getDuration();\r\n            } else {\r\n                if (mediaPlayer != null) {\r\n                    totalDuration = mediaPlayer.getDuration();\r\n                } else {\r\n                    totalDuration = t.getTime();\r\n                }\r\n            }\r\n            long currentDuration = getStartTime();\r\n\r\n            int progress = getProgressPercentage(currentDuration, totalDuration);\r\n            long diff = totalDuration - currentDuration;\r\n\r\n            if (currentDuration == totalDuration && currentDuration != 0&& !isStop) {\r\n                callComplete();\r\n            } else if (isPause) {\r\n                binding.simpleSeekbar.setProgress(oTime);\r\n            } else {\r\n                binding.simpleSeekbar.setProgress(progress);\r\n            }\r\n            binding.simpleSeekbar.setMax(100);\r\n            handler.postDelayed(this, 500);\r\n        }\r\n    };\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_view_queue);\r\n        ctx = ViewQueueActivity.this;\r\n        activity = ViewQueueActivity.this;\r\n\r\n        downloadAudioDetailsList = new ArrayList<>();\r\n        if (getIntent().getExtras() != null) {\r\n            AudioId = getIntent().getStringExtra(CONSTANTS.ID);\r\n        }\r\n\r\n        if (getIntent().getExtras() != null) {\r\n            ComeFromQueue = getIntent().getStringExtra(\"ComeFromQueue\");\r\n        }\r\n        if (getIntent().getExtras() != null) {\r\n            play = getIntent().getStringExtra(\"play\");\r\n        }\r\n        handler = new Handler();\r\n        addToQueueModelList = new ArrayList<>();\r\n        addToQueueModelList2 = new ArrayList<>();\r\n\r\n        mainPlayModelList = new ArrayList<>();\r\n        shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        Gson gson = new Gson();\r\n        String json = shared.getString(CONSTANTS.PREF_KEY_queueList, String.valueOf(gson));\r\n        position = shared.getInt(CONSTANTS.PREF_KEY_position, 0);\r\n\r\n        if (!json.equalsIgnoreCase(String.valueOf(gson))) {\r\n            Type type = new TypeToken<ArrayList<AddToQueueModel>>() {\r\n            }.getType();\r\n            addToQueueModelList = gson.fromJson(json, type);\r\n            addToQueueModelList2 = gson.fromJson(json, type);\r\n        }\r\n        String json2 = shared.getString(CONSTANTS.PREF_KEY_audioList, String.valueOf(gson));\r\n        position = shared.getInt(CONSTANTS.PREF_KEY_position, 0);\r\n        Type type2 = new TypeToken<ArrayList<MainPlayModel>>() {\r\n        }.getType();\r\n        mainPlayModelList = gson.fromJson(json2, type2);\r\n        SharedPreferences Status = getSharedPreferences(CONSTANTS.PREF_KEY_Status, Context.MODE_PRIVATE);\r\n        IsRepeat = Status.getString(CONSTANTS.PREF_KEY_IsRepeat, \"\");\r\n        IsShuffle = Status.getString(CONSTANTS.PREF_KEY_IsShuffle, \"\");\r\n/*        mAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n        mAudioManager.requestAudioFocus(this, AudioManager.STREAM_MUSIC,\r\n                AudioManager.AUDIOFOCUS_GAIN);*/\r\n        binding.rvQueueList.setFocusable(false);\r\n        binding.nestedScroll.requestFocus();\r\n\r\n        queuePlay = shared.getBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n        audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n\r\n        binding.llBack.setOnClickListener(view -> {\r\n            if (SystemClock.elapsedRealtime() - mLastClickTime < 1000) {\r\n                return;\r\n            }\r\n            mLastClickTime = SystemClock.elapsedRealtime();\r\n            callBack();\r\n        });\r\n        MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                1, 1, 0.14f, 0);\r\n        binding.ivRestaurantImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n        binding.ivRestaurantImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n        binding.ivRestaurantImage.setScaleType(ImageView.ScaleType.FIT_XY);\r\n        getPrepareShowData(position);\r\n        binding.simpleSeekbar.setOnSeekBarChangeListener(this);\r\n        callAdapterMethod();\r\n        binding.llNowPlaying.setOnClickListener(view -> {\r\n            if (binding.llPause.getVisibility() == View.VISIBLE) {\r\n                isPause = false;\r\n            }\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson2 = new Gson();\r\n            String json22 = gson2.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json22);\r\n            editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n            editor.commit();\r\n            Intent i = new Intent(ctx, PlayWellnessActivity.class);\r\n            i.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n            startActivity(i);\r\n            finish();\r\n        });\r\n\r\n        binding.llPause.setOnClickListener(view -> {\r\n            handler.removeCallbacks(UpdateSongTime);\r\n            binding.simpleSeekbar.setProgress(binding.simpleSeekbar.getProgress());\r\n            pauseMedia();\r\n            binding.llPlay.setVisibility(View.VISIBLE);\r\n            binding.llPause.setVisibility(View.GONE);\r\n            binding.llProgressBar.setVisibility(View.GONE);\r\n            binding.progressBar.setVisibility(View.GONE);\r\n            oTime = binding.simpleSeekbar.getProgress();\r\n        });\r\n\r\n        binding.llPlay.setOnClickListener(view -> {\r\n            binding.llPlay.setVisibility(View.GONE);\r\n            binding.llPause.setVisibility(View.VISIBLE);\r\n            binding.llProgressBar.setVisibility(View.GONE);\r\n            binding.progressBar.setVisibility(View.GONE);\r\n            resumeMedia();\r\n            isPause = false;\r\n            handler.postDelayed(UpdateSongTime, 500);\r\n        });\r\n\r\n        binding.llnext.setOnClickListener(view -> {\r\n\r\n            if (BWSApplication.isNetworkConnected(ctx)) {\r\n                stopMedia();\r\n                isMediaStart = false;\r\n                isPrepare = false;\r\n                isPause = false;\r\n                if (IsRepeat.equalsIgnoreCase(\"1\")||IsRepeat.equalsIgnoreCase(\"0\")) {\r\n                    // repeat is on play same song again\r\n                    if (position < listSize - 1) {\r\n                        position = position + 1;\r\n                    } else {\r\n                        position = 0;\r\n                    }\r\n                    getPrepareShowData(position);\r\n                } /*else if (IsRepeat.equalsIgnoreCase(\"0\")) {\r\n                    getPrepareShowData(position);\r\n                } */else if (IsShuffle.equalsIgnoreCase(\"1\")) {\r\n                    // shuffle is on - play a random song\r\n                    if (queuePlay) {\r\n                        adapter.callRemoveList(position);\r\n                        listSize = addToQueueModelList.size();\r\n                        if (listSize == 0) {\r\n                            stopMedia();\r\n                        } else if (listSize == 1) {\r\n                            stopMedia();\r\n                        } else {\r\n                            Random random = new Random();\r\n                            position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                            getPrepareShowData(position);\r\n                        }\r\n                    } else {\r\n                        Random random = new Random();\r\n                        position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                        getPrepareShowData(position);\r\n                    }\r\n                } else {\r\n                    if (queuePlay) {\r\n                        adapter.callRemoveList(position);\r\n                        listSize = addToQueueModelList.size();\r\n                        if (position < listSize - 1) {\r\n                            getPrepareShowData(position);\r\n                        } else {\r\n                            if (listSize == 0) {\r\n                                savePrefQueue(0, false, true, addToQueueModelList, ctx);\r\n                                stopMedia();\r\n                            } else {\r\n                                position = 0;\r\n                                getPrepareShowData(position);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (position < listSize - 1) {\r\n                            position = position + 1;\r\n                            getPrepareShowData(position);\r\n                        } else if (listSize != 1) {\r\n                            position = 0;\r\n                            getPrepareShowData(position);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n            }\r\n        });\r\n\r\n        binding.llprev.setOnClickListener(view -> {\r\n            if (BWSApplication.isNetworkConnected(ctx)) {\r\n                stopMedia();\r\n                isMediaStart = false;\r\n                isPrepare = false;\r\n                isPause = false;\r\n                if (IsRepeat.equalsIgnoreCase(\"1\") || IsRepeat.equalsIgnoreCase(\"0\")) {\r\n                    // repeat is on play same song again\r\n                    if (position > 0) {\r\n                        position = position - 1;\r\n                        getPrepareShowData(position);\r\n                    } else if (listSize != 1) {\r\n                        position = listSize - 1;\r\n                        getPrepareShowData(position);\r\n                    }\r\n                }/* else if (IsRepeat.equalsIgnoreCase(\"0\")) {\r\n                    getPrepareShowData(position);\r\n                } */else if (IsShuffle.equalsIgnoreCase(\"1\")) {\r\n                    // shuffle is on - play a random song\r\n                    if (queuePlay) {\r\n                        adapter.callRemoveList(position);\r\n                        listSize = addToQueueModelList.size();\r\n                        if (listSize == 0) {\r\n                            stopMedia();\r\n                        } else if (listSize == 1) {\r\n                            stopMedia();\r\n                        } else {\r\n                            Random random = new Random();\r\n                            position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                            getPrepareShowData(position);\r\n                        }\r\n                    } else {\r\n                        Random random = new Random();\r\n                        position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                        getPrepareShowData(position);\r\n                    }\r\n                } else {\r\n                    if (queuePlay) {\r\n                        adapter.callRemoveList(position);\r\n                        listSize = addToQueueModelList.size();\r\n                        if (position > 0) {\r\n                            getPrepareShowData(position - 1);\r\n                        } else {\r\n                            if (listSize == 0) {\r\n                                savePrefQueue(0, false, true, addToQueueModelList, ctx);\r\n                                stopMedia();\r\n                            } else {\r\n                                position = 0;\r\n                                getPrepareShowData(position);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (position > 0) {\r\n                            position = position - 1;\r\n\r\n                            getPrepareShowData(position);\r\n                        } else if (listSize != 1) {\r\n                            position = listSize - 1;\r\n                            getPrepareShowData(position);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void callAdapterMethod() {\r\n        if (addToQueueModelList.size() != 0) {\r\n            if (queuePlay) {\r\n                if (addToQueueModelList.get(position).getName().equalsIgnoreCase(binding.tvName.getText().toString())) {\r\n                    mypos = position;\r\n                    addToQueueModelList2.remove(position);\r\n                }\r\n            }\r\n            adapter = new QueueAdapter(addToQueueModelList2, ctx, this);\r\n            RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(ctx);\r\n            binding.rvQueueList.setLayoutManager(mLayoutManager);\r\n            binding.rvQueueList.setItemAnimator(new DefaultItemAnimator());\r\n            ItemTouchHelper.Callback callback =\r\n                    new ItemMoveCallback(adapter);\r\n            touchHelper = new ItemTouchHelper(callback);\r\n            touchHelper.attachToRecyclerView(binding.rvQueueList);\r\n            binding.rvQueueList.setAdapter(adapter);\r\n        }\r\n    }\r\n\r\n    public void GetMedia(String url, Context ctx, String PlaylistId) {\r\n\r\n        downloadAudioDetailsList = new ArrayList<>();\r\n        class GetMedia extends AsyncTask<Void, Void, Void> {\r\n\r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n\r\n                downloadAudioDetailsList = DatabaseClient\r\n                        .getInstance(ctx)\r\n                        .getaudioDatabase()\r\n                        .taskDao()\r\n                        .getaudioByPlaylist(url, PlaylistId);\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                if (isPause) {\r\n                    binding.llPlay.setVisibility(View.VISIBLE);\r\n                    binding.llPause.setVisibility(View.GONE);\r\n                    binding.llProgressBar.setVisibility(View.GONE);\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                    binding.simpleSeekbar.setProgress(oTime);\r\n//                    resumeMedia();\r\n                } else if ((isMediaStart || isPlaying()) && !isPause) {\r\n                    binding.llPause.setVisibility(View.VISIBLE);\r\n                    binding.llPlay.setVisibility(View.GONE);\r\n                    binding.llProgressBar.setVisibility(View.GONE);\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                } else {\r\n                    callMedia();\r\n                }\r\n                super.onPostExecute(aVoid);\r\n\r\n            }\r\n        }\r\n\r\n        GetMedia st = new GetMedia();\r\n        st.execute();\r\n    }\r\n\r\n    private void getPrepareShowData(int position) {\r\n        queuePlay = shared.getBoolean(CONSTANTS.PREF_KEY_queuePlay, false);\r\n        audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);\r\n        if (audioPlay) {\r\n            listSize = mainPlayModelList.size();\r\n        } else if (queuePlay) {\r\n            listSize = addToQueueModelList.size();\r\n        }\r\n\r\n        if (listSize == 1) {\r\n            binding.llnext.setEnabled(false);\r\n            binding.llnext.setEnabled(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            position = 0;\r\n        }/* else if (position == listSize - 1 && IsRepeat.equalsIgnoreCase(\"1\")) {\r\n            binding.llnext.setEnabled(false);\r\n            binding.llnext.setClickable(false);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n        } else if (position == 0 && IsRepeat.equalsIgnoreCase(\"1\")) {\r\n            binding.llprev.setEnabled(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n        } */ else {\r\n            binding.llnext.setEnabled(true);\r\n            binding.llnext.setEnabled(true);\r\n            binding.llprev.setClickable(true);\r\n            binding.llprev.setClickable(true);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n        }\r\n        BWSApplication.showProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n        if (audioPlay) {\r\n            id = mainPlayModelList.get(position).getID();\r\n            url = mainPlayModelList.get(position).getAudioFile();\r\n            name = mainPlayModelList.get(position).getName();\r\n            setInIt(mainPlayModelList.get(position).getName(), mainPlayModelList.get(position).getAudiomastercat(),\r\n                    mainPlayModelList.get(position).getImageFile(), mainPlayModelList.get(position).getAudioDuration());\r\n            GetMedia(url, ctx, mainPlayModelList.get(position).getPlaylistID());\r\n        } else if (queuePlay) {\r\n            if (listSize == 1) {\r\n                position = 0;\r\n            }\r\n            id = addToQueueModelList.get(position).getID();\r\n            url = addToQueueModelList.get(position).getAudioFile();\r\n            name = addToQueueModelList.get(position).getName();\r\n            setInIt(addToQueueModelList.get(position).getName(), addToQueueModelList.get(position).getAudiomastercat(),\r\n                    addToQueueModelList.get(position).getImageFile(), addToQueueModelList.get(position).getAudioDuration());\r\n            GetMedia(url, ctx, addToQueueModelList.get(position).getPlaylistID());\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson2 = new Gson();\r\n            String json3 = gson2.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json3);\r\n            editor.commit();\r\n            startTime = getStartTime();\r\n        }\r\n        addToRecentPlay();\r\n        binding.simpleSeekbar.setClickable(true);\r\n        handler.postDelayed(UpdateSongTime, 500);\r\n        if (isMediaStart) {\r\n            mediaPlayer.setOnCompletionListener(mediaPlayer -> {\r\n                callComplete();\r\n            });\r\n        }\r\n        SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = shared.edit();\r\n        editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n        editor.commit();\r\n        BWSApplication.hideProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n    }\r\n\r\n    private void setMediaPlayer(String download, FileDescriptor fileDescriptor) {\r\n        if (null == mediaPlayer) {\r\n            mediaPlayer = new MediaPlayer();\r\n            Log.e(\"Playinggggg\", \"Playinggggg\");\r\n        }\r\n        try {\r\n            if (mediaPlayer == null)\r\n                mediaPlayer = new MediaPlayer();\r\n            if (mediaPlayer.isPlaying()) {\r\n                Log.e(\"Playinggggg\", \"stoppppp\");\r\n                mediaPlayer.stop();\r\n                isMediaStart = false;\r\n                isPrepare = false;\r\n            }\r\n            mediaPlayer = new MediaPlayer();\r\n            if (download.equalsIgnoreCase(\"1\")) {\r\n                mediaPlayer.setDataSource(fileDescriptor);\r\n            } else {\r\n                mediaPlayer.setDataSource(url);\r\n            }\r\n            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n                mediaPlayer.setAudioAttributes(\r\n                        new AudioAttributes\r\n                                .Builder()\r\n                                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                                .build());\r\n            }\r\n            mediaPlayer.prepareAsync();\r\n            isPrepare = true;\r\n        } catch (IllegalStateException | IOException e) {\r\n            FileDescriptor fileDescriptor1 = null;\r\n            setMediaPlayer(\"0\", fileDescriptor1);\r\n            e.printStackTrace();\r\n        }\r\n        if (!mediaPlayer.isPlaying()) {\r\n            mediaPlayer.setOnPreparedListener(mp -> {\r\n                Log.e(\"Playinggggg\", \"Startinggg\");\r\n                mediaPlayer.start();\r\n                isMediaStart = true;\r\n                binding.llProgressBar.setVisibility(View.GONE);\r\n                binding.progressBar.setVisibility(View.GONE);\r\n                binding.llPlay.setVisibility(View.GONE);\r\n                binding.llPause.setVisibility(View.VISIBLE);\r\n            });\r\n        }\r\n    }\r\n\r\n    private void callMedia() {\r\n        FileDescriptor fileDescriptor = null;\r\n        if (downloadAudioDetailsList.size() != 0) {\r\n            binding.llProgressBar.setVisibility(View.VISIBLE);\r\n            binding.progressBar.setVisibility(View.VISIBLE);\r\n            binding.llPlay.setVisibility(View.GONE);\r\n            binding.llPause.setVisibility(View.GONE);\r\n            DownloadMedia downloadMedia = new DownloadMedia(getApplicationContext());\r\n\r\n            try {\r\n                byte[] decrypt = null;\r\n                decrypt = downloadMedia.decrypt(name);\r\n                if (decrypt != null) {\r\n                    binding.llProgressBar.setVisibility(View.GONE);\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                    binding.llPause.setVisibility(View.VISIBLE);\r\n                    binding.llPlay.setVisibility(View.GONE);\r\n                    fileDescriptor = FileUtils.getTempFileDescriptor(getApplicationContext(), decrypt);\r\n                    setMediaPlayer(\"1\", fileDescriptor);\r\n                } else {\r\n                    if (BWSApplication.isNetworkConnected(ctx)) {\r\n                        setMediaPlayer(\"0\", fileDescriptor);\r\n                    } else {\r\n                        binding.progressBar.setVisibility(View.GONE);\r\n                        binding.llProgressBar.setVisibility(View.GONE);\r\n                        binding.llPlay.setVisibility(View.VISIBLE);\r\n                        binding.llPause.setVisibility(View.GONE);\r\n                        BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            if (BWSApplication.isNetworkConnected(ctx)) {\r\n                binding.llProgressBar.setVisibility(View.VISIBLE);\r\n                binding.progressBar.setVisibility(View.VISIBLE);\r\n                binding.llPlay.setVisibility(View.GONE);\r\n                binding.llPause.setVisibility(View.GONE);\r\n                setMediaPlayer(\"0\", fileDescriptor);\r\n            } else {\r\n                binding.progressBar.setVisibility(View.GONE);\r\n                binding.llProgressBar.setVisibility(View.GONE);\r\n                binding.llPlay.setVisibility(View.VISIBLE);\r\n                binding.llPause.setVisibility(View.GONE);\r\n                BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void callComplete() {\r\n        handler.removeCallbacks(UpdateSongTime);\r\n        isPrepare = false;\r\n        isMediaStart = false;\r\n        isPause = false;\r\n        if (IsRepeat.equalsIgnoreCase(\"1\")) {\r\n            if (position < (listSize - 1)) {\r\n                position = position + 1;\r\n            } else {\r\n                position = 0;\r\n            }\r\n            getPrepareShowData(position);\r\n        } else if (IsRepeat.equalsIgnoreCase(\"0\")) {\r\n            getPrepareShowData(position);\r\n        } else if (IsShuffle.equalsIgnoreCase(\"1\")) {\r\n            // shuffle is on - play a random song\r\n            if (queuePlay) {\r\n                adapter.callRemoveList(position);\r\n                listSize = addToQueueModelList.size();\r\n                if (listSize == 0) {\r\n                    stopMedia();\r\n                } else if (listSize == 1) {\r\n                    position = 0;\r\n                    getPrepareShowData(position);\r\n                } else {\r\n                    Random random = new Random();\r\n                    position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                    getPrepareShowData(position);\r\n                }\r\n            } else {\r\n                if (listSize == 1) {\r\n\r\n                } else {\r\n                    Random random = new Random();\r\n                    position = random.nextInt((listSize - 1) - 0 + 1) + 0;\r\n                    getPrepareShowData(position);\r\n                }\r\n            }\r\n        } else {\r\n            if (queuePlay) {\r\n                adapter.callRemoveList(position);\r\n                listSize = addToQueueModelList.size();\r\n                if (position < listSize - 1) {\r\n                    getPrepareShowData(position);\r\n                } else {\r\n                    if (listSize == 0) {\r\n                        stopMedia();\r\n                    } else {\r\n                        position = 0;\r\n                        getPrepareShowData(position);\r\n                    }\r\n                }\r\n            } else {\r\n                if (position < (listSize - 1)) {\r\n                    position = position + 1;\r\n                    getPrepareShowData(position);\r\n                } else {\r\n                    if (listSize == 1) {\r\n                        binding.llPlay.setVisibility(View.VISIBLE);\r\n                        binding.llPause.setVisibility(View.GONE);\r\n                        stopMedia();\r\n                    } else {\r\n                        binding.llPlay.setVisibility(View.VISIBLE);\r\n                        binding.llPause.setVisibility(View.GONE);\r\n                        stopMedia();\r\n//                        position = 0;\r\n//                        getPrepareShowData(position);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (listSize == 1) {\r\n            binding.llnext.setEnabled(false);\r\n            binding.llnext.setEnabled(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.llprev.setClickable(false);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            position = 0;\r\n        } /*else if (position == listSize - 1 && IsRepeat.equalsIgnoreCase(\"1\")) {\r\n                binding.llnext.setEnabled(false);\r\n                binding.llnext.setClickable(false);\r\n                binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            } else if (position == 0 && IsRepeat.equalsIgnoreCase(\"1\")) {\r\n                binding.llprev.setEnabled(false);\r\n                binding.llprev.setClickable(false);\r\n                binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.extra_light_blue), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            }*/ else {\r\n            binding.llnext.setEnabled(true);\r\n            binding.llnext.setEnabled(true);\r\n            binding.llprev.setClickable(true);\r\n            binding.llprev.setClickable(true);\r\n            binding.ivnext.setColorFilter(ContextCompat.getColor(ctx, R.color.white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n            binding.ivprev.setColorFilter(ContextCompat.getColor(ctx, R.color.white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n        }\r\n        SharedPreferences shared = getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = shared.edit();\r\n        editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n        editor.commit();\r\n    }\r\n\r\n    private void setInIt(String name, String audiomastercat, String imageFile, String audioDuration) {\r\n        binding.tvTitle.setText(name);\r\n        binding.tvName.setText(name);\r\n        binding.tvCategory.setText(audiomastercat);\r\n        Glide.with(ctx).load(imageFile).thumbnail(0.05f)\r\n                .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(binding.ivRestaurantImage);\r\n        binding.tvTime.setText(audioDuration);\r\n    }\r\n\r\n    private void addToRecentPlay() {\r\n        SharedPreferences shared1 = getSharedPreferences(CONSTANTS.PREF_KEY_LOGIN, Context.MODE_PRIVATE);\r\n        String UserID = (shared1.getString(CONSTANTS.PREF_KEY_UserID, \"\"));\r\n\r\n        if (BWSApplication.isNetworkConnected(ctx)) {\r\n            BWSApplication.showProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n            Call<SucessModel> listCall = APIClient.getClient().getRecentlyplayed(id, UserID);\r\n            listCall.enqueue(new Callback<SucessModel>() {\r\n                @Override\r\n                public void onResponse(Call<SucessModel> call, Response<SucessModel> response) {\r\n                    if (response.isSuccessful()) {\r\n                        BWSApplication.hideProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n                        SucessModel model = response.body();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call<SucessModel> call, Throwable t) {\r\n                    BWSApplication.hideProgressBar(binding.pbProgressBar, binding.progressBarHolder, activity);\r\n                }\r\n            });\r\n        } else {\r\n//            BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n        }\r\n    }\r\n\r\n    private void callBack() {\r\n        handler.removeCallbacks(UpdateSongTime);\r\n        if (ComeFromQueue.equalsIgnoreCase(\"1\")) {\r\n            Intent i = new Intent(ctx, AddQueueActivity.class);\r\n            i.putExtra(\"ID\", AudioId);\r\n            i.putExtra(\"play\", play);\r\n            startActivity(i);\r\n            finish();\r\n        } else if (ComeFromQueue.equalsIgnoreCase(\"0\") ||\r\n                ComeFromQueue.equalsIgnoreCase(\"\")) {\r\n            if (binding.llPause.getVisibility() == View.VISIBLE) {\r\n                isPause = false;\r\n            }\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson = new Gson();\r\n            String json = gson.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json);\r\n            editor.putInt(CONSTANTS.PREF_KEY_position, position);\r\n            editor.commit();\r\n            Intent i = new Intent(ctx, PlayWellnessActivity.class);\r\n            i.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n            startActivity(i);\r\n            finish();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n   /*     if (isPrepare && !isMediaStart) {\r\n            callMedia();\r\n        } else if ((isMediaStart || isPlaying()) && !isPause) {\r\n            binding.llPlay.setVisibility(View.GONE);\r\n            binding.llPause.setVisibility(View.VISIBLE);\r\n            binding.llProgressBar.setVisibility(View.GONE);\r\n            binding.progressBar.setVisibility(View.GONE);\r\n        } else {\r\n            binding.llPlay.setVisibility(View.VISIBLE);\r\n            binding.llPause.setVisibility(View.GONE);\r\n            binding.llProgressBar.setVisibility(View.GONE);\r\n            binding.progressBar.setVisibility(View.GONE);\r\n        }*/\r\n        super.onResume();\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        callBack();\r\n        super.onBackPressed();\r\n    }\r\n\r\n    public void updateProgressBar() {\r\n        handler.postDelayed(UpdateSongTime, 500);\r\n    }\r\n\r\n    @Override\r\n    public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n     /*   handler.removeCallbacks(UpdateSongTime);\r\n        if (isMediaStart) {\r\n            int totalDuration = getEndTime();\r\n            int currentPosition = progressToTimer(seekBar.getProgress(), totalDuration);\r\n\r\n            // forward or backward to certain seconds\r\n            SeekTo(currentPosition);\r\n        }\r\n        // update timer progress again\r\n        updateProgressBar();*/\r\n    }\r\n\r\n    @Override\r\n    public void onStartTrackingTouch(SeekBar seekBar) {\r\n        handler.removeCallbacks(UpdateSongTime);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStopTrackingTouch(SeekBar seekBar) {\r\n        handler.removeCallbacks(UpdateSongTime);\r\n        int totalDuration = getEndTime();\r\n\r\n        int currentPosition = progressToTimer(seekBar.getProgress(), totalDuration);\r\n\r\n        oTime = binding.simpleSeekbar.getProgress();\r\n        // forward or backward to certain seconds\r\n        SeekTo(currentPosition);\r\n\r\n        // update timer progress again\r\n        updateProgressBar();\r\n    }\r\n\r\n    @Override\r\n    public void requestDrag(RecyclerView.ViewHolder viewHolder) {\r\n        touchHelper.startDrag(viewHolder);\r\n    }\r\n\r\n /*   @Override\r\n    public void onAudioFocusChange(int i) {\r\n        switch (i) {\r\n            case AudioManager.AUDIOFOCUS_GAIN:\r\n            case AudioManager.AUDIOFOCUS_LOSS_TRANSIENT_CAN_DUCK:\r\n                // Resume your media player here\r\n                resumeMedia();\r\n                binding.llPlay.setVisibility(View.GONE);\r\n                binding.llPause.setVisibility(View.VISIBLE);\r\n                break;\r\n            case AudioManager.AUDIOFOCUS_LOSS:\r\n            case AudioManager.AUDIOFOCUS_LOSS_TRANSIENT:\r\n                if (isMediaStart) {\r\n                    pauseMedia();\r\n                    binding.llPlay.setVisibility(View.VISIBLE);\r\n                    binding.llPause.setVisibility(View.GONE);\r\n                }\r\n//                MusicService.pauseMedia();// Pause your media player here\r\n                break;\r\n        }\r\n    }*/\r\n\r\n    public class QueueAdapter extends RecyclerView.Adapter<QueueAdapter.MyViewHolder> implements ItemMoveCallback.ItemTouchHelperContract {\r\n        ArrayList<AddToQueueModel> listModelList;\r\n        Context ctx;\r\n        StartDragListener startDragListener;\r\n\r\n        public QueueAdapter(ArrayList<AddToQueueModel> listModelList, Context ctx, StartDragListener startDragListener) {\r\n            this.listModelList = listModelList;\r\n            this.ctx = ctx;\r\n            this.startDragListener = startDragListener;\r\n\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            QueueListLayoutBinding v = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext())\r\n                    , R.layout.queue_list_layout, parent, false);\r\n            return new MyViewHolder(v);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyViewHolder holder, int position1) {\r\n            AddToQueueModel listModel = listModelList.get(position1);\r\n\r\n            holder.binding.tvTitle.setText(listModel.getName());\r\n            holder.binding.tvTime.setText(listModel.getAudioDuration());\r\n            binding.tvCategory.setText(listModel.getAudiomastercat());\r\n\r\n            MeasureRatio measureRatio = BWSApplication.measureRatio(ctx, 0,\r\n                    1, 1, 0, 0);\r\n            holder.binding.ivRestaurantImage.getLayoutParams().height = (int) (measureRatio.getHeight() * measureRatio.getRatio());\r\n            holder.binding.ivRestaurantImage.getLayoutParams().width = (int) (measureRatio.getWidthImg() * measureRatio.getRatio());\r\n            holder.binding.ivRestaurantImage.setScaleType(ImageView.ScaleType.FIT_XY);\r\n            Glide.with(ctx).load(listModel.getImageFile()).thumbnail(0.05f)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL).skipMemoryCache(false).into(holder.binding.ivRestaurantImage);\r\n\r\n            holder.binding.llRemove.setOnClickListener(view -> callRemoveList(position1));\r\n            holder.binding.llSort.setOnTouchListener((v, event) -> {\r\n                if (event.getAction() ==\r\n                        MotionEvent.ACTION_DOWN) {\r\n                    startDragListener.requestDrag(holder);\r\n                }\r\n                if (event.getAction() ==\r\n                        MotionEvent.ACTION_UP) {\r\n                    startDragListener.requestDrag(holder);\r\n                }\r\n                return false;\r\n            });\r\n            holder.binding.llMainLayout.setOnClickListener(view -> {\r\n                if (BWSApplication.isNetworkConnected(ctx)) {\r\n                    if (isPrepare || isMediaStart || isPause) {\r\n                        stopMedia();\r\n                    }\r\n                    isPause = false;\r\n                    isPrepare = false;\r\n                    isMediaStart = false;\r\n\r\n                    setInIt(listModel.getName(), listModel.getAudiomastercat(),\r\n                            listModel.getImageFile(), listModel.getAudioDuration());\r\n                    if (queuePlay)\r\n                        addToQueueModelList.remove(mypos);\r\n                    savePrefQueue(position1, true, false, addToQueueModelList, ctx);\r\n                    position = position1;\r\n                    getPrepareShowData(position);\r\n                    callRemoveList1(position1);\r\n                } else {\r\n                    BWSApplication.showToast(getString(R.string.no_server_found), ctx);\r\n                }\r\n            });\r\n        }\r\n\r\n        public void callRemoveList1(int position) {\r\n            listModelList.remove(position);\r\n            notifyDataSetChanged();\r\n        }\r\n\r\n        public void callRemoveList(int position1) {\r\n            for (int i = 0; i < addToQueueModelList.size(); i++) {\r\n                if (addToQueueModelList.get(i).getName().equalsIgnoreCase(binding.tvName.getText().toString()))\r\n                    addToQueueModelList.remove(i);\r\n            }\r\n            setInIt(listModelList.get(position).getName(), listModelList.get(position).getAudiomastercat(),\r\n                    listModelList.get(position).getImageFile(), listModelList.get(position).getAudioDuration());\r\n            String Name = listModelList.get(position1).getName();\r\n            listModelList.remove(position1);\r\n       /*     for (int i = 0; i < addToQueueModelList.size(); i++) {\r\n                if (addToQueueModelList.get(i).getName().equalsIgnoreCase(Name))\r\n                    addToQueueModelList.remove(i);\r\n            }*/\r\n            notifyDataSetChanged();\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson = new Gson();\r\n            String json = gson.toJson(addToQueueModelList);\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json);\r\n            editor.commit();\r\n            BWSApplication.showToast(\"The audio has been removed from the queue\", ctx);\r\n            addToQueueModelList2 = listModelList;\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return listModelList.size();\r\n        }\r\n\r\n        @Override\r\n        public void onRowMoved(int fromPosition, int toPosition) {\r\n            if (fromPosition < toPosition) {\r\n                for (int i = fromPosition; i < toPosition; i++) {\r\n                    Collections.swap(listModelList, i, i + 1);\r\n                }\r\n            } else {\r\n                for (int i = fromPosition; i > toPosition; i--) {\r\n                    Collections.swap(listModelList, i, i - 1);\r\n                }\r\n            }\r\n            SharedPreferences shared = ctx.getSharedPreferences(CONSTANTS.PREF_KEY_AUDIO, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = shared.edit();\r\n            Gson gson = new Gson();\r\n            String json = \"\";\r\n            if (queuePlay) {\r\n                ArrayList<AddToQueueModel> listModelList1 = new ArrayList<>();\r\n                listModelList1.clear();\r\n                listModelList1 = listModelList;\r\n                listModelList1.add(addToQueueModelList.get(mypos));\r\n                json = gson.toJson(listModelList1);\r\n            } else {\r\n                json = gson.toJson(listModelList);\r\n            }\r\n            editor.putString(CONSTANTS.PREF_KEY_queueList, json);\r\n            editor.commit();\r\n            addToQueueModelList2 = listModelList;\r\n            notifyItemMoved(fromPosition, toPosition);\r\n\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onRowSelected(RecyclerView.ViewHolder myViewHolder) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onRowClear(RecyclerView.ViewHolder myViewHolder) {\r\n\r\n        }\r\n\r\n\r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            QueueListLayoutBinding binding;\r\n\r\n            public MyViewHolder(QueueListLayoutBinding binding) {\r\n                super(binding.getRoot());\r\n                this.binding = binding;\r\n            }\r\n        }\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/ViewQueueActivity.java	(revision 19473a2c81925b9c61c52b0b85e465485b4c4415)
-+++ app/src/main/java/com/brainwellnessspa/DashboardModule/Activities/ViewQueueActivity.java	(date 1602583198204)
-@@ -209,7 +209,7 @@
-         mAudioManager.requestAudioFocus(this, AudioManager.STREAM_MUSIC,
-                 AudioManager.AUDIOFOCUS_GAIN);*/
-         binding.rvQueueList.setFocusable(false);
--        binding.nestedScroll.requestFocus();
-+//        binding.nestedScroll.requestFocus();
- 
-         queuePlay = shared.getBoolean(CONSTANTS.PREF_KEY_queuePlay, false);
-         audioPlay = shared.getBoolean(CONSTANTS.PREF_KEY_audioPlay, true);
-Index: app/src/main/res/layout/activity_view_queue.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout>\r\n\r\n    <RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@color/dark_blue_gray\">\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/llFirst\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n            android:layout_marginTop=\"@dimen/_16sdp\"\r\n            android:weightSum=\"1\">\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/llBack\"\r\n                android:layout_width=\"@dimen/_0sdp\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"0.18\">\r\n\r\n                <ImageView\r\n                    android:layout_width=\"@dimen/_20sdp\"\r\n                    android:layout_height=\"@dimen/_20sdp\"\r\n                    android:layout_marginTop=\"@dimen/_10sdp\"\r\n                    android:contentDescription=\"@string/close_queue\"\r\n                    android:src=\"@drawable/ic_close_white_icon\"\r\n                    app:tint=\"@color/white\" />\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"@dimen/_0sdp\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"0.64\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tvCategory\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"@dimen/_6sdp\"\r\n                    android:ellipsize=\"end\"\r\n                    android:fontFamily=\"@font/montserrat_medium\"\r\n                    android:gravity=\"center\"\r\n                    android:maxLines=\"1\"\r\n                    android:textColor=\"@color/white\"\r\n                    android:textSize=\"@dimen/_13sdp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tvTitle\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"@dimen/_6sdp\"\r\n                    android:fontFamily=\"@font/montserrat_regular\"\r\n                    android:gravity=\"center\"\r\n                    android:textColor=\"@color/white\"\r\n                    android:textSize=\"@dimen/_16sdp\" />\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"@dimen/_0sdp\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"0.18\"\r\n                android:gravity=\"right\"\r\n                android:orientation=\"horizontal\" />\r\n\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_above=\"@id/rlThired\"\r\n            android:layout_below=\"@id/llFirst\"\r\n            android:layout_marginVertical=\"@dimen/_10sdp\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <androidx.core.widget.NestedScrollView\r\n                android:id=\"@+id/nestedScroll\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:overScrollMode=\"never\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"vertical\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                        android:layout_marginTop=\"@dimen/_6sdp\"\r\n                        android:fontFamily=\"@font/montserrat_bold\"\r\n                        android:gravity=\"start\"\r\n                        android:text=\"@string/Now_Playing\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"@dimen/_15sdp\" />\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/llNowPlaying\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"@dimen/_60sdp\"\r\n                        android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                        android:layout_marginVertical=\"@dimen/_12sdp\"\r\n                        android:orientation=\"horizontal\"\r\n                        android:weightSum=\"1\">\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"@dimen/_0sdp\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_gravity=\"center\"\r\n                            android:layout_weight=\"0.2\"\r\n                            android:gravity=\"center|start\">\r\n\r\n                            <androidx.cardview.widget.CardView\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:layout_marginHorizontal=\"@dimen/_10sdp\"\r\n                                android:layout_marginVertical=\"@dimen/_2sdp\"\r\n                                app:cardCornerRadius=\"@dimen/_10sdp\">\r\n\r\n                                <androidx.constraintlayout.widget.ConstraintLayout\r\n                                    android:id=\"@+id/title_layout\"\r\n                                    android:layout_width=\"match_parent\"\r\n                                    android:layout_height=\"match_parent\">\r\n\r\n                                    <ImageView\r\n                                        android:id=\"@+id/ivRestaurantImage\"\r\n                                        android:layout_width=\"match_parent\"\r\n                                        android:layout_height=\"match_parent\"\r\n                                        android:layout_marginLeft=\"-4dp\"\r\n                                        android:layout_marginRight=\"-16dp\"\r\n                                        android:scaleType=\"fitXY\" />\r\n                                </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n                            </androidx.cardview.widget.CardView>\r\n                        </LinearLayout>\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"@dimen/_0sdp\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginLeft=\"@dimen/_10sdp\"\r\n                            android:layout_weight=\"0.80\"\r\n                            android:orientation=\"vertical\">\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvName\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"@dimen/_6sdp\"\r\n                                android:ellipsize=\"end\"\r\n                                android:fontFamily=\"@font/montserrat_bold\"\r\n                                android:gravity=\"start\"\r\n                                android:maxLines=\"1\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"@dimen/_17sdp\" />\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/tvTime\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginTop=\"@dimen/_6sdp\"\r\n                                android:ellipsize=\"end\"\r\n                                android:fontFamily=\"@font/montserrat_medium\"\r\n                                android:gravity=\"start\"\r\n                                android:maxLines=\"1\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"@dimen/_13sdp\" />\r\n\r\n\r\n                        </LinearLayout>\r\n\r\n                    </LinearLayout>\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                        android:layout_marginTop=\"@dimen/_6sdp\"\r\n                        android:fontFamily=\"@font/montserrat_bold\"\r\n                        android:gravity=\"start\"\r\n                        android:text=\"@string/Next_in_queue\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"@dimen/_15sdp\" />\r\n\r\n                    <androidx.recyclerview.widget.RecyclerView\r\n                        android:id=\"@+id/rvQueueList\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:layout_marginHorizontal=\"@dimen/_12sdp\"\r\n                        android:nestedScrollingEnabled=\"true\"\r\n                        android:overScrollMode=\"never\"\r\n                        android:paddingTop=\"@dimen/_8sdp\"\r\n                        android:paddingBottom=\"@dimen/_8sdp\" />\r\n\r\n                </LinearLayout>\r\n            </androidx.core.widget.NestedScrollView>\r\n        </LinearLayout>\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/rlThired\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentBottom=\"true\"\r\n            android:layout_marginBottom=\"@dimen/_26sdp\">\r\n\r\n            <SeekBar\r\n                android:id=\"@+id/simpleSeekbar\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginHorizontal=\"@dimen/_4sdp\"\r\n                android:progressDrawable=\"@drawable/seek_bar_white\"\r\n                android:thumb=\"@drawable/ic_white_dot_icon\" />\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginHorizontal=\"@dimen/_16sdp\"\r\n                android:layout_marginTop=\"@dimen/_30sdp\"\r\n                android:weightSum=\"1\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center\" />\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llprev\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivprev\"\r\n                        android:layout_width=\"@dimen/_28sdp\"\r\n                        android:layout_height=\"@dimen/_28sdp\"\r\n                        android:src=\"@drawable/ic_backword_icon\"\r\n                        app:tint=\"@color/white\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llPlay\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center_horizontal\"\r\n                    android:visibility=\"gone\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivPlay\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:src=\"@drawable/ic_play_white_icon\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llProgressBar\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.24\"\r\n                    android:gravity=\"center_horizontal\"\r\n                    android:padding=\"@dimen/_2sdp\"\r\n                    android:visibility=\"gone\">\r\n\r\n                    <ProgressBar\r\n                        android:id=\"@+id/progressBar\"\r\n                        android:layout_width=\"0.00dp\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:layout_marginLeft=\"@dimen/_13sdp\"\r\n                        android:layout_marginTop=\"@dimen/_8sdp\"\r\n                        android:layout_marginBottom=\"@dimen/_8sdp\"\r\n                        android:layout_weight=\"0.13\"\r\n                        android:indeterminateTint=\"@color/white\"\r\n                        android:scaleType=\"fitXY\"\r\n                        android:visibility=\"gone\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llPause\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center_horizontal\"\r\n                    android:visibility=\"gone\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivPause\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:src=\"@drawable/ic_pause_white_icon\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/llnext\"\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/ivnext\"\r\n                        android:layout_width=\"@dimen/_28sdp\"\r\n                        android:layout_height=\"@dimen/_28sdp\"\r\n                        android:src=\"@drawable/ic_forward_icon\"\r\n                        app:tint=\"@color/white\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"@dimen/_0sdp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"0.2\"\r\n                    android:gravity=\"center\" />\r\n\r\n            </LinearLayout>\r\n        </RelativeLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:gravity=\"center\"\r\n            android:padding=\"@dimen/_60sdp\">\r\n\r\n            <ProgressBar\r\n                android:id=\"@+id/pbProgressBar\"\r\n                android:layout_width=\"@dimen/_50sdp\"\r\n                android:layout_height=\"@dimen/_50sdp\"\r\n                android:indeterminateTint=\"@color/blue\"\r\n                android:scaleType=\"centerInside\"\r\n                android:visibility=\"gone\" />\r\n\r\n        </LinearLayout>\r\n\r\n        <FrameLayout\r\n            android:id=\"@+id/progressBarHolder\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:alpha=\"0.4\"\r\n            android:animateLayoutChanges=\"true\"\r\n            android:background=\"#C0000000\"\r\n            android:visibility=\"gone\" />\r\n    </RelativeLayout>\r\n</layout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/res/layout/activity_view_queue.xml	(revision 19473a2c81925b9c61c52b0b85e465485b4c4415)
-+++ app/src/main/res/layout/activity_view_queue.xml	(date 1602583120234)
-@@ -8,316 +8,329 @@
-         android:background="@color/dark_blue_gray">
- 
-         <LinearLayout
--            android:id="@+id/llFirst"
--            android:layout_width="match_parent"
--            android:layout_height="wrap_content"
--            android:layout_marginHorizontal="@dimen/_16sdp"
--            android:layout_marginTop="@dimen/_16sdp"
--            android:weightSum="1">
-+            android:layout_width="match_parent"
-+            android:layout_height="match_parent"
-+            android:orientation="vertical"
-+            android:weightSum="1">
-+
-+            <LinearLayout
-+                android:id="@+id/llFirst"
-+                android:layout_width="match_parent"
-+                android:layout_height="0dp"
-+                android:layout_marginHorizontal="@dimen/_16sdp"
-+                android:layout_marginTop="@dimen/_16sdp"
-+                android:layout_weight="0.1"
-+                android:weightSum="1">
- 
--            <LinearLayout
--                android:id="@+id/llBack"
--                android:layout_width="@dimen/_0sdp"
--                android:layout_height="match_parent"
--                android:layout_weight="0.18">
-+                <LinearLayout
-+                    android:id="@+id/llBack"
-+                    android:layout_width="@dimen/_0sdp"
-+                    android:layout_height="match_parent"
-+                    android:layout_weight="0.18">
- 
--                <ImageView
--                    android:layout_width="@dimen/_20sdp"
--                    android:layout_height="@dimen/_20sdp"
--                    android:layout_marginTop="@dimen/_10sdp"
--                    android:contentDescription="@string/close_queue"
--                    android:src="@drawable/ic_close_white_icon"
--                    app:tint="@color/white" />
--            </LinearLayout>
-+                    <ImageView
-+                        android:layout_width="@dimen/_20sdp"
-+                        android:layout_height="@dimen/_20sdp"
-+                        android:layout_marginTop="@dimen/_10sdp"
-+                        android:contentDescription="@string/close_queue"
-+                        android:src="@drawable/ic_close_white_icon"
-+                        app:tint="@color/white" />
-+                </LinearLayout>
- 
--            <LinearLayout
--                android:layout_width="@dimen/_0sdp"
--                android:layout_height="match_parent"
--                android:layout_weight="0.64"
--                android:orientation="vertical">
-+                <LinearLayout
-+                    android:layout_width="@dimen/_0sdp"
-+                    android:layout_height="match_parent"
-+                    android:layout_weight="0.64"
-+                    android:orientation="vertical">
- 
--                <TextView
--                    android:id="@+id/tvCategory"
--                    android:layout_width="match_parent"
--                    android:layout_height="wrap_content"
--                    android:layout_marginTop="@dimen/_6sdp"
--                    android:ellipsize="end"
--                    android:fontFamily="@font/montserrat_medium"
--                    android:gravity="center"
--                    android:maxLines="1"
--                    android:textColor="@color/white"
--                    android:textSize="@dimen/_13sdp" />
-+                    <TextView
-+                        android:id="@+id/tvCategory"
-+                        android:layout_width="match_parent"
-+                        android:layout_height="wrap_content"
-+                        android:layout_marginTop="@dimen/_6sdp"
-+                        android:ellipsize="end"
-+                        android:fontFamily="@font/montserrat_medium"
-+                        android:gravity="center"
-+                        android:maxLines="1"
-+                        android:textColor="@color/white"
-+                        android:textSize="@dimen/_13sdp" />
- 
--                <TextView
--                    android:id="@+id/tvTitle"
--                    android:layout_width="match_parent"
--                    android:layout_height="wrap_content"
--                    android:layout_marginTop="@dimen/_6sdp"
--                    android:fontFamily="@font/montserrat_regular"
--                    android:gravity="center"
--                    android:textColor="@color/white"
--                    android:textSize="@dimen/_16sdp" />
-+                    <TextView
-+                        android:id="@+id/tvTitle"
-+                        android:layout_width="match_parent"
-+                        android:layout_height="wrap_content"
-+                        android:layout_marginTop="@dimen/_6sdp"
-+                        android:fontFamily="@font/montserrat_regular"
-+                        android:gravity="center"
-+                        android:textColor="@color/white"
-+                        android:textSize="@dimen/_16sdp" />
- 
--            </LinearLayout>
-+                </LinearLayout>
- 
--            <LinearLayout
--                android:layout_width="@dimen/_0sdp"
--                android:layout_height="match_parent"
--                android:layout_weight="0.18"
--                android:gravity="right"
--                android:orientation="horizontal" />
-+                <LinearLayout
-+                    android:layout_width="@dimen/_0sdp"
-+                    android:layout_height="match_parent"
-+                    android:layout_weight="0.18"
-+                    android:gravity="right"
-+                    android:orientation="horizontal" />
- 
--        </LinearLayout>
-+            </LinearLayout>
- 
--        <LinearLayout
--            android:layout_width="match_parent"
--            android:layout_height="match_parent"
--            android:layout_above="@id/rlThired"
--            android:layout_below="@id/llFirst"
--            android:layout_marginVertical="@dimen/_10sdp"
--            android:orientation="vertical">
--
--            <androidx.core.widget.NestedScrollView
--                android:id="@+id/nestedScroll"
--                android:layout_width="match_parent"
--                android:layout_height="match_parent"
--                android:overScrollMode="never">
-+            <LinearLayout
-+                android:layout_width="match_parent"
-+                android:layout_height="0dp"
-+                android:layout_weight="0.74"
-+                android:layout_above="@id/rlThired"
-+                android:layout_below="@id/llFirst"
-+                android:layout_marginVertical="@dimen/_10sdp"
-+                android:orientation="vertical">
-+<!--
-+                <androidx.core.widget.NestedScrollView
-+                    android:id="@+id/nestedScroll"
-+                    android:layout_width="match_parent"
-+                    android:layout_height="match_parent"
-+                    android:overScrollMode="never">-->
- 
--                <LinearLayout
--                    android:layout_width="match_parent"
--                    android:layout_height="match_parent"
--                    android:orientation="vertical">
-+                    <LinearLayout
-+                        android:layout_width="match_parent"
-+                        android:layout_height="match_parent"
-+                        android:orientation="vertical">
- 
--                    <TextView
--                        android:layout_width="match_parent"
--                        android:layout_height="wrap_content"
--                        android:layout_marginHorizontal="@dimen/_16sdp"
--                        android:layout_marginTop="@dimen/_6sdp"
--                        android:fontFamily="@font/montserrat_bold"
--                        android:gravity="start"
--                        android:text="@string/Now_Playing"
--                        android:textColor="@color/white"
--                        android:textSize="@dimen/_15sdp" />
-+                        <TextView
-+                            android:layout_width="match_parent"
-+                            android:layout_height="wrap_content"
-+                            android:layout_marginHorizontal="@dimen/_16sdp"
-+                            android:layout_marginTop="@dimen/_6sdp"
-+                            android:fontFamily="@font/montserrat_bold"
-+                            android:gravity="start"
-+                            android:text="@string/Now_Playing"
-+                            android:textColor="@color/white"
-+                            android:textSize="@dimen/_15sdp" />
- 
--                    <LinearLayout
--                        android:id="@+id/llNowPlaying"
--                        android:layout_width="match_parent"
--                        android:layout_height="@dimen/_60sdp"
--                        android:layout_marginHorizontal="@dimen/_16sdp"
--                        android:layout_marginVertical="@dimen/_12sdp"
--                        android:orientation="horizontal"
--                        android:weightSum="1">
-+                        <LinearLayout
-+                            android:id="@+id/llNowPlaying"
-+                            android:layout_width="match_parent"
-+                            android:layout_height="@dimen/_60sdp"
-+                            android:layout_marginHorizontal="@dimen/_16sdp"
-+                            android:layout_marginVertical="@dimen/_12sdp"
-+                            android:orientation="horizontal"
-+                            android:weightSum="1">
- 
--                        <LinearLayout
--                            android:layout_width="@dimen/_0sdp"
--                            android:layout_height="wrap_content"
--                            android:layout_gravity="center"
--                            android:layout_weight="0.2"
--                            android:gravity="center|start">
-+                            <LinearLayout
-+                                android:layout_width="@dimen/_0sdp"
-+                                android:layout_height="wrap_content"
-+                                android:layout_gravity="center"
-+                                android:layout_weight="0.2"
-+                                android:gravity="center|start">
- 
--                            <androidx.cardview.widget.CardView
--                                android:layout_width="match_parent"
--                                android:layout_height="match_parent"
--                                android:layout_marginHorizontal="@dimen/_10sdp"
--                                android:layout_marginVertical="@dimen/_2sdp"
--                                app:cardCornerRadius="@dimen/_10sdp">
-+                                <androidx.cardview.widget.CardView
-+                                    android:layout_width="match_parent"
-+                                    android:layout_height="match_parent"
-+                                    android:layout_marginHorizontal="@dimen/_10sdp"
-+                                    android:layout_marginVertical="@dimen/_2sdp"
-+                                    app:cardCornerRadius="@dimen/_10sdp">
- 
--                                <androidx.constraintlayout.widget.ConstraintLayout
--                                    android:id="@+id/title_layout"
--                                    android:layout_width="match_parent"
--                                    android:layout_height="match_parent">
-+                                    <androidx.constraintlayout.widget.ConstraintLayout
-+                                        android:id="@+id/title_layout"
-+                                        android:layout_width="match_parent"
-+                                        android:layout_height="match_parent">
- 
--                                    <ImageView
--                                        android:id="@+id/ivRestaurantImage"
--                                        android:layout_width="match_parent"
--                                        android:layout_height="match_parent"
--                                        android:layout_marginLeft="-4dp"
--                                        android:layout_marginRight="-16dp"
--                                        android:scaleType="fitXY" />
--                                </androidx.constraintlayout.widget.ConstraintLayout>
-+                                        <ImageView
-+                                            android:id="@+id/ivRestaurantImage"
-+                                            android:layout_width="match_parent"
-+                                            android:layout_height="match_parent"
-+                                            android:layout_marginLeft="-4dp"
-+                                            android:layout_marginRight="-16dp"
-+                                            android:scaleType="fitXY" />
-+                                    </androidx.constraintlayout.widget.ConstraintLayout>
- 
--                            </androidx.cardview.widget.CardView>
--                        </LinearLayout>
-+                                </androidx.cardview.widget.CardView>
-+                            </LinearLayout>
- 
--                        <LinearLayout
--                            android:layout_width="@dimen/_0sdp"
--                            android:layout_height="wrap_content"
--                            android:layout_marginLeft="@dimen/_10sdp"
--                            android:layout_weight="0.80"
--                            android:orientation="vertical">
-+                            <LinearLayout
-+                                android:layout_width="@dimen/_0sdp"
-+                                android:layout_height="wrap_content"
-+                                android:layout_marginLeft="@dimen/_10sdp"
-+                                android:layout_weight="0.80"
-+                                android:orientation="vertical">
- 
--                            <TextView
--                                android:id="@+id/tvName"
--                                android:layout_width="match_parent"
--                                android:layout_height="wrap_content"
--                                android:layout_marginTop="@dimen/_6sdp"
--                                android:ellipsize="end"
--                                android:fontFamily="@font/montserrat_bold"
--                                android:gravity="start"
--                                android:maxLines="1"
--                                android:textColor="@color/white"
--                                android:textSize="@dimen/_17sdp" />
-+                                <TextView
-+                                    android:id="@+id/tvName"
-+                                    android:layout_width="match_parent"
-+                                    android:layout_height="wrap_content"
-+                                    android:layout_marginTop="@dimen/_6sdp"
-+                                    android:ellipsize="end"
-+                                    android:fontFamily="@font/montserrat_bold"
-+                                    android:gravity="start"
-+                                    android:maxLines="1"
-+                                    android:textColor="@color/white"
-+                                    android:textSize="@dimen/_17sdp" />
- 
--                            <TextView
--                                android:id="@+id/tvTime"
--                                android:layout_width="match_parent"
--                                android:layout_height="wrap_content"
--                                android:layout_marginTop="@dimen/_6sdp"
--                                android:ellipsize="end"
--                                android:fontFamily="@font/montserrat_medium"
--                                android:gravity="start"
--                                android:maxLines="1"
--                                android:textColor="@color/white"
--                                android:textSize="@dimen/_13sdp" />
-+                                <TextView
-+                                    android:id="@+id/tvTime"
-+                                    android:layout_width="match_parent"
-+                                    android:layout_height="wrap_content"
-+                                    android:layout_marginTop="@dimen/_6sdp"
-+                                    android:ellipsize="end"
-+                                    android:fontFamily="@font/montserrat_medium"
-+                                    android:gravity="start"
-+                                    android:maxLines="1"
-+                                    android:textColor="@color/white"
-+                                    android:textSize="@dimen/_13sdp" />
- 
- 
--                        </LinearLayout>
-+                            </LinearLayout>
- 
--                    </LinearLayout>
-+                        </LinearLayout>
- 
--                    <TextView
--                        android:layout_width="match_parent"
--                        android:layout_height="wrap_content"
--                        android:layout_marginHorizontal="@dimen/_16sdp"
--                        android:layout_marginTop="@dimen/_6sdp"
--                        android:fontFamily="@font/montserrat_bold"
--                        android:gravity="start"
--                        android:text="@string/Next_in_queue"
--                        android:textColor="@color/white"
--                        android:textSize="@dimen/_15sdp" />
-+                        <TextView
-+                            android:layout_width="match_parent"
-+                            android:layout_height="wrap_content"
-+                            android:layout_marginHorizontal="@dimen/_16sdp"
-+                            android:layout_marginTop="@dimen/_6sdp"
-+                            android:fontFamily="@font/montserrat_bold"
-+                            android:gravity="start"
-+                            android:text="@string/Next_in_queue"
-+                            android:textColor="@color/white"
-+                            android:textSize="@dimen/_15sdp" />
- 
--                    <androidx.recyclerview.widget.RecyclerView
--                        android:id="@+id/rvQueueList"
--                        android:layout_width="match_parent"
--                        android:layout_height="match_parent"
--                        android:layout_marginHorizontal="@dimen/_12sdp"
--                        android:nestedScrollingEnabled="true"
--                        android:overScrollMode="never"
--                        android:paddingTop="@dimen/_8sdp"
--                        android:paddingBottom="@dimen/_8sdp" />
-+                        <androidx.recyclerview.widget.RecyclerView
-+                            android:id="@+id/rvQueueList"
-+                            android:layout_width="match_parent"
-+                            android:layout_height="match_parent"
-+                            android:layout_marginHorizontal="@dimen/_12sdp"
-+                            android:nestedScrollingEnabled="true"
-+                            android:overScrollMode="never"
-+                            android:paddingTop="@dimen/_8sdp"
-+                            android:paddingBottom="@dimen/_8sdp" />
- 
--                </LinearLayout>
--            </androidx.core.widget.NestedScrollView>
--        </LinearLayout>
-+                    </LinearLayout>
-+<!--                </androidx.core.widget.NestedScrollView>-->
-+            </LinearLayout>
- 
--        <RelativeLayout
--            android:id="@+id/rlThired"
--            android:layout_width="match_parent"
--            android:layout_height="wrap_content"
--            android:layout_alignParentBottom="true"
--            android:layout_marginBottom="@dimen/_26sdp">
-+            <RelativeLayout
-+                android:id="@+id/rlThired"
-+                android:layout_width="match_parent"
-+                android:layout_height="0dp"
-+                android:layout_weight="0.16"
-+                android:layout_alignParentBottom="true"
-+                android:layout_marginBottom="@dimen/_26sdp">
- 
--            <SeekBar
--                android:id="@+id/simpleSeekbar"
--                android:layout_width="match_parent"
--                android:layout_height="wrap_content"
--                android:layout_marginHorizontal="@dimen/_4sdp"
--                android:progressDrawable="@drawable/seek_bar_white"
--                android:thumb="@drawable/ic_white_dot_icon" />
-+                <SeekBar
-+                    android:id="@+id/simpleSeekbar"
-+                    android:layout_width="match_parent"
-+                    android:layout_height="wrap_content"
-+                    android:layout_marginHorizontal="@dimen/_4sdp"
-+                    android:progressDrawable="@drawable/seek_bar_white"
-+                    android:thumb="@drawable/ic_white_dot_icon" />
- 
--            <LinearLayout
--                android:layout_width="match_parent"
--                android:layout_height="wrap_content"
--                android:layout_marginHorizontal="@dimen/_16sdp"
--                android:layout_marginTop="@dimen/_30sdp"
--                android:weightSum="1">
-+                <LinearLayout
-+                    android:layout_width="match_parent"
-+                    android:layout_height="wrap_content"
-+                    android:layout_marginHorizontal="@dimen/_16sdp"
-+                    android:layout_marginTop="@dimen/_30sdp"
-+                    android:weightSum="1">
- 
--                <LinearLayout
--                    android:layout_width="@dimen/_0sdp"
--                    android:layout_height="match_parent"
--                    android:layout_weight="0.2"
--                    android:gravity="center" />
-+                    <LinearLayout
-+                        android:layout_width="@dimen/_0sdp"
-+                        android:layout_height="match_parent"
-+                        android:layout_weight="0.2"
-+                        android:gravity="center" />
- 
--                <LinearLayout
--                    android:id="@+id/llprev"
--                    android:layout_width="@dimen/_0sdp"
--                    android:layout_height="match_parent"
--                    android:layout_weight="0.2"
--                    android:gravity="center">
-+                    <LinearLayout
-+                        android:id="@+id/llprev"
-+                        android:layout_width="@dimen/_0sdp"
-+                        android:layout_height="match_parent"
-+                        android:layout_weight="0.2"
-+                        android:gravity="center">
- 
--                    <ImageView
--                        android:id="@+id/ivprev"
--                        android:layout_width="@dimen/_28sdp"
--                        android:layout_height="@dimen/_28sdp"
--                        android:src="@drawable/ic_backword_icon"
--                        app:tint="@color/white" />
--                </LinearLayout>
-+                        <ImageView
-+                            android:id="@+id/ivprev"
-+                            android:layout_width="@dimen/_28sdp"
-+                            android:layout_height="@dimen/_28sdp"
-+                            android:src="@drawable/ic_backword_icon"
-+                            app:tint="@color/white" />
-+                    </LinearLayout>
- 
--                <LinearLayout
--                    android:id="@+id/llPlay"
--                    android:layout_width="@dimen/_0sdp"
--                    android:layout_height="match_parent"
--                    android:layout_weight="0.2"
--                    android:gravity="center_horizontal"
--                    android:visibility="gone">
-+                    <LinearLayout
-+                        android:id="@+id/llPlay"
-+                        android:layout_width="@dimen/_0sdp"
-+                        android:layout_height="match_parent"
-+                        android:layout_weight="0.2"
-+                        android:gravity="center_horizontal"
-+                        android:visibility="gone">
- 
--                    <ImageView
--                        android:id="@+id/ivPlay"
--                        android:layout_width="wrap_content"
--                        android:layout_height="wrap_content"
--                        android:src="@drawable/ic_play_white_icon" />
--                </LinearLayout>
-+                        <ImageView
-+                            android:id="@+id/ivPlay"
-+                            android:layout_width="wrap_content"
-+                            android:layout_height="wrap_content"
-+                            android:src="@drawable/ic_play_white_icon" />
-+                    </LinearLayout>
- 
--                <LinearLayout
--                    android:id="@+id/llProgressBar"
--                    android:layout_width="@dimen/_0sdp"
--                    android:layout_height="match_parent"
--                    android:layout_weight="0.24"
--                    android:gravity="center_horizontal"
--                    android:padding="@dimen/_2sdp"
--                    android:visibility="gone">
-+                    <LinearLayout
-+                        android:id="@+id/llProgressBar"
-+                        android:layout_width="@dimen/_0sdp"
-+                        android:layout_height="match_parent"
-+                        android:layout_weight="0.24"
-+                        android:gravity="center_horizontal"
-+                        android:padding="@dimen/_2sdp"
-+                        android:visibility="gone">
- 
--                    <ProgressBar
--                        android:id="@+id/progressBar"
--                        android:layout_width="0.00dp"
--                        android:layout_height="match_parent"
--                        android:layout_marginLeft="@dimen/_13sdp"
--                        android:layout_marginTop="@dimen/_8sdp"
--                        android:layout_marginBottom="@dimen/_8sdp"
--                        android:layout_weight="0.13"
--                        android:indeterminateTint="@color/white"
--                        android:scaleType="fitXY"
--                        android:visibility="gone" />
--                </LinearLayout>
-+                        <ProgressBar
-+                            android:id="@+id/progressBar"
-+                            android:layout_width="0.00dp"
-+                            android:layout_height="match_parent"
-+                            android:layout_marginLeft="@dimen/_13sdp"
-+                            android:layout_marginTop="@dimen/_8sdp"
-+                            android:layout_marginBottom="@dimen/_8sdp"
-+                            android:layout_weight="0.13"
-+                            android:indeterminateTint="@color/white"
-+                            android:scaleType="fitXY"
-+                            android:visibility="gone" />
-+                    </LinearLayout>
- 
--                <LinearLayout
--                    android:id="@+id/llPause"
--                    android:layout_width="@dimen/_0sdp"
--                    android:layout_height="match_parent"
--                    android:layout_weight="0.2"
--                    android:gravity="center_horizontal"
--                    android:visibility="gone">
-+                    <LinearLayout
-+                        android:id="@+id/llPause"
-+                        android:layout_width="@dimen/_0sdp"
-+                        android:layout_height="match_parent"
-+                        android:layout_weight="0.2"
-+                        android:gravity="center_horizontal"
-+                        android:visibility="gone">
- 
--                    <ImageView
--                        android:id="@+id/ivPause"
--                        android:layout_width="wrap_content"
--                        android:layout_height="wrap_content"
--                        android:src="@drawable/ic_pause_white_icon" />
--                </LinearLayout>
-+                        <ImageView
-+                            android:id="@+id/ivPause"
-+                            android:layout_width="wrap_content"
-+                            android:layout_height="wrap_content"
-+                            android:src="@drawable/ic_pause_white_icon" />
-+                    </LinearLayout>
- 
--                <LinearLayout
--                    android:id="@+id/llnext"
--                    android:layout_width="@dimen/_0sdp"
--                    android:layout_height="match_parent"
--                    android:layout_weight="0.2"
--                    android:gravity="center">
-+                    <LinearLayout
-+                        android:id="@+id/llnext"
-+                        android:layout_width="@dimen/_0sdp"
-+                        android:layout_height="match_parent"
-+                        android:layout_weight="0.2"
-+                        android:gravity="center">
- 
--                    <ImageView
--                        android:id="@+id/ivnext"
--                        android:layout_width="@dimen/_28sdp"
--                        android:layout_height="@dimen/_28sdp"
--                        android:src="@drawable/ic_forward_icon"
--                        app:tint="@color/white" />
--                </LinearLayout>
-+                        <ImageView
-+                            android:id="@+id/ivnext"
-+                            android:layout_width="@dimen/_28sdp"
-+                            android:layout_height="@dimen/_28sdp"
-+                            android:src="@drawable/ic_forward_icon"
-+                            app:tint="@color/white" />
-+                    </LinearLayout>
- 
--                <LinearLayout
--                    android:layout_width="@dimen/_0sdp"
--                    android:layout_height="match_parent"
--                    android:layout_weight="0.2"
--                    android:gravity="center" />
-+                    <LinearLayout
-+                        android:layout_width="@dimen/_0sdp"
-+                        android:layout_height="match_parent"
-+                        android:layout_weight="0.2"
-+                        android:gravity="center" />
- 
--            </LinearLayout>
--        </RelativeLayout>
-+                </LinearLayout>
-+            </RelativeLayout>
-+        </LinearLayout>
-+
-+
-+
- 
-         <LinearLayout
-             android:layout_width="match_parent"
Index: .idea/gradle.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"GradleMigrationSettings\" migrationVersion=\"1\" />\r\n  <component name=\"GradleSettings\">\r\n    <option name=\"linkedExternalProjectsSettings\">\r\n      <GradleProjectSettings>\r\n        <option name=\"testRunner\" value=\"PLATFORM\" />\r\n        <option name=\"distributionType\" value=\"DEFAULT_WRAPPED\" />\r\n        <option name=\"externalProjectPath\" value=\"$PROJECT_DIR$\" />\r\n        <option name=\"gradleJvm\" value=\"1.8\" />\r\n        <option name=\"modules\">\r\n          <set>\r\n            <option value=\"$PROJECT_DIR$\" />\r\n            <option value=\"$PROJECT_DIR$/app\" />\r\n          </set>\r\n        </option>\r\n        <option name=\"resolveModulePerSourceSet\" value=\"false\" />\r\n      </GradleProjectSettings>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/gradle.xml	(revision 440f75905b1ebe1f5368d33bbec6568d433eec1c)
+++ .idea/gradle.xml	(date 1603207009479)
@@ -15,6 +15,7 @@
           </set>
         </option>
         <option name="resolveModulePerSourceSet" value="false" />
+        <option name="useQualifiedModuleNames" value="true" />
       </GradleProjectSettings>
     </option>
   </component>
